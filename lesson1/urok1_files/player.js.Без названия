(()=>{var e,t={9669:(e,t,r)=>{e.exports=r(1609)},5448:(e,t,r)=>{"use strict";var n=r(4867),i=r(6026),a=r(4372),s=r(5327),o=r(4097),l=r(4109),c=r(7985),u=r(5061);e.exports=function(e){return new Promise((function(t,r){var d=e.data,h=e.headers,f=e.responseType;n.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(g+":"+m)}var A=o(e.baseURL,e.url);function v(){if(p){var n="getAllResponseHeaders"in p?l(p.getAllResponseHeaders()):null,a={data:f&&"text"!==f&&"json"!==f?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};i(t,r,a),p=null}}if(p.open(e.method.toUpperCase(),s(A,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(v)},p.onabort=function(){p&&(r(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){r(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=(e.withCredentials||c(A))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;y&&(h[e.xsrfHeaderName]=y)}"setRequestHeader"in p&&n.forEach(h,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),f&&"json"!==f&&(p.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),r(e),p=null)})),d||(d=null),p.send(d)}))}},1609:(e,t,r)=>{"use strict";var n=r(4867),i=r(1849),a=r(321),s=r(7185);function o(e){var t=new a(e),r=i(a.prototype.request,t);return n.extend(r,a.prototype,t),n.extend(r,t),r}var l=o(r(5655));l.Axios=a,l.create=function(e){return o(s(l.defaults,e))},l.Cancel=r(5263),l.CancelToken=r(4972),l.isCancel=r(6502),l.all=function(e){return Promise.all(e)},l.spread=r(8713),l.isAxiosError=r(6268),e.exports=l,e.exports.default=l},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,r)=>{"use strict";var n=r(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(4867),i=r(5327),a=r(782),s=r(3572),o=r(7185),l=r(4875),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!n){var u=[s,void 0];for(Array.prototype.unshift.apply(u,r),u=u.concat(a),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var d=e;r.length;){var h=r.shift(),f=r.shift();try{d=h(d)}catch(e){f(e);break}}try{i=s(d)}catch(e){return Promise.reject(e)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},u.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,n){return this.request(o(n||{},{method:e,url:t,data:r}))}})),e.exports=u},782:(e,t,r)=>{"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,r)=>{"use strict";var n=r(1793),i=r(7303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},5061:(e,t,r)=>{"use strict";var n=r(481);e.exports=function(e,t,r,i,a){var s=new Error(e);return n(s,t,r,i,a)}},3572:(e,t,r)=>{"use strict";var n=r(4867),i=r(8527),a=r(6502),s=r(5655);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return o(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(o(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function l(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function c(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=l(void 0,t[e]))})),n.forEach(a,c),n.forEach(s,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=l(void 0,e[i])):r[i]=l(void 0,t[i])})),n.forEach(o,(function(n){n in t?r[n]=l(e[n],t[n]):n in e&&(r[n]=l(void 0,e[n]))}));var u=i.concat(a).concat(s).concat(o),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return n.forEach(d,c),r}},6026:(e,t,r)=>{"use strict";var n=r(5061);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var n=r(4867),i=r(5655);e.exports=function(e,t,r){var a=this||i;return n.forEach(r,(function(r){e=r.call(a,e,t)})),e}},5655:(e,t,r)=>{"use strict";var n=r(4155),i=r(4867),a=r(6016),s=r(481),o={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n&&"[object process]"===Object.prototype.toString.call(n))&&(c=r(5448)),c),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(o)})),e.exports=u},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var n=r(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var a;if(r)a=r(t);else if(n.isURLSearchParams(t))a=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),a=s.join("&")}if(a){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,a,s){var o=[];o.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),n.isString(i)&&o.push("path="+i),n.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},4109:(e,t,r)=>{"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,a,s={};return e?(n.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=n.trim(e.substr(0,a)).toLowerCase(),r=n.trim(e.substr(a+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,r)=>{"use strict";var n=r(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var a={},s=n.version.split(".");function o(e,t){for(var r=t?t.split("."):s,n=e.split("."),i=0;i<3;i++){if(r[i]>n[i])return!0;if(r[i]<n[i])return!1}return!1}i.transitional=function(e,t,r){var i=t&&o(t);function s(e,t){return"[Axios v"+n.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,o){if(!1===e)throw new Error(s(n," has been removed in "+t));return i&&!a[n]&&(a[n]=!0,console.warn(s(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var a=n[i],s=t[a];if(s){var o=e[a],l=void 0===o||s(o,a,e);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==r)throw Error("Unknown option "+a)}},validators:i}},4867:(e,t,r)=>{"use strict";var n=r(1849),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function o(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:o,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){l(t[n])&&l(r)?t[n]=e(t[n],r):l(r)?t[n]=e({},r):a(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},355:(e,t,r)=>{"use strict";var n={};function i(e,t){const r=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)r[n[e]]=!0;return t?e=>!!r[e.toLowerCase()]:e=>!!r[e]}r.r(n),r.d(n,{BaseTransition:()=>An,BaseTransitionPropsValidators:()=>mn,Comment:()=>wa,EffectScope:()=>he,Fragment:()=>xa,KeepAlive:()=>Ln,ReactiveEffect:()=>we,Static:()=>Sa,Suspense:()=>Qr,Teleport:()=>ka,Text:()=>Ea,Transition:()=>co,TransitionGroup:()=>Lo,VueElement:()=>ro,assertNumber:()=>or,callWithAsyncErrorHandling:()=>cr,callWithErrorHandling:()=>lr,camelize:()=>P,capitalize:()=>F,cloneVNode:()=>$a,compatUtils:()=>Fs,computed:()=>ws,createApp:()=>ol,createBlock:()=>Na,createCommentVNode:()=>Ja,createElementBlock:()=>Fa,createElementVNode:()=>Ka,createHydrationRenderer:()=>ga,createPropsRestProxy:()=>wi,createRenderer:()=>pa,createSSRApp:()=>ll,createSlots:()=>ii,createStaticVNode:()=>Xa,createTextVNode:()=>Qa,createVNode:()=>qa,customRef:()=>Zt,defineAsyncComponent:()=>En,defineComponent:()=>Tn,defineCustomElement:()=>Zs,defineEmits:()=>pi,defineExpose:()=>gi,defineModel:()=>vi,defineOptions:()=>mi,defineProps:()=>fi,defineSSRCustomElement:()=>eo,defineSlots:()=>Ai,devtools:()=>Lr,effect:()=>Le,effectScope:()=>fe,getCurrentInstance:()=>ls,getCurrentScope:()=>ge,getTransitionRawChildren:()=>kn,guardReactiveProps:()=>Ya,h:()=>Ss,handleError:()=>ur,hasInjectionContext:()=>Wi,hydrate:()=>sl,initCustomFormatter:()=>Ds,initDirectivesForSSR:()=>dl,inject:()=>qi,isMemoSame:()=>Bs,isProxy:()=>Mt,isReactive:()=>It,isReadonly:()=>Bt,isRef:()=>Vt,isRuntimeOnly:()=>Cs,isShallow:()=>Pt,isVNode:()=>Ua,markRaw:()=>Ft,mergeDefaults:()=>xi,mergeModels:()=>Ei,mergeProps:()=>rs,nextTick:()=>br,normalizeClass:()=>Z,normalizeProps:()=>ee,normalizeStyle:()=>Y,onActivated:()=>Dn,onBeforeMount:()=>Un,onBeforeUnmount:()=>zn,onBeforeUpdate:()=>Hn,onDeactivated:()=>In,onErrorCaptured:()=>Yn,onMounted:()=>Gn,onRenderTracked:()=>Wn,onRenderTriggered:()=>qn,onScopeDispose:()=>me,onServerPrefetch:()=>Kn,onUnmounted:()=>jn,onUpdated:()=>Vn,openBlock:()=>Da,popScopeId:()=>Gr,provide:()=>Ki,proxyRefs:()=>Xt,pushScopeId:()=>Ur,queuePostFlushCb:()=>kr,reactive:()=>wt,readonly:()=>Lt,ref:()=>zt,registerRuntimeCompiler:()=>bs,render:()=>al,renderList:()=>ni,renderSlot:()=>ai,resolveComponent:()=>Xn,resolveDirective:()=>ei,resolveDynamicComponent:()=>Zn,resolveFilter:()=>Os,resolveTransitionHooks:()=>yn,setBlockTracking:()=>Ma,setDevtoolsHook:()=>Ir,setTransitionHooks:()=>_n,shallowReactive:()=>St,shallowReadonly:()=>Rt,shallowRef:()=>jt,ssrContextKey:()=>Ls,ssrUtils:()=>Ms,stop:()=>Re,toDisplayString:()=>ce,toHandlerKey:()=>N,toHandlers:()=>oi,toRaw:()=>Ot,toRef:()=>nr,toRefs:()=>er,toValue:()=>$t,transformVNodeArgs:()=>Ha,triggerRef:()=>Wt,unref:()=>Yt,useAttrs:()=>Ci,useCssModule:()=>no,useCssVars:()=>io,useModel:()=>_i,useSSRContext:()=>Rs,useSlots:()=>bi,useTransitionState:()=>pn,vModelCheckbox:()=>Fo,vModelDynamic:()=>jo,vModelRadio:()=>Uo,vModelSelect:()=>Go,vModelText:()=>Oo,vShow:()=>Jo,version:()=>Ps,warn:()=>sr,watch:()=>on,watchEffect:()=>rn,watchPostEffect:()=>nn,watchSyncEffect:()=>an,withAsyncContext:()=>Si,withCtx:()=>Vr,withDefaults:()=>yi,withDirectives:()=>hn,withKeys:()=>Xo,withMemo:()=>Is,withModifiers:()=>$o,withScopeId:()=>Hr});const a={},s=[],o=()=>{},l=()=>!1,c=/^on[^a-z]/,u=e=>c.test(e),d=e=>e.startsWith("onUpdate:"),h=Object.assign,f=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},p=Object.prototype.hasOwnProperty,g=(e,t)=>p.call(e,t),m=Array.isArray,A=e=>"[object Map]"===E(e),v=e=>"[object Set]"===E(e),y=e=>"[object Date]"===E(e),b=e=>"function"==typeof e,C=e=>"string"==typeof e,_=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,T=e=>k(e)&&b(e.then)&&b(e.catch),x=Object.prototype.toString,E=e=>x.call(e),w=e=>E(e).slice(8,-1),S=e=>"[object Object]"===E(e),L=e=>C(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,R=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),D=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),I=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},B=/-(\w)/g,P=I((e=>e.replace(B,((e,t)=>t?t.toUpperCase():"")))),M=/\B([A-Z])/g,O=I((e=>e.replace(M,"-$1").toLowerCase())),F=I((e=>e.charAt(0).toUpperCase()+e.slice(1))),N=I((e=>e?`on${F(e)}`:"")),U=(e,t)=>!Object.is(e,t),G=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},H=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t},z=e=>{const t=C(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const K=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:{});const q={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},W=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console");function Y(e){if(m(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=C(n)?J(n):Y(n);if(i)for(const e in i)t[e]=i[e]}return t}return C(e)||k(e)?e:void 0}const $=/;(?![^(]*\))/g,Q=/:([^]+)/,X=/\/\*[^]*?\*\//g;function J(e){const t={};return e.replace(X,"").split($).forEach((e=>{if(e){const r=e.split(Q);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}function Z(e){let t="";if(C(e))t=e;else if(m(e))for(let r=0;r<e.length;r++){const n=Z(e[r]);n&&(t+=n+" ")}else if(k(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function ee(e){if(!e)return null;let{class:t,style:r}=e;return t&&!C(t)&&(e.class=Z(t)),r&&(e.style=Y(r)),e}const te=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),re=i("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),ne=i("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),ie="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ae=i(ie);function se(e){return!!e||""===e}function oe(e,t){if(e===t)return!0;let r=y(e),n=y(t);if(r||n)return!(!r||!n)&&e.getTime()===t.getTime();if(r=_(e),n=_(t),r||n)return e===t;if(r=m(e),n=m(t),r||n)return!(!r||!n)&&function(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=oe(e[n],t[n]);return r}(e,t);if(r=k(e),n=k(t),r||n){if(!r||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e){const n=e.hasOwnProperty(r),i=t.hasOwnProperty(r);if(n&&!i||!n&&i||!oe(e[r],t[r]))return!1}}return String(e)===String(t)}function le(e,t){return e.findIndex((e=>oe(e,t)))}const ce=e=>C(e)?e:null==e?"":m(e)||k(e)&&(e.toString===x||!b(e.toString))?JSON.stringify(e,ue,2):String(e),ue=(e,t)=>t&&t.__v_isRef?ue(e,t.value):A(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,r])=>(e[`${t} =>`]=r,e)),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()]}:!k(t)||m(t)||S(t)?t:String(t);let de;class he{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=de,!e&&de&&(this.index=(de.scopes||(de.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=de;try{return de=this,e()}finally{de=t}}else 0}on(){de=this}off(){de=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function fe(e){return new he(e)}function pe(e,t=de){t&&t.active&&t.effects.push(e)}function ge(){return de}function me(e){de&&de.cleanups.push(e)}const Ae=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ve=e=>(e.w&_e)>0,ye=e=>(e.n&_e)>0,be=new WeakMap;let Ce=0,_e=1;const ke=30;let Te;const xe=Symbol(""),Ee=Symbol("");class we{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,pe(this,r)}run(){if(!this.active)return this.fn();let e=Te,t=De;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Te,Te=this,De=!0,_e=1<<++Ce,Ce<=ke?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_e})(this):Se(this),this.fn()}finally{Ce<=ke&&(e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];ve(i)&&!ye(i)?i.delete(e):t[r++]=i,i.w&=~_e,i.n&=~_e}t.length=r}})(this),_e=1<<--Ce,Te=this.parent,De=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Te===this?this.deferStop=!0:this.active&&(Se(this),this.onStop&&this.onStop(),this.active=!1)}}function Se(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}function Le(e,t){e.effect&&(e=e.effect.fn);const r=new we(e);t&&(h(r,t),t.scope&&pe(r,t.scope)),t&&t.lazy||r.run();const n=r.run.bind(r);return n.effect=r,n}function Re(e){e.effect.stop()}let De=!0;const Ie=[];function Be(){Ie.push(De),De=!1}function Pe(){const e=Ie.pop();De=void 0===e||e}function Me(e,t,r){if(De&&Te){let t=be.get(e);t||be.set(e,t=new Map);let n=t.get(r);n||t.set(r,n=Ae());Oe(n,void 0)}}function Oe(e,t){let r=!1;Ce<=ke?ye(e)||(e.n|=_e,r=!ve(e)):r=!e.has(Te),r&&(e.add(Te),Te.deps.push(e))}function Fe(e,t,r,n,i,a){const s=be.get(e);if(!s)return;let o=[];if("clear"===t)o=[...s.values()];else if("length"===r&&m(e)){const e=Number(n);s.forEach(((t,r)=>{("length"===r||r>=e)&&o.push(t)}))}else switch(void 0!==r&&o.push(s.get(r)),t){case"add":m(e)?L(r)&&o.push(s.get("length")):(o.push(s.get(xe)),A(e)&&o.push(s.get(Ee)));break;case"delete":m(e)||(o.push(s.get(xe)),A(e)&&o.push(s.get(Ee)));break;case"set":A(e)&&o.push(s.get(xe))}if(1===o.length)o[0]&&Ne(o[0]);else{const e=[];for(const t of o)t&&e.push(...t);Ne(Ae(e))}}function Ne(e,t){const r=m(e)?e:[...e];for(const e of r)e.computed&&Ue(e,t);for(const e of r)e.computed||Ue(e,t)}function Ue(e,t){(e!==Te||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ge=i("__proto__,__v_isRef,__isVue"),He=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(_)),Ve=$e(),ze=$e(!1,!0),je=$e(!0),Ke=$e(!0,!0),qe=We();function We(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const r=Ot(this);for(let e=0,t=this.length;e<t;e++)Me(r,0,e+"");const n=r[t](...e);return-1===n||!1===n?r[t](...e.map(Ot)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Be();const r=Ot(this)[t].apply(this,e);return Pe(),r}})),e}function Ye(e){const t=Ot(this);return Me(t,0,e),t.hasOwnProperty(e)}function $e(e=!1,t=!1){return function(r,n,i){if("__v_isReactive"===n)return!e;if("__v_isReadonly"===n)return e;if("__v_isShallow"===n)return t;if("__v_raw"===n&&i===(e?t?Et:xt:t?Tt:kt).get(r))return r;const a=m(r);if(!e){if(a&&g(qe,n))return Reflect.get(qe,n,i);if("hasOwnProperty"===n)return Ye}const s=Reflect.get(r,n,i);return(_(n)?He.has(n):Ge(n))?s:(e||Me(r,0,n),t?s:Vt(s)?a&&L(n)?s:s.value:k(s)?e?Lt(s):wt(s):s)}}function Qe(e=!1){return function(t,r,n,i){let a=t[r];if(Bt(a)&&Vt(a)&&!Vt(n))return!1;if(!e&&(Pt(n)||Bt(n)||(a=Ot(a),n=Ot(n)),!m(t)&&Vt(a)&&!Vt(n)))return a.value=n,!0;const s=m(t)&&L(r)?Number(r)<t.length:g(t,r),o=Reflect.set(t,r,n,i);return t===Ot(i)&&(s?U(n,a)&&Fe(t,"set",r,n):Fe(t,"add",r,n)),o}}const Xe={get:Ve,set:Qe(),deleteProperty:function(e,t){const r=g(e,t),n=(e[t],Reflect.deleteProperty(e,t));return n&&r&&Fe(e,"delete",t,void 0),n},has:function(e,t){const r=Reflect.has(e,t);return _(t)&&He.has(t)||Me(e,0,t),r},ownKeys:function(e){return Me(e,0,m(e)?"length":xe),Reflect.ownKeys(e)}},Je={get:je,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Ze=h({},Xe,{get:ze,set:Qe(!0)}),et=h({},Je,{get:Ke}),tt=e=>e,rt=e=>Reflect.getPrototypeOf(e);function nt(e,t,r=!1,n=!1){const i=Ot(e=e.__v_raw),a=Ot(t);r||(t!==a&&Me(i,0,t),Me(i,0,a));const{has:s}=rt(i),o=n?tt:r?Ut:Nt;return s.call(i,t)?o(e.get(t)):s.call(i,a)?o(e.get(a)):void(e!==i&&e.get(t))}function it(e,t=!1){const r=this.__v_raw,n=Ot(r),i=Ot(e);return t||(e!==i&&Me(n,0,e),Me(n,0,i)),e===i?r.has(e):r.has(e)||r.has(i)}function at(e,t=!1){return e=e.__v_raw,!t&&Me(Ot(e),0,xe),Reflect.get(e,"size",e)}function st(e){e=Ot(e);const t=Ot(this);return rt(t).has.call(t,e)||(t.add(e),Fe(t,"add",e,e)),this}function ot(e,t){t=Ot(t);const r=Ot(this),{has:n,get:i}=rt(r);let a=n.call(r,e);a||(e=Ot(e),a=n.call(r,e));const s=i.call(r,e);return r.set(e,t),a?U(t,s)&&Fe(r,"set",e,t):Fe(r,"add",e,t),this}function lt(e){const t=Ot(this),{has:r,get:n}=rt(t);let i=r.call(t,e);i||(e=Ot(e),i=r.call(t,e));n&&n.call(t,e);const a=t.delete(e);return i&&Fe(t,"delete",e,void 0),a}function ct(){const e=Ot(this),t=0!==e.size,r=e.clear();return t&&Fe(e,"clear",void 0,void 0),r}function ut(e,t){return function(r,n){const i=this,a=i.__v_raw,s=Ot(a),o=t?tt:e?Ut:Nt;return!e&&Me(s,0,xe),a.forEach(((e,t)=>r.call(n,o(e),o(t),i)))}}function dt(e,t,r){return function(...n){const i=this.__v_raw,a=Ot(i),s=A(a),o="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=i[e](...n),u=r?tt:t?Ut:Nt;return!t&&Me(a,0,l?Ee:xe),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:o?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function ht(e){return function(...t){return"delete"!==e&&this}}function ft(){const e={get(e){return nt(this,e)},get size(){return at(this)},has:it,add:st,set:ot,delete:lt,clear:ct,forEach:ut(!1,!1)},t={get(e){return nt(this,e,!1,!0)},get size(){return at(this)},has:it,add:st,set:ot,delete:lt,clear:ct,forEach:ut(!1,!0)},r={get(e){return nt(this,e,!0)},get size(){return at(this,!0)},has(e){return it.call(this,e,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:ut(!0,!1)},n={get(e){return nt(this,e,!0,!0)},get size(){return at(this,!0)},has(e){return it.call(this,e,!0)},add:ht("add"),set:ht("set"),delete:ht("delete"),clear:ht("clear"),forEach:ut(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((i=>{e[i]=dt(i,!1,!1),r[i]=dt(i,!0,!1),t[i]=dt(i,!1,!0),n[i]=dt(i,!0,!0)})),[e,r,t,n]}const[pt,gt,mt,At]=ft();function vt(e,t){const r=t?e?At:mt:e?gt:pt;return(t,n,i)=>"__v_isReactive"===n?!e:"__v_isReadonly"===n?e:"__v_raw"===n?t:Reflect.get(g(r,n)&&n in t?r:t,n,i)}const yt={get:vt(!1,!1)},bt={get:vt(!1,!0)},Ct={get:vt(!0,!1)},_t={get:vt(!0,!0)};const kt=new WeakMap,Tt=new WeakMap,xt=new WeakMap,Et=new WeakMap;function wt(e){return Bt(e)?e:Dt(e,!1,Xe,yt,kt)}function St(e){return Dt(e,!1,Ze,bt,Tt)}function Lt(e){return Dt(e,!0,Je,Ct,xt)}function Rt(e){return Dt(e,!0,et,_t,Et)}function Dt(e,t,r,n,i){if(!k(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const s=(o=e).__v_skip||!Object.isExtensible(o)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(w(o));var o;if(0===s)return e;const l=new Proxy(e,2===s?n:r);return i.set(e,l),l}function It(e){return Bt(e)?It(e.__v_raw):!(!e||!e.__v_isReactive)}function Bt(e){return!(!e||!e.__v_isReadonly)}function Pt(e){return!(!e||!e.__v_isShallow)}function Mt(e){return It(e)||Bt(e)}function Ot(e){const t=e&&e.__v_raw;return t?Ot(t):e}function Ft(e){return H(e,"__v_skip",!0),e}const Nt=e=>k(e)?wt(e):e,Ut=e=>k(e)?Lt(e):e;function Gt(e){De&&Te&&Oe((e=Ot(e)).dep||(e.dep=Ae()))}function Ht(e,t){const r=(e=Ot(e)).dep;r&&Ne(r)}function Vt(e){return!(!e||!0!==e.__v_isRef)}function zt(e){return Kt(e,!1)}function jt(e){return Kt(e,!0)}function Kt(e,t){return Vt(e)?e:new qt(e,t)}class qt{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ot(e),this._value=t?e:Nt(e)}get value(){return Gt(this),this._value}set value(e){const t=this.__v_isShallow||Pt(e)||Bt(e);e=t?e:Ot(e),U(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Nt(e),Ht(this))}}function Wt(e){Ht(e)}function Yt(e){return Vt(e)?e.value:e}function $t(e){return b(e)?e():Yt(e)}const Qt={get:(e,t,r)=>Yt(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Vt(i)&&!Vt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Xt(e){return It(e)?e:new Proxy(e,Qt)}class Jt{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:r}=e((()=>Gt(this)),(()=>Ht(this)));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Zt(e){return new Jt(e)}function er(e){const t=m(e)?new Array(e.length):{};for(const r in e)t[r]=ir(e,r);return t}class tr{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e=Ot(this._object),t=this._key,null==(r=be.get(e))?void 0:r.get(t);var e,t,r}}class rr{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function nr(e,t,r){return Vt(e)?e:b(e)?new rr(e):k(e)&&arguments.length>1?ir(e,t,r):zt(e)}function ir(e,t,r){const n=e[t];return Vt(n)?n:new tr(e,t,r)}class ar{constructor(e,t,r,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new we(e,(()=>{this._dirty||(this._dirty=!0,Ht(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=r}get value(){const e=Ot(this);return Gt(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function sr(e,...t){}function or(e,t){}function lr(e,t,r,n){let i;try{i=n?e(...n):e()}catch(e){ur(e,t,r)}return i}function cr(e,t,r,n){if(b(e)){const i=lr(e,t,r,n);return i&&T(i)&&i.catch((e=>{ur(e,t,r)})),i}const i=[];for(let a=0;a<e.length;a++)i.push(cr(e[a],t,r,n));return i}function ur(e,t,r,n=!0){t&&t.vnode;if(t){let n=t.parent;const i=t.proxy,a=r;for(;n;){const t=n.ec;if(t)for(let r=0;r<t.length;r++)if(!1===t[r](e,i,a))return;n=n.parent}const s=t.appContext.config.errorHandler;if(s)return void lr(s,null,10,[e,i,a])}!function(e,t,r,n=!0){console.error(e)}(e,0,0,n)}let dr=!1,hr=!1;const fr=[];let pr=0;const gr=[];let mr=null,Ar=0;const vr=Promise.resolve();let yr=null;function br(e){const t=yr||vr;return e?t.then(this?e.bind(this):e):t}function Cr(e){fr.length&&fr.includes(e,dr&&e.allowRecurse?pr+1:pr)||(null==e.id?fr.push(e):fr.splice(function(e){let t=pr+1,r=fr.length;for(;t<r;){const n=t+r>>>1;Er(fr[n])<e?t=n+1:r=n}return t}(e.id),0,e),_r())}function _r(){dr||hr||(hr=!0,yr=vr.then(Sr))}function kr(e){m(e)?gr.push(...e):mr&&mr.includes(e,e.allowRecurse?Ar+1:Ar)||gr.push(e),_r()}function Tr(e,t=(dr?pr+1:0)){for(0;t<fr.length;t++){const e=fr[t];e&&e.pre&&(fr.splice(t,1),t--,e())}}function xr(e){if(gr.length){const e=[...new Set(gr)];if(gr.length=0,mr)return void mr.push(...e);for(mr=e,mr.sort(((e,t)=>Er(e)-Er(t))),Ar=0;Ar<mr.length;Ar++)mr[Ar]();mr=null,Ar=0}}const Er=e=>null==e.id?1/0:e.id,wr=(e,t)=>{const r=Er(e)-Er(t);if(0===r){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Sr(e){hr=!1,dr=!0,fr.sort(wr);try{for(pr=0;pr<fr.length;pr++){const e=fr[pr];e&&!1!==e.active&&lr(e,null,14)}}finally{pr=0,fr.length=0,xr(),dr=!1,yr=null,(fr.length||gr.length)&&Sr(e)}}let Lr,Rr=[],Dr=!1;function Ir(e,t){var r,n;if(Lr=e,Lr)Lr.enabled=!0,Rr.forEach((({event:e,args:t})=>Lr.emit(e,...t))),Rr=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(n=null==(r=window.navigator)?void 0:r.userAgent)?void 0:n.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Ir(e,t)})),setTimeout((()=>{Lr||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Dr=!0,Rr=[])}),3e3)}else Dr=!0,Rr=[]}function Br(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||a;let i=r;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const e=`${"modelValue"===o?"model":o}Modifiers`,{number:t,trim:s}=n[e]||a;s&&(i=r.map((e=>C(e)?e.trim():e))),t&&(i=r.map(V))}let l;let c=n[l=N(t)]||n[l=N(P(t))];!c&&s&&(c=n[l=N(O(t))]),c&&cr(c,e,6,i);const u=n[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,cr(u,e,6,i)}}function Pr(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(void 0!==i)return i;const a=e.emits;let s={},o=!1;if(!b(e)){const n=e=>{const r=Pr(e,t,!0);r&&(o=!0,h(s,r))};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return a||o?(m(a)?a.forEach((e=>s[e]=null)):h(s,a),k(e)&&n.set(e,s),s):(k(e)&&n.set(e,null),null)}function Mr(e,t){return!(!e||!u(t))&&(t=t.slice(2).replace(/Once$/,""),g(e,t[0].toLowerCase()+t.slice(1))||g(e,O(t))||g(e,t))}let Or=null,Fr=null;function Nr(e){const t=Or;return Or=e,Fr=e&&e.type.__scopeId||null,t}function Ur(e){Fr=e}function Gr(){Fr=null}const Hr=e=>Vr;function Vr(e,t=Or,r){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&Ma(-1);const i=Nr(t);let a;try{a=e(...r)}finally{Nr(i),n._d&&Ma(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function zr(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:g,inheritAttrs:m}=e;let A,v;const y=Nr(e);try{if(4&r.shapeFlag){const e=i||n;A=Za(u.call(e,e,h,a,p,f,g)),v=l}else{const e=t;0,A=Za(e.length>1?e(a,{attrs:l,slots:o,emit:c}):e(a,null)),v=t.props?l:Kr(l)}}catch(t){La.length=0,ur(t,e,1),A=qa(wa)}let b=A;if(v&&!1!==m){const e=Object.keys(v),{shapeFlag:t}=b;e.length&&7&t&&(s&&e.some(d)&&(v=qr(v,s)),b=$a(b,v))}return r.dirs&&(b=$a(b),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&(b.transition=r.transition),A=b,Nr(y),A}function jr(e){let t;for(let r=0;r<e.length;r++){const n=e[r];if(!Ua(n))return;if(n.type!==wa||"v-if"===n.children){if(t)return;t=n}}return t}const Kr=e=>{let t;for(const r in e)("class"===r||"style"===r||u(r))&&((t||(t={}))[r]=e[r]);return t},qr=(e,t)=>{const r={};for(const n in e)d(n)&&n.slice(9)in t||(r[n]=e[n]);return r};function Wr(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Mr(r,a))return!0}return!1}function Yr({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const $r=e=>e.__isSuspense,Qr={name:"Suspense",__isSuspense:!0,process(e,t,r,n,i,a,s,o,l,c){null==e?function(e,t,r,n,i,a,s,o,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=e.suspense=Jr(e,i,n,t,d,r,a,s,o,l);c(null,h.pendingBranch=e.ssContent,d,null,n,h,a,s),h.deps>0?(Xr(e,"onPending"),Xr(e,"onFallback"),c(null,e.ssFallback,t,r,n,null,a,s),tn(h,e.ssFallback)):h.resolve(!1,!0)}(t,r,n,i,a,s,o,l,c):function(e,t,r,n,i,a,s,o,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:m,isHydrating:A}=d;if(g)d.pendingBranch=h,Ga(h,g)?(l(g,h,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():m&&(l(p,f,r,n,i,null,a,s,o),tn(d,f))):(d.pendingId++,A?(d.isHydrating=!1,d.activeBranch=g):c(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),m?(l(null,h,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0?d.resolve():(l(p,f,r,n,i,null,a,s,o),tn(d,f))):p&&Ga(h,p)?(l(p,h,r,n,i,d,a,s,o),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0&&d.resolve()));else if(p&&Ga(h,p))l(p,h,r,n,i,d,a,s,o),tn(d,h);else if(Xr(t,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,a,s,o),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(f)}),e):0===e&&d.fallback(f)}}(e,t,r,n,i,s,o,l,c)},hydrate:function(e,t,r,n,i,a,s,o,l){const c=t.suspense=Jr(t,n,r,e.parentNode,document.createElement("div"),null,i,a,s,o,!0),u=l(e,c.pendingBranch=t.ssContent,r,c,a,s);0===c.deps&&c.resolve(!1,!0);return u},create:Jr,normalize:function(e){const{shapeFlag:t,children:r}=e,n=32&t;e.ssContent=Zr(n?r.default:r),e.ssFallback=n?Zr(r.fallback):qa(wa)}};function Xr(e,t){const r=e.props&&e.props[t];b(r)&&r()}function Jr(e,t,r,n,i,a,s,o,l,c,u=!1){const{p:d,m:h,um:f,n:p,o:{parentNode:g,remove:m}}=c;let A;const v=function(e){var t;return null!=(null==(t=e.props)?void 0:t.suspensible)&&!1!==e.props.suspensible}(e);v&&(null==t?void 0:t.pendingBranch)&&(A=t.pendingId,t.deps++);const y=e.props?z(e.props.timeout):void 0;const b={vnode:e,parent:t,parentComponent:r,isSVG:s,container:n,hiddenContainer:i,anchor:a,deps:0,pendingId:0,timeout:"number"==typeof y?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,r=!1){const{vnode:n,activeBranch:i,pendingBranch:a,pendingId:s,effects:o,parentComponent:l,container:c}=b;if(b.isHydrating)b.isHydrating=!1;else if(!e){const e=i&&a.transition&&"out-in"===a.transition.mode;e&&(i.transition.afterLeave=()=>{s===b.pendingId&&h(a,c,t,0)});let{anchor:t}=b;i&&(t=p(i),f(i,l,b,!0)),e||h(a,c,t,0)}tn(b,a),b.pendingBranch=null,b.isInFallback=!1;let u=b.parent,d=!1;for(;u;){if(u.pendingBranch){u.effects.push(...o),d=!0;break}u=u.parent}d||kr(o),b.effects=[],v&&t&&t.pendingBranch&&A===t.pendingId&&(t.deps--,0!==t.deps||r||t.resolve()),Xr(n,"onResolve")},fallback(e){if(!b.pendingBranch)return;const{vnode:t,activeBranch:r,parentComponent:n,container:i,isSVG:a}=b;Xr(t,"onFallback");const s=p(r),c=()=>{b.isInFallback&&(d(null,e,i,s,n,null,a,o,l),tn(b,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(r.transition.afterLeave=c),b.isInFallback=!0,f(r,n,null,!0),u||c()},move(e,t,r){b.activeBranch&&h(b.activeBranch,e,t,r),b.container=e},next:()=>b.activeBranch&&p(b.activeBranch),registerDep(e,t){const r=!!b.pendingBranch;r&&b.deps++;const n=e.vnode.el;e.asyncDep.catch((t=>{ur(t,e,0)})).then((i=>{if(e.isUnmounted||b.isUnmounted||b.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;ys(e,i,!1),n&&(a.el=n);const o=!n&&e.subTree.el;t(e,a,g(n||e.subTree.el),n?null:p(e.subTree),b,s,l),o&&m(o),Yr(e,a.el),r&&0==--b.deps&&b.resolve()}))},unmount(e,t){b.isUnmounted=!0,b.activeBranch&&f(b.activeBranch,r,e,t),b.pendingBranch&&f(b.pendingBranch,r,e,t)}};return b}function Zr(e){let t;if(b(e)){const r=Pa&&e._c;r&&(e._d=!1,Da()),e=e(),r&&(e._d=!0,t=Ra,Ia())}if(m(e)){const t=jr(e);0,e=t}return e=Za(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function en(e,t){t&&t.pendingBranch?m(e)?t.effects.push(...e):t.effects.push(e):kr(e)}function tn(e,t){e.activeBranch=t;const{vnode:r,parentComponent:n}=e,i=r.el=t.el;n&&n.subTree===r&&(n.vnode.el=i,Yr(n,i))}function rn(e,t){return ln(e,null,t)}function nn(e,t){return ln(e,null,{flush:"post"})}function an(e,t){return ln(e,null,{flush:"sync"})}const sn={};function on(e,t,r){return ln(e,t,r)}function ln(e,t,{immediate:r,deep:n,flush:i,onTrack:s,onTrigger:l}=a){var c;const u=ge()===(null==(c=os)?void 0:c.scope)?os:null;let d,h,p=!1,g=!1;if(Vt(e)?(d=()=>e.value,p=Pt(e)):It(e)?(d=()=>e,n=!0):m(e)?(g=!0,p=e.some((e=>It(e)||Pt(e))),d=()=>e.map((e=>Vt(e)?e.value:It(e)?dn(e):b(e)?lr(e,u,2):void 0))):d=b(e)?t?()=>lr(e,u,2):()=>{if(!u||!u.isUnmounted)return h&&h(),cr(e,u,3,[v])}:o,t&&n){const e=d;d=()=>dn(e())}let A,v=e=>{h=k.onStop=()=>{lr(e,u,4)}};if(As){if(v=o,t?r&&cr(t,u,3,[d(),g?[]:void 0,v]):d(),"sync"!==i)return o;{const e=Rs();A=e.__watcherHandles||(e.__watcherHandles=[])}}let y=g?new Array(e.length).fill(sn):sn;const C=()=>{if(k.active)if(t){const e=k.run();(n||p||(g?e.some(((e,t)=>U(e,y[t]))):U(e,y)))&&(h&&h(),cr(t,u,3,[e,y===sn?void 0:g&&y[0]===sn?[]:y,v]),y=e)}else k.run()};let _;C.allowRecurse=!!t,"sync"===i?_=C:"post"===i?_=()=>fa(C,u&&u.suspense):(C.pre=!0,u&&(C.id=u.uid),_=()=>Cr(C));const k=new we(d,_);t?r?C():y=k.run():"post"===i?fa(k.run.bind(k),u&&u.suspense):k.run();const T=()=>{k.stop(),u&&u.scope&&f(u.scope.effects,k)};return A&&A.push(T),T}function cn(e,t,r){const n=this.proxy,i=C(e)?e.includes(".")?un(n,e):()=>n[e]:e.bind(n,n);let a;b(t)?a=t:(a=t.handler,r=t);const s=os;hs(this);const o=ln(i,a.bind(n),r);return s?hs(s):fs(),o}function un(e,t){const r=t.split(".");return()=>{let t=e;for(let e=0;e<r.length&&t;e++)t=t[r[e]];return t}}function dn(e,t){if(!k(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),Vt(e))dn(e.value,t);else if(m(e))for(let r=0;r<e.length;r++)dn(e[r],t);else if(v(e)||A(e))e.forEach((e=>{dn(e,t)}));else if(S(e))for(const r in e)dn(e[r],t);return e}function hn(e,t){const r=Or;if(null===r)return e;const n=Ts(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[r,s,o,l=a]=t[e];r&&(b(r)&&(r={mounted:r,updated:r}),r.deep&&dn(s),i.push({dir:r,instance:n,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function fn(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[n];l&&(Be(),cr(l,r,8,[e.el,o,e,t]),Pe())}}function pn(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gn((()=>{e.isMounted=!0})),zn((()=>{e.isUnmounting=!0})),e}const gn=[Function,Array],mn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:gn,onEnter:gn,onAfterEnter:gn,onEnterCancelled:gn,onBeforeLeave:gn,onLeave:gn,onAfterLeave:gn,onLeaveCancelled:gn,onBeforeAppear:gn,onAppear:gn,onAfterAppear:gn,onAppearCancelled:gn},An={name:"BaseTransition",props:mn,setup(e,{slots:t}){const r=ls(),n=pn();let i;return()=>{const a=t.default&&kn(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==wa){0,s=t,e=!0;break}}const o=Ot(e),{mode:l}=o;if(n.isLeaving)return bn(s);const c=Cn(s);if(!c)return bn(s);const u=yn(c,o,n,r);_n(c,u);const d=r.subTree,h=d&&Cn(d);let f=!1;const{getTransitionKey:p}=c.type;if(p){const e=p();void 0===i?i=e:e!==i&&(i=e,f=!0)}if(h&&h.type!==wa&&(!Ga(c,h)||f)){const e=yn(h,o,n,r);if(_n(h,e),"out-in"===l)return n.isLeaving=!0,e.afterLeave=()=>{n.isLeaving=!1,!1!==r.update.active&&r.update()},bn(s);"in-out"===l&&c.type!==wa&&(e.delayLeave=(e,t,r)=>{vn(n,h)[String(h.key)]=h,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=r})}return s}}};function vn(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function yn(e,t,r,n){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:h,onAfterLeave:f,onLeaveCancelled:p,onBeforeAppear:g,onAppear:A,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),C=vn(r,e),_=(e,t)=>{e&&cr(e,n,9,t)},k=(e,t)=>{const r=t[1];_(e,t),m(e)?e.every((e=>e.length<=1))&&r():e.length<=1&&r()},T={mode:a,persisted:s,beforeEnter(t){let n=o;if(!r.isMounted){if(!i)return;n=g||o}t._leaveCb&&t._leaveCb(!0);const a=C[b];a&&Ga(e,a)&&a.el._leaveCb&&a.el._leaveCb(),_(n,[t])},enter(e){let t=l,n=c,a=u;if(!r.isMounted){if(!i)return;t=A||l,n=v||c,a=y||u}let s=!1;const o=e._enterCb=t=>{s||(s=!0,_(t?a:n,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,o]):o()},leave(t,n){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),r.isUnmounting)return n();_(d,[t]);let a=!1;const s=t._leaveCb=r=>{a||(a=!0,n(),_(r?p:f,[t]),t._leaveCb=void 0,C[i]===e&&delete C[i])};C[i]=e,h?k(h,[t,s]):s()},clone:e=>yn(e,t,r,n)};return T}function bn(e){if(Sn(e))return(e=$a(e)).children=null,e}function Cn(e){return Sn(e)?e.children?e.children[0]:void 0:e}function _n(e,t){6&e.shapeFlag&&e.component?_n(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function kn(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let s=e[a];const o=null==r?s.key:String(r)+String(null!=s.key?s.key:a);s.type===xa?(128&s.patchFlag&&i++,n=n.concat(kn(s.children,t,o))):(t||s.type!==wa)&&n.push(null!=o?$a(s,{key:o}):s)}if(i>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}function Tn(e,t){return b(e)?(()=>h({name:e.name},t,{setup:e}))():e}const xn=e=>!!e.type.__asyncLoader;function En(e){b(e)&&(e={loader:e});const{loader:t,loadingComponent:r,errorComponent:n,delay:i=200,timeout:a,suspensible:s=!0,onError:o}=e;let l,c=null,u=0;const d=()=>{let e;return c||(e=c=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),o)return new Promise(((t,r)=>{o(e,(()=>t((u++,c=null,d()))),(()=>r(e)),u+1)}));throw e})).then((t=>e!==c&&c?c:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),l=t,t))))};return Tn({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return l},setup(){const e=os;if(l)return()=>wn(l,e);const t=t=>{c=null,ur(t,e,13,!n)};if(s&&e.suspense||As)return d().then((t=>()=>wn(t,e))).catch((e=>(t(e),()=>n?qa(n,{error:e}):null)));const o=zt(!1),u=zt(),h=zt(!!i);return i&&setTimeout((()=>{h.value=!1}),i),null!=a&&setTimeout((()=>{if(!o.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}}),a),d().then((()=>{o.value=!0,e.parent&&Sn(e.parent.vnode)&&Cr(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>o.value&&l?wn(l,e):u.value&&n?qa(n,{error:u.value}):r&&!h.value?qa(r):void 0}})}function wn(e,t){const{ref:r,props:n,children:i,ce:a}=t.vnode,s=qa(e,n,i);return s.ref=r,s.ce=a,delete t.vnode.ce,s}const Sn=e=>e.type.__isKeepAlive,Ln={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const r=ls(),n=r.ctx;if(!n.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,a=new Set;let s=null;const o=r.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=n,h=d("div");function f(e){Mn(e),u(e,r,o,!0)}function p(e){i.forEach(((t,r)=>{const n=xs(t.type);!n||e&&e(n)||g(r)}))}function g(e){const t=i.get(e);s&&Ga(t,s)?s&&Mn(s):f(t),i.delete(e),a.delete(e)}n.activate=(e,t,r,n,i)=>{const a=e.component;c(e,t,r,0,o),l(a.vnode,e,t,r,a,o,n,e.slotScopeIds,i),fa((()=>{a.isDeactivated=!1,a.a&&G(a.a);const t=e.props&&e.props.onVnodeMounted;t&&ns(t,a.parent,e)}),o)},n.deactivate=e=>{const t=e.component;c(e,h,null,1,o),fa((()=>{t.da&&G(t.da);const r=e.props&&e.props.onVnodeUnmounted;r&&ns(r,t.parent,e),t.isDeactivated=!0}),o)},on((()=>[e.include,e.exclude]),(([e,t])=>{e&&p((t=>Rn(e,t))),t&&p((e=>!Rn(t,e)))}),{flush:"post",deep:!0});let m=null;const A=()=>{null!=m&&i.set(m,On(r.subTree))};return Gn(A),Vn(A),zn((()=>{i.forEach((e=>{const{subTree:t,suspense:n}=r,i=On(t);if(e.type!==i.type||e.key!==i.key)f(e);else{Mn(i);const e=i.component.da;e&&fa(e,n)}}))})),()=>{if(m=null,!t.default)return null;const r=t.default(),n=r[0];if(r.length>1)return s=null,r;if(!(Ua(n)&&(4&n.shapeFlag||128&n.shapeFlag)))return s=null,n;let o=On(n);const l=o.type,c=xs(xn(o)?o.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!Rn(u,c))||d&&c&&Rn(d,c))return s=o,n;const f=null==o.key?l:o.key,p=i.get(f);return o.el&&(o=$a(o),128&n.shapeFlag&&(n.ssContent=o)),m=f,p?(o.el=p.el,o.component=p.component,o.transition&&_n(o,o.transition),o.shapeFlag|=512,a.delete(f),a.add(f)):(a.add(f),h&&a.size>parseInt(h,10)&&g(a.values().next().value)),o.shapeFlag|=256,s=o,$r(n.type)?n:o}}};function Rn(e,t){return m(e)?e.some((e=>Rn(e,t))):C(e)?e.split(",").includes(t):"[object RegExp]"===E(e)&&e.test(t)}function Dn(e,t){Bn(e,"a",t)}function In(e,t){Bn(e,"da",t)}function Bn(e,t,r=os){const n=e.__wdc||(e.__wdc=()=>{let t=r;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Fn(t,n,r),r){let e=r.parent;for(;e&&e.parent;)Sn(e.parent.vnode)&&Pn(n,t,r,e),e=e.parent}}function Pn(e,t,r,n){const i=Fn(t,e,n,!0);jn((()=>{f(n[t],i)}),r)}function Mn(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function On(e){return 128&e.shapeFlag?e.ssContent:e}function Fn(e,t,r=os,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...n)=>{if(r.isUnmounted)return;Be(),hs(r);const i=cr(t,r,e,n);return fs(),Pe(),i});return n?i.unshift(a):i.push(a),a}}const Nn=e=>(t,r=os)=>(!As||"sp"===e)&&Fn(e,((...e)=>t(...e)),r),Un=Nn("bm"),Gn=Nn("m"),Hn=Nn("bu"),Vn=Nn("u"),zn=Nn("bum"),jn=Nn("um"),Kn=Nn("sp"),qn=Nn("rtg"),Wn=Nn("rtc");function Yn(e,t=os){Fn("ec",e,t)}const $n="components",Qn="directives";function Xn(e,t){return ti($n,e,!0,t)||e}const Jn=Symbol.for("v-ndc");function Zn(e){return C(e)?ti($n,e,!1)||e:e||Jn}function ei(e){return ti(Qn,e)}function ti(e,t,r=!0,n=!1){const i=Or||os;if(i){const r=i.type;if(e===$n){const e=xs(r,!1);if(e&&(e===t||e===P(t)||e===F(P(t))))return r}const a=ri(i[e]||r[e],t)||ri(i.appContext[e],t);return!a&&n?r:a}}function ri(e,t){return e&&(e[t]||e[P(t)]||e[F(P(t))])}function ni(e,t,r,n){let i;const a=r&&r[n];if(m(e)||C(e)){i=new Array(e.length);for(let r=0,n=e.length;r<n;r++)i[r]=t(e[r],r,void 0,a&&a[r])}else if("number"==typeof e){0,i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,a&&a[r])}else if(k(e))if(e[Symbol.iterator])i=Array.from(e,((e,r)=>t(e,r,void 0,a&&a[r])));else{const r=Object.keys(e);i=new Array(r.length);for(let n=0,s=r.length;n<s;n++){const s=r[n];i[n]=t(e[s],s,n,a&&a[n])}}else i=[];return r&&(r[n]=i),i}function ii(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(m(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.key?(...e)=>{const t=n.fn(...e);return t&&(t.key=n.key),t}:n.fn)}return e}function ai(e,t,r={},n,i){if(Or.isCE||Or.parent&&xn(Or.parent)&&Or.parent.isCE)return"default"!==t&&(r.name=t),qa("slot",r,n&&n());let a=e[t];a&&a._c&&(a._d=!1),Da();const s=a&&si(a(r)),o=Na(xa,{key:r.key||s&&s.key||`_${t}`},s||(n?n():[]),s&&1===e._?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function si(e){return e.some((e=>!Ua(e)||e.type!==wa&&!(e.type===xa&&!si(e.children))))?e:null}function oi(e,t){const r={};for(const n in e)r[t&&/[A-Z]/.test(n)?`on:${n}`:N(n)]=e[n];return r}const li=e=>e?ps(e)?Ts(e)||e.proxy:li(e.parent):null,ci=h(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>li(e.parent),$root:e=>li(e.root),$emit:e=>e.emit,$options:e=>Bi(e),$forceUpdate:e=>e.f||(e.f=()=>Cr(e.update)),$nextTick:e=>e.n||(e.n=br.bind(e.proxy)),$watch:e=>cn.bind(e)}),ui=(e,t)=>e!==a&&!e.__isScriptSetup&&g(e,t),di={get({_:e},t){const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=o[t];if(void 0!==l)switch(l){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return s[t]}else{if(ui(n,t))return o[t]=1,n[t];if(i!==a&&g(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&g(u,t))return o[t]=3,s[t];if(r!==a&&g(r,t))return o[t]=4,r[t];Li&&(o[t]=0)}}const d=ci[t];let h,f;return d?("$attrs"===t&&Me(e,0,t),d(e)):(h=l.__cssModules)&&(h=h[t])?h:r!==a&&g(r,t)?(o[t]=4,r[t]):(f=c.config.globalProperties,g(f,t)?f[t]:void 0)},set({_:e},t,r){const{data:n,setupState:i,ctx:s}=e;return ui(i,t)?(i[t]=r,!0):n!==a&&g(n,t)?(n[t]=r,!0):!g(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=r,!0))},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let l;return!!r[o]||e!==a&&g(e,o)||ui(t,o)||(l=s[0])&&g(l,o)||g(n,o)||g(ci,o)||g(i.config.globalProperties,o)},defineProperty(e,t,r){return null!=r.get?e._.accessCache[t]=0:g(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};const hi=h({},di,{get(e,t){if(t!==Symbol.unscopables)return di.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!W(t)});function fi(){return null}function pi(){return null}function gi(e){0}function mi(e){0}function Ai(){return null}function vi(){0}function yi(e,t){return null}function bi(){return ki().slots}function Ci(){return ki().attrs}function _i(e,t,r){const n=ls();if(r&&r.local){const r=zt(e[t]);return on((()=>e[t]),(e=>r.value=e)),on(r,(r=>{r!==e[t]&&n.emit(`update:${t}`,r)})),r}return{__v_isRef:!0,get value(){return e[t]},set value(e){n.emit(`update:${t}`,e)}}}function ki(){const e=ls();return e.setupContext||(e.setupContext=ks(e))}function Ti(e){return m(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function xi(e,t){const r=Ti(e);for(const e in t){if(e.startsWith("__skip"))continue;let n=r[e];n?m(n)||b(n)?n=r[e]={type:n,default:t[e]}:n.default=t[e]:null===n&&(n=r[e]={default:t[e]}),n&&t[`__skip_${e}`]&&(n.skipFactory=!0)}return r}function Ei(e,t){return e&&t?m(e)&&m(t)?e.concat(t):h({},Ti(e),Ti(t)):e||t}function wi(e,t){const r={};for(const n in e)t.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>e[n]});return r}function Si(e){const t=ls();let r=e();return fs(),T(r)&&(r=r.catch((e=>{throw hs(t),e}))),[r,()=>hs(t)]}let Li=!0;function Ri(e){const t=Bi(e),r=e.proxy,n=e.ctx;Li=!1,t.beforeCreate&&Di(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:g,activated:A,deactivated:v,beforeDestroy:y,beforeUnmount:C,destroyed:_,unmounted:T,render:x,renderTracked:E,renderTriggered:w,errorCaptured:S,serverPrefetch:L,expose:R,inheritAttrs:D,components:I,directives:B,filters:P}=t;if(u&&function(e,t,r=o){m(e)&&(e=Fi(e));for(const r in e){const n=e[r];let i;i=k(n)?"default"in n?qi(n.from||r,n.default,!0):qi(n.from||r):qi(n),Vt(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[r]=i}}(u,n,null),s)for(const e in s){const t=s[e];b(t)&&(n[e]=t.bind(r))}if(i){0;const t=i.call(r,r);0,k(t)&&(e.data=wt(t))}if(Li=!0,a)for(const e in a){const t=a[e],i=b(t)?t.bind(r,r):b(t.get)?t.get.bind(r,r):o;0;const s=!b(t)&&b(t.set)?t.set.bind(r):o,l=ws({get:i,set:s});Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(l)for(const e in l)Ii(l[e],n,r,e);if(c){const e=b(c)?c.call(r):c;Reflect.ownKeys(e).forEach((t=>{Ki(t,e[t])}))}function M(e,t){m(t)?t.forEach((t=>e(t.bind(r)))):t&&e(t.bind(r))}if(d&&Di(d,e,"c"),M(Un,h),M(Gn,f),M(Hn,p),M(Vn,g),M(Dn,A),M(In,v),M(Yn,S),M(Wn,E),M(qn,w),M(zn,C),M(jn,T),M(Kn,L),m(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach((e=>{Object.defineProperty(t,e,{get:()=>r[e],set:t=>r[e]=t})}))}else e.exposed||(e.exposed={});x&&e.render===o&&(e.render=x),null!=D&&(e.inheritAttrs=D),I&&(e.components=I),B&&(e.directives=B)}function Di(e,t,r){cr(m(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,r)}function Ii(e,t,r,n){const i=n.includes(".")?un(r,n):()=>r[n];if(C(e)){const r=t[e];b(r)&&on(i,r)}else if(b(e))on(i,e.bind(r));else if(k(e))if(m(e))e.forEach((e=>Ii(e,t,r,n)));else{const n=b(e.handler)?e.handler.bind(r):t[e.handler];b(n)&&on(i,n,e)}else 0}function Bi(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:i.length||r||n?(l={},i.length&&i.forEach((e=>Pi(l,e,s,!0))),Pi(l,t,s)):l=t,k(t)&&a.set(t,l),l}function Pi(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Pi(e,a,r,!0),i&&i.forEach((t=>Pi(e,t,r,!0)));for(const i in t)if(n&&"expose"===i);else{const n=Mi[i]||r&&r[i];e[i]=n?n(e[i],t[i]):t[i]}return e}const Mi={data:Oi,props:Gi,emits:Gi,methods:Ui,computed:Ui,beforeCreate:Ni,created:Ni,beforeMount:Ni,mounted:Ni,beforeUpdate:Ni,updated:Ni,beforeDestroy:Ni,beforeUnmount:Ni,destroyed:Ni,unmounted:Ni,activated:Ni,deactivated:Ni,errorCaptured:Ni,serverPrefetch:Ni,components:Ui,directives:Ui,watch:function(e,t){if(!e)return t;if(!t)return e;const r=h(Object.create(null),e);for(const n in t)r[n]=Ni(e[n],t[n]);return r},provide:Oi,inject:function(e,t){return Ui(Fi(e),Fi(t))}};function Oi(e,t){return t?e?function(){return h(b(e)?e.call(this,this):e,b(t)?t.call(this,this):t)}:t:e}function Fi(e){if(m(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Ni(e,t){return e?[...new Set([].concat(e,t))]:t}function Ui(e,t){return e?h(Object.create(null),e,t):t}function Gi(e,t){return e?m(e)&&m(t)?[...new Set([...e,...t])]:h(Object.create(null),Ti(e),Ti(null!=t?t:{})):t}function Hi(){return{app:null,config:{isNativeTag:l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vi=0;function zi(e,t){return function(r,n=null){b(r)||(r=h({},r)),null==n||k(n)||(n=null);const i=Hi();const a=new Set;let s=!1;const o=i.app={_uid:Vi++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Ps,get config(){return i.config},set config(e){0},use:(e,...t)=>(a.has(e)||(e&&b(e.install)?(a.add(e),e.install(o,...t)):b(e)&&(a.add(e),e(o,...t))),o),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),o),component:(e,t)=>t?(i.components[e]=t,o):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,o):i.directives[e],mount(a,l,c){if(!s){0;const u=qa(r,n);return u.appContext=i,l&&t?t(u,a):e(u,a,c),s=!0,o._container=a,a.__vue_app__=o,Ts(u.component)||u.component.proxy}},unmount(){s&&(e(null,o._container),delete o._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,o),runWithContext(e){ji=o;try{return e()}finally{ji=null}}};return o}}let ji=null;function Ki(e,t){if(os){let r=os.provides;const n=os.parent&&os.parent.provides;n===r&&(r=os.provides=Object.create(n)),r[e]=t}else 0}function qi(e,t,r=!1){const n=os||Or;if(n||ji){const i=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:ji._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&b(t)?t.call(n&&n.proxy):t}else 0}function Wi(){return!!(os||Or||ji)}function Yi(e,t,r,n){const[i,s]=e.propsOptions;let o,l=!1;if(t)for(let a in t){if(R(a))continue;const c=t[a];let u;i&&g(i,u=P(a))?s&&s.includes(u)?(o||(o={}))[u]=c:r[u]=c:Mr(e.emitsOptions,a)||a in n&&c===n[a]||(n[a]=c,l=!0)}if(s){const t=Ot(r),n=o||a;for(let a=0;a<s.length;a++){const o=s[a];r[o]=$i(i,t,o,n[o],e,!g(n,o))}}return l}function $i(e,t,r,n,i,a){const s=e[r];if(null!=s){const e=g(s,"default");if(e&&void 0===n){const e=s.default;if(s.type!==Function&&!s.skipFactory&&b(e)){const{propsDefaults:a}=i;r in a?n=a[r]:(hs(i),n=a[r]=e.call(null,t),fs())}else n=e}s[0]&&(a&&!e?n=!1:!s[1]||""!==n&&n!==O(r)||(n=!0))}return n}function Qi(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const o=e.props,l={},c=[];let u=!1;if(!b(e)){const n=e=>{u=!0;const[r,n]=Qi(e,t,!0);h(l,r),n&&c.push(...n)};!r&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!o&&!u)return k(e)&&n.set(e,s),s;if(m(o))for(let e=0;e<o.length;e++){0;const t=P(o[e]);Xi(t)&&(l[t]=a)}else if(o){0;for(const e in o){const t=P(e);if(Xi(t)){const r=o[e],n=l[t]=m(r)||b(r)?{type:r}:h({},r);if(n){const e=ea(Boolean,n.type),r=ea(String,n.type);n[0]=e>-1,n[1]=r<0||e<r,(e>-1||g(n,"default"))&&c.push(t)}}}}const d=[l,c];return k(e)&&n.set(e,d),d}function Xi(e){return"$"!==e[0]}function Ji(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function Zi(e,t){return Ji(e)===Ji(t)}function ea(e,t){return m(t)?t.findIndex((t=>Zi(t,e))):b(t)&&Zi(t,e)?0:-1}const ta=e=>"_"===e[0]||"$stable"===e,ra=e=>m(e)?e.map(Za):[Za(e)],na=(e,t,r)=>{if(t._n)return t;const n=Vr(((...e)=>ra(t(...e))),r);return n._c=!1,n},ia=(e,t,r)=>{const n=e._ctx;for(const r in e){if(ta(r))continue;const i=e[r];if(b(i))t[r]=na(0,i,n);else if(null!=i){0;const e=ra(i);t[r]=()=>e}}},aa=(e,t)=>{const r=ra(t);e.slots.default=()=>r},sa=(e,t)=>{if(32&e.vnode.shapeFlag){const r=t._;r?(e.slots=Ot(t),H(t,"_",r)):ia(t,e.slots={})}else e.slots={},t&&aa(e,t);H(e.slots,Va,1)},oa=(e,t,r)=>{const{vnode:n,slots:i}=e;let s=!0,o=a;if(32&n.shapeFlag){const e=t._;e?r&&1===e?s=!1:(h(i,t),r||1!==e||delete i._):(s=!t.$stable,ia(t,i)),o=t}else t&&(aa(e,t),o={default:1});if(s)for(const e in i)ta(e)||e in o||delete i[e]};function la(e,t,r,n,i=!1){if(m(e))return void e.forEach(((e,a)=>la(e,t&&(m(t)?t[a]:t),r,n,i)));if(xn(n)&&!i)return;const s=4&n.shapeFlag?Ts(n.component)||n.component.proxy:n.el,o=i?null:s,{i:l,r:c}=e;const u=t&&t.r,d=l.refs===a?l.refs={}:l.refs,h=l.setupState;if(null!=u&&u!==c&&(C(u)?(d[u]=null,g(h,u)&&(h[u]=null)):Vt(u)&&(u.value=null)),b(c))lr(c,l,12,[o,d]);else{const t=C(c),n=Vt(c);if(t||n){const a=()=>{if(e.f){const r=t?g(h,c)?h[c]:d[c]:c.value;i?m(r)&&f(r,s):m(r)?r.includes(s)||r.push(s):t?(d[c]=[s],g(h,c)&&(h[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else t?(d[c]=o,g(h,c)&&(h[c]=o)):n&&(c.value=o,e.k&&(d[e.k]=o))};o?(a.id=-1,fa(a,r)):a()}else 0}}let ca=!1;const ua=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,da=e=>8===e.nodeType;function ha(e){const{mt:t,p:r,o:{patchProp:n,createText:i,nextSibling:a,parentNode:s,remove:o,insert:l,createComment:c}}=e,d=(r,n,o,c,u,A=!1)=>{const v=da(r)&&"["===r.data,y=()=>g(r,n,o,c,u,v),{type:b,ref:C,shapeFlag:_,patchFlag:k}=n;let T=r.nodeType;n.el=r,-2===k&&(A=!1,n.dynamicChildren=null);let x=null;switch(b){case Ea:3!==T?""===n.children?(l(n.el=i(""),s(r),r),x=r):x=y():(r.data!==n.children&&(ca=!0,r.data=n.children),x=a(r));break;case wa:x=8!==T||v?y():a(r);break;case Sa:if(v&&(T=(r=a(r)).nodeType),1===T||3===T){x=r;const e=!n.children.length;for(let t=0;t<n.staticCount;t++)e&&(n.children+=1===x.nodeType?x.outerHTML:x.data),t===n.staticCount-1&&(n.anchor=x),x=a(x);return v?a(x):x}y();break;case xa:x=v?p(r,n,o,c,u,A):y();break;default:if(1&_)x=1!==T||n.type.toLowerCase()!==r.tagName.toLowerCase()?y():h(r,n,o,c,u,A);else if(6&_){n.slotScopeIds=u;const e=s(r);if(t(n,e,null,o,c,ua(e),A),x=v?m(r):a(r),x&&da(x)&&"teleport end"===x.data&&(x=a(x)),xn(n)){let t;v?(t=qa(xa),t.anchor=x?x.previousSibling:e.lastChild):t=3===r.nodeType?Qa(""):qa("div"),t.el=r,n.component.subTree=t}}else 64&_?x=8!==T?y():n.type.hydrate(r,n,o,c,u,A,e,f):128&_&&(x=n.type.hydrate(r,n,o,c,ua(s(r)),u,A,e,d))}return null!=C&&la(C,null,c,n),x},h=(e,t,r,i,a,s)=>{s=s||!!t.dynamicChildren;const{type:l,props:c,patchFlag:d,shapeFlag:h,dirs:p}=t,g="input"===l&&p||"option"===l;if(g||-1!==d){if(p&&fn(t,null,r,"created"),c)if(g||!s||48&d)for(const t in c)(g&&t.endsWith("value")||u(t)&&!R(t))&&n(e,t,null,c[t],!1,void 0,r);else c.onClick&&n(e,"onClick",null,c.onClick,!1,void 0,r);let l;if((l=c&&c.onVnodeBeforeMount)&&ns(l,r,t),p&&fn(t,null,r,"beforeMount"),((l=c&&c.onVnodeMounted)||p)&&en((()=>{l&&ns(l,r,t),p&&fn(t,null,r,"mounted")}),i),16&h&&(!c||!c.innerHTML&&!c.textContent)){let n=f(e.firstChild,t,e,r,i,a,s);for(;n;){ca=!0;const e=n;n=n.nextSibling,o(e)}}else 8&h&&e.textContent!==t.children&&(ca=!0,e.textContent=t.children)}return e.nextSibling},f=(e,t,n,i,a,s,o)=>{o=o||!!t.dynamicChildren;const l=t.children,c=l.length;for(let t=0;t<c;t++){const c=o?l[t]:l[t]=Za(l[t]);if(e)e=d(e,c,i,a,s,o);else{if(c.type===Ea&&!c.children)continue;ca=!0,r(null,c,n,null,i,a,ua(n),s)}}return e},p=(e,t,r,n,i,o)=>{const{slotScopeIds:u}=t;u&&(i=i?i.concat(u):u);const d=s(e),h=f(a(e),t,d,r,n,i,o);return h&&da(h)&&"]"===h.data?a(t.anchor=h):(ca=!0,l(t.anchor=c("]"),d,h),h)},g=(e,t,n,i,l,c)=>{if(ca=!0,t.el=null,c){const t=m(e);for(;;){const r=a(e);if(!r||r===t)break;o(r)}}const u=a(e),d=s(e);return o(e),r(null,t,d,u,n,i,ua(d),l),u},m=e=>{let t=0;for(;e;)if((e=a(e))&&da(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return a(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return r(null,e,t),xr(),void(t._vnode=e);ca=!1,d(t.firstChild,e,null,null,null),xr(),t._vnode=e,ca&&console.error("Hydration completed but contains mismatches.")},d]}const fa=en;function pa(e){return ma(e)}function ga(e){return ma(e,ha)}function ma(e,t){K().__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=o,insertStaticContent:A}=e,v=(e,t,r,n=null,i=null,a=null,s=!1,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ga(e,t)&&(n=Q(e),j(e,i,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Ea:y(e,t,r,n);break;case wa:b(e,t,r,n);break;case Sa:null==e&&C(t,r,n,s);break;case xa:D(e,t,r,n,i,a,s,o,l);break;default:1&d?k(e,t,r,n,i,a,s,o,l):6&d?I(e,t,r,n,i,a,s,o,l):(64&d||128&d)&&c.process(e,t,r,n,i,a,s,o,l,J)}null!=u&&i&&la(u,e&&e.ref,a,t||e,!t)},y=(e,t,n,i)=>{if(null==e)r(t.el=c(t.children),n,i);else{const r=t.el=e.el;t.children!==e.children&&d(r,t.children)}},b=(e,t,n,i)=>{null==e?r(t.el=u(t.children||""),n,i):t.el=e.el},C=(e,t,r,n)=>{[e.el,e.anchor]=A(e.children,t,r,n,e.el,e.anchor)},_=({el:e,anchor:t})=>{let r;for(;e&&e!==t;)r=p(e),n(e),e=r;n(t)},k=(e,t,r,n,i,a,s,o,l)=>{s=s||"svg"===t.type,null==e?T(t,r,n,i,a,s,o,l):w(e,t,i,a,s,o,l)},T=(e,t,n,a,s,o,c,u)=>{let d,f;const{type:p,props:g,shapeFlag:m,transition:A,dirs:v}=e;if(d=e.el=l(e.type,o,g&&g.is,g),8&m?h(d,e.children):16&m&&E(e.children,d,null,a,s,o&&"foreignObject"!==p,c,u),v&&fn(e,null,a,"created"),x(d,e,e.scopeId,c,a),g){for(const t in g)"value"===t||R(t)||i(d,t,null,g[t],o,e.children,a,s,$);"value"in g&&i(d,"value",null,g.value),(f=g.onVnodeBeforeMount)&&ns(f,a,e)}v&&fn(e,null,a,"beforeMount");const y=(!s||s&&!s.pendingBranch)&&A&&!A.persisted;y&&A.beforeEnter(d),r(d,t,n),((f=g&&g.onVnodeMounted)||y||v)&&fa((()=>{f&&ns(f,a,e),y&&A.enter(d),v&&fn(e,null,a,"mounted")}),s)},x=(e,t,r,n,i)=>{if(r&&m(e,r),n)for(let t=0;t<n.length;t++)m(e,n[t]);if(i){if(t===i.subTree){const t=i.vnode;x(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},E=(e,t,r,n,i,a,s,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?es(e[c]):Za(e[c]);v(null,l,t,r,n,i,a,s,o)}},w=(e,t,r,n,s,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||a,g=t.props||a;let m;r&&Aa(r,!1),(m=g.onVnodeBeforeUpdate)&&ns(m,r,t,e),f&&fn(t,e,r,"beforeUpdate"),r&&Aa(r,!0);const A=s&&"foreignObject"!==t.type;if(d?S(e.dynamicChildren,d,c,r,n,A,o):l||U(e,t,c,null,r,n,A,o,!1),u>0){if(16&u)L(c,t,p,g,r,n,s);else if(2&u&&p.class!==g.class&&i(c,"class",null,g.class,s),4&u&&i(c,"style",p.style,g.style,s),8&u){const a=t.dynamicProps;for(let t=0;t<a.length;t++){const o=a[t],l=p[o],u=g[o];u===l&&"value"!==o||i(c,o,l,u,s,e.children,r,n,$)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||L(c,t,p,g,r,n,s);((m=g.onVnodeUpdated)||f)&&fa((()=>{m&&ns(m,r,t,e),f&&fn(t,e,r,"updated")}),n)},S=(e,t,r,n,i,a,s)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===xa||!Ga(l,c)||70&l.shapeFlag)?f(l.el):r;v(l,c,u,null,n,i,a,s,!0)}},L=(e,t,r,n,s,o,l)=>{if(r!==n){if(r!==a)for(const a in r)R(a)||a in n||i(e,a,r[a],null,l,t.children,s,o,$);for(const a in n){if(R(a))continue;const c=n[a],u=r[a];c!==u&&"value"!==a&&i(e,a,u,c,l,t.children,s,o,$)}"value"in n&&i(e,"value",r.value,n.value)}},D=(e,t,n,i,a,s,o,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=t;g&&(l=l?l.concat(g):g),null==e?(r(d,n,i),r(h,n,i),E(t.children,n,h,a,s,o,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(S(e.dynamicChildren,p,n,a,s,o,l),(null!=t.key||a&&t===a.subTree)&&va(e,t,!0)):U(e,t,n,h,a,s,o,l,u)},I=(e,t,r,n,i,a,s,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?i.ctx.activate(t,r,n,s,l):B(t,r,n,i,a,s,l):M(e,t,l)},B=(e,t,r,n,i,a,s)=>{const o=e.component=ss(e,n,i);if(Sn(e)&&(o.ctx.renderer=J),vs(o),o.asyncDep){if(i&&i.registerDep(o,F),!e.el){const e=o.subTree=qa(wa);b(null,e,t,r)}}else F(o,e,t,r,i,a,s)},M=(e,t,r)=>{const n=t.component=e.component;if(function(e,t,r){const{props:n,children:i,component:a}=e,{props:s,children:o,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(r&&l>=0))return!(!i&&!o||o&&o.$stable)||n!==s&&(n?!s||Wr(n,s,c):!!s);if(1024&l)return!0;if(16&l)return n?Wr(n,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t];if(s[r]!==n[r]&&!Mr(c,r))return!0}}return!1}(e,t,r)){if(n.asyncDep&&!n.asyncResolved)return void N(n,t,r);n.next=t,function(e){const t=fr.indexOf(e);t>pr&&fr.splice(t,1)}(n.update),n.update()}else t.el=e.el,n.vnode=t},F=(e,t,r,n,i,a,s)=>{const o=e.effect=new we((()=>{if(e.isMounted){let t,{next:r,bu:n,u:o,parent:l,vnode:c}=e,u=r;0,Aa(e,!1),r?(r.el=c.el,N(e,r,s)):r=c,n&&G(n),(t=r.props&&r.props.onVnodeBeforeUpdate)&&ns(t,l,r,c),Aa(e,!0);const d=zr(e);0;const h=e.subTree;e.subTree=d,v(h,d,f(h.el),Q(h),e,i,a),r.el=d.el,null===u&&Yr(e,d.el),o&&fa(o,i),(t=r.props&&r.props.onVnodeUpdated)&&fa((()=>ns(t,l,r,c)),i)}else{let s;const{el:o,props:l}=t,{bm:c,m:u,parent:d}=e,h=xn(t);if(Aa(e,!1),c&&G(c),!h&&(s=l&&l.onVnodeBeforeMount)&&ns(s,d,t),Aa(e,!0),o&&ee){const r=()=>{e.subTree=zr(e),ee(o,e.subTree,e,i,null)};h?t.type.__asyncLoader().then((()=>!e.isUnmounted&&r())):r()}else{0;const s=e.subTree=zr(e);0,v(null,s,r,n,e,i,a),t.el=s.el}if(u&&fa(u,i),!h&&(s=l&&l.onVnodeMounted)){const e=t;fa((()=>ns(s,d,e)),i)}(256&t.shapeFlag||d&&xn(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&fa(e.a,i),e.isMounted=!0,t=r=n=null}}),(()=>Cr(l)),e.scope),l=e.update=()=>o.run();l.id=e.uid,Aa(e,!0),l()},N=(e,t,r)=>{t.component=e;const n=e.vnode.props;e.vnode=t,e.next=null,function(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:s}}=e,o=Ot(i),[l]=e.propsOptions;let c=!1;if(!(n||s>0)||16&s){let n;Yi(e,t,i,a)&&(c=!0);for(const a in o)t&&(g(t,a)||(n=O(a))!==a&&g(t,n))||(l?!r||void 0===r[a]&&void 0===r[n]||(i[a]=$i(l,o,a,void 0,e,!0)):delete i[a]);if(a!==o)for(const e in a)t&&g(t,e)||(delete a[e],c=!0)}else if(8&s){const r=e.vnode.dynamicProps;for(let n=0;n<r.length;n++){let s=r[n];if(Mr(e.emitsOptions,s))continue;const u=t[s];if(l)if(g(a,s))u!==a[s]&&(a[s]=u,c=!0);else{const t=P(s);i[t]=$i(l,o,t,u,e,!1)}else u!==a[s]&&(a[s]=u,c=!0)}}c&&Fe(e,"set","$attrs")}(e,t.props,n,r),oa(e,t.children,r),Be(),Tr(),Pe()},U=(e,t,r,n,i,a,s,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void V(c,d,r,n,i,a,s,o,l);if(256&f)return void H(c,d,r,n,i,a,s,o,l)}8&p?(16&u&&$(c,i,a),d!==c&&h(r,d)):16&u?16&p?V(c,d,r,n,i,a,s,o,l):$(c,i,a,!0):(8&u&&h(r,""),16&p&&E(d,r,n,i,a,s,o,l))},H=(e,t,r,n,i,a,o,l,c)=>{t=t||s;const u=(e=e||s).length,d=t.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const n=t[f]=c?es(t[f]):Za(t[f]);v(e[f],n,r,null,i,a,o,l,c)}u>d?$(e,i,a,!0,!1,h):E(t,r,n,i,a,o,l,c,h)},V=(e,t,r,n,i,a,o,l,c)=>{let u=0;const d=t.length;let h=e.length-1,f=d-1;for(;u<=h&&u<=f;){const n=e[u],s=t[u]=c?es(t[u]):Za(t[u]);if(!Ga(n,s))break;v(n,s,r,null,i,a,o,l,c),u++}for(;u<=h&&u<=f;){const n=e[h],s=t[f]=c?es(t[f]):Za(t[f]);if(!Ga(n,s))break;v(n,s,r,null,i,a,o,l,c),h--,f--}if(u>h){if(u<=f){const e=f+1,s=e<d?t[e].el:n;for(;u<=f;)v(null,t[u]=c?es(t[u]):Za(t[u]),r,s,i,a,o,l,c),u++}}else if(u>f)for(;u<=h;)j(e[u],i,a,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=f;u++){const e=t[u]=c?es(t[u]):Za(t[u]);null!=e.key&&m.set(e.key,u)}let A,y=0;const b=f-g+1;let C=!1,_=0;const k=new Array(b);for(u=0;u<b;u++)k[u]=0;for(u=p;u<=h;u++){const n=e[u];if(y>=b){j(n,i,a,!0);continue}let s;if(null!=n.key)s=m.get(n.key);else for(A=g;A<=f;A++)if(0===k[A-g]&&Ga(n,t[A])){s=A;break}void 0===s?j(n,i,a,!0):(k[s-g]=u+1,s>=_?_=s:C=!0,v(n,t[s],r,null,i,a,o,l,c),y++)}const T=C?function(e){const t=e.slice(),r=[0];let n,i,a,s,o;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(i=r[r.length-1],e[i]<l){t[n]=i,r.push(n);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<l?a=o+1:s=o;l<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}a=r.length,s=r[a-1];for(;a-- >0;)r[a]=s,s=t[s];return r}(k):s;for(A=T.length-1,u=b-1;u>=0;u--){const e=g+u,s=t[e],h=e+1<d?t[e+1].el:n;0===k[u]?v(null,s,r,h,i,a,o,l,c):C&&(A<0||u!==T[A]?z(s,r,h,2):A--)}}},z=(e,t,n,i,a=null)=>{const{el:s,type:o,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void z(e.component.subTree,t,n,i);if(128&u)return void e.suspense.move(t,n,i);if(64&u)return void o.move(e,t,n,J);if(o===xa){r(s,t,n);for(let e=0;e<c.length;e++)z(c[e],t,n,i);return void r(e.anchor,t,n)}if(o===Sa)return void(({el:e,anchor:t},n,i)=>{let a;for(;e&&e!==t;)a=p(e),r(e,n,i),e=a;r(t,n,i)})(e,t,n);if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(s),r(s,t,n),fa((()=>l.enter(s)),a);else{const{leave:e,delayLeave:i,afterLeave:a}=l,o=()=>r(s,t,n),c=()=>{e(s,(()=>{o(),a&&a()}))};i?i(s,o,c):c()}else r(s,t,n)},j=(e,t,r,n=!1,i=!1)=>{const{type:a,props:s,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=o&&la(o,null,r,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,p=!xn(e);let g;if(p&&(g=s&&s.onVnodeBeforeUnmount)&&ns(g,t,e),6&u)Y(e.component,r,n);else{if(128&u)return void e.suspense.unmount(r,n);f&&fn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,r,i,J,n):c&&(a!==xa||d>0&&64&d)?$(c,t,r,!1,!0):(a===xa&&384&d||!i&&16&u)&&$(l,t,r),n&&q(e)}(p&&(g=s&&s.onVnodeUnmounted)||f)&&fa((()=>{g&&ns(g,t,e),f&&fn(e,null,t,"unmounted")}),r)},q=e=>{const{type:t,el:r,anchor:i,transition:a}=e;if(t===xa)return void W(r,i);if(t===Sa)return void _(e);const s=()=>{n(r),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:n}=a,i=()=>t(r,s);n?n(e.el,s,i):i()}else s()},W=(e,t)=>{let r;for(;e!==t;)r=p(e),n(e),e=r;n(t)},Y=(e,t,r)=>{const{bum:n,scope:i,update:a,subTree:s,um:o}=e;n&&G(n),i.stop(),a&&(a.active=!1,j(s,e,t,r)),o&&fa(o,t),fa((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},$=(e,t,r,n=!1,i=!1,a=0)=>{for(let s=a;s<e.length;s++)j(e[s],t,r,n,i)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),X=(e,t,r)=>{null==e?t._vnode&&j(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,r),Tr(),xr(),t._vnode=e},J={p:v,um:j,m:z,r:q,mt:B,mc:E,pc:U,pbc:S,n:Q,o:e};let Z,ee;return t&&([Z,ee]=t(J)),{render:X,hydrate:Z,createApp:zi(X,Z)}}function Aa({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function va(e,t,r=!1){const n=e.children,i=t.children;if(m(n)&&m(i))for(let e=0;e<n.length;e++){const t=n[e];let a=i[e];1&a.shapeFlag&&!a.dynamicChildren&&((a.patchFlag<=0||32===a.patchFlag)&&(a=i[e]=es(i[e]),a.el=t.el),r||va(t,a)),a.type===Ea&&(a.el=t.el)}}const ya=e=>e&&(e.disabled||""===e.disabled),ba=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,Ca=(e,t)=>{const r=e&&e.to;if(C(r)){if(t){const e=t(r);return e}return null}return r};function _a(e,t,r,{o:{insert:n},m:i},a=2){0===a&&n(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=e,d=2===a;if(d&&n(s,t,r),(!d||ya(u))&&16&l)for(let e=0;e<c.length;e++)i(c[e],t,r,2);d&&n(o,t,r)}const ka={__isTeleport:!0,process(e,t,r,n,i,a,s,o,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,A=ya(t.props);let{shapeFlag:v,children:y,dynamicChildren:b}=t;if(null==e){const e=t.el=g(""),c=t.anchor=g("");f(e,r,n),f(c,r,n);const d=t.target=Ca(t.props,p),h=t.targetAnchor=g("");d&&(f(h,d),s=s||ba(d));const m=(e,t)=>{16&v&&u(y,e,t,i,a,s,o,l)};A?m(r,c):d&&m(d,h)}else{t.el=e.el;const n=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,g=ya(e.props),m=g?r:u,v=g?n:f;if(s=s||ba(u),b?(h(e.dynamicChildren,b,m,i,a,s,o),va(e,t,!0)):l||d(e,t,m,v,i,a,s,o,!1),A)g||_a(t,r,n,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Ca(t.props,p);e&&_a(t,e,null,c,0)}else g&&_a(t,u,f,c,1)}Ta(t)},remove(e,t,r,n,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&a(u),(s||!ya(h))&&(a(c),16&o))for(let e=0;e<l.length;e++){const n=l[e];i(n,t,r,!0,!!n.dynamicChildren)}},move:_a,hydrate:function(e,t,r,n,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},c){const u=t.target=Ca(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(ya(t.props))t.anchor=c(s(e),t,o(e),r,n,i,a),t.targetAnchor=l;else{t.anchor=s(e);let o=l;for(;o;)if(o=s(o),o&&8===o.nodeType&&"teleport anchor"===o.data){t.targetAnchor=o,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(l,t,u,r,n,i,a)}Ta(t)}return t.anchor&&s(t.anchor)}};function Ta(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)1===r.nodeType&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const xa=Symbol.for("v-fgt"),Ea=Symbol.for("v-txt"),wa=Symbol.for("v-cmt"),Sa=Symbol.for("v-stc"),La=[];let Ra=null;function Da(e=!1){La.push(Ra=e?null:[])}function Ia(){La.pop(),Ra=La[La.length-1]||null}let Ba,Pa=1;function Ma(e){Pa+=e}function Oa(e){return e.dynamicChildren=Pa>0?Ra||s:null,Ia(),Pa>0&&Ra&&Ra.push(e),e}function Fa(e,t,r,n,i,a){return Oa(Ka(e,t,r,n,i,a,!0))}function Na(e,t,r,n,i){return Oa(qa(e,t,r,n,i,!0))}function Ua(e){return!!e&&!0===e.__v_isVNode}function Ga(e,t){return e.type===t.type&&e.key===t.key}function Ha(e){Ba=e}const Va="__vInternal",za=({key:e})=>null!=e?e:null,ja=({ref:e,ref_key:t,ref_for:r})=>("number"==typeof e&&(e=""+e),null!=e?C(e)||Vt(e)||b(e)?{i:Or,r:e,k:t,f:!!r}:e:null);function Ka(e,t=null,r=null,n=0,i=null,a=(e===xa?0:1),s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&za(t),ref:t&&ja(t),scopeId:Fr,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Or};return o?(ts(l,r),128&a&&e.normalize(l)):r&&(l.shapeFlag|=C(r)?8:16),Pa>0&&!s&&Ra&&(l.patchFlag>0||6&a)&&32!==l.patchFlag&&Ra.push(l),l}const qa=Wa;function Wa(e,t=null,r=null,n=0,i=null,a=!1){if(e&&e!==Jn||(e=wa),Ua(e)){const n=$a(e,t,!0);return r&&ts(n,r),Pa>0&&!a&&Ra&&(6&n.shapeFlag?Ra[Ra.indexOf(e)]=n:Ra.push(n)),n.patchFlag|=-2,n}if(Es(e)&&(e=e.__vccOpts),t){t=Ya(t);let{class:e,style:r}=t;e&&!C(e)&&(t.class=Z(e)),k(r)&&(Mt(r)&&!m(r)&&(r=h({},r)),t.style=Y(r))}return Ka(e,t,r,n,i,C(e)?1:$r(e)?128:(e=>e.__isTeleport)(e)?64:k(e)?4:b(e)?2:0,a,!0)}function Ya(e){return e?Mt(e)||Va in e?h({},e):e:null}function $a(e,t,r=!1){const{props:n,ref:i,patchFlag:a,children:s}=e,o=t?rs(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&za(o),ref:t&&t.ref?r&&i?m(i)?i.concat(ja(t)):[i,ja(t)]:ja(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xa?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$a(e.ssContent),ssFallback:e.ssFallback&&$a(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Qa(e=" ",t=0){return qa(Ea,null,e,t)}function Xa(e,t){const r=qa(Sa,null,e);return r.staticCount=t,r}function Ja(e="",t=!1){return t?(Da(),Na(wa,null,e)):qa(wa,null,e)}function Za(e){return null==e||"boolean"==typeof e?qa(wa):m(e)?qa(xa,null,e.slice()):"object"==typeof e?es(e):qa(Ea,null,String(e))}function es(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:$a(e)}function ts(e,t){let r=0;const{shapeFlag:n}=e;if(null==t)t=null;else if(m(t))r=16;else if("object"==typeof t){if(65&n){const r=t.default;return void(r&&(r._c&&(r._d=!1),ts(e,r()),r._c&&(r._d=!0)))}{r=32;const n=t._;n||Va in t?3===n&&Or&&(1===Or.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Or}}else b(t)?(t={default:t,_ctx:Or},r=32):(t=String(t),64&n?(r=16,t=[Qa(t)]):r=8);e.children=t,e.shapeFlag|=r}function rs(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=Z([t.class,n.class]));else if("style"===e)t.style=Y([t.style,n.style]);else if(u(e)){const r=t[e],i=n[e];!i||r===i||m(r)&&r.includes(i)||(t[e]=r?[].concat(r,i):i)}else""!==e&&(t[e]=n[e])}return t}function ns(e,t,r,n=null){cr(e,t,7,[r,n])}const is=Hi();let as=0;function ss(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||is,s={uid:as++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new he(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qi(n,i),emitsOptions:Pr(n,i),emit:null,emitted:null,propsDefaults:a,inheritAttrs:n.inheritAttrs,ctx:a,data:a,props:a,attrs:a,slots:a,refs:a,setupState:a,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Br.bind(null,s),e.ce&&e.ce(s),s}let os=null;const ls=()=>os||Or;let cs,us,ds="__VUE_INSTANCE_SETTERS__";(us=K()[ds])||(us=K()[ds]=[]),us.push((e=>os=e)),cs=e=>{us.length>1?us.forEach((t=>t(e))):us[0](e)};const hs=e=>{cs(e),e.scope.on()},fs=()=>{os&&os.scope.off(),cs(null)};function ps(e){return 4&e.vnode.shapeFlag}let gs,ms,As=!1;function vs(e,t=!1){As=t;const{props:r,children:n}=e.vnode,i=ps(e);!function(e,t,r,n=!1){const i={},a={};H(a,Va,1),e.propsDefaults=Object.create(null),Yi(e,t,i,a);for(const t in e.propsOptions[0])t in i||(i[t]=void 0);r?e.props=n?i:St(i):e.type.props?e.props=i:e.props=a,e.attrs=a}(e,r,i,t),sa(e,n);const a=i?function(e,t){const r=e.type;0;e.accessCache=Object.create(null),e.proxy=Ft(new Proxy(e.ctx,di)),!1;const{setup:n}=r;if(n){const r=e.setupContext=n.length>1?ks(e):null;hs(e),Be();const i=lr(n,e,0,[e.props,r]);if(Pe(),fs(),T(i)){if(i.then(fs,fs),t)return i.then((r=>{ys(e,r,t)})).catch((t=>{ur(t,e,0)}));e.asyncDep=i}else ys(e,i,t)}else _s(e,t)}(e,t):void 0;return As=!1,a}function ys(e,t,r){b(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:k(t)&&(e.setupState=Xt(t)),_s(e,r)}function bs(e){gs=e,ms=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,hi))}}const Cs=()=>!gs;function _s(e,t,r){const n=e.type;if(!e.render){if(!t&&gs&&!n.render){const t=n.template||Bi(e).template;if(t){0;const{isCustomElement:r,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:s}=n,o=h(h({isCustomElement:r,delimiters:a},i),s);n.render=gs(t,o)}}e.render=n.render||o,ms&&ms(e)}hs(e),Be(),Ri(e),Pe(),fs()}function ks(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,r)=>(Me(e,0,"$attrs"),t[r])}))}(e)},slots:e.slots,emit:e.emit,expose:t}}function Ts(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Xt(Ft(e.exposed)),{get:(t,r)=>r in t?t[r]:r in ci?ci[r](e):void 0,has:(e,t)=>t in e||t in ci}))}function xs(e,t=!0){return b(e)?e.displayName||e.name:e.name||t&&e.__name}function Es(e){return b(e)&&"__vccOpts"in e}const ws=(e,t)=>function(e,t,r=!1){let n,i;const a=b(e);return a?(n=e,i=o):(n=e.get,i=e.set),new ar(n,i,a||!i,r)}(e,0,As);function Ss(e,t,r){const n=arguments.length;return 2===n?k(t)&&!m(t)?Ua(t)?qa(e,null,[t]):qa(e,t):qa(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):3===n&&Ua(r)&&(r=[r]),qa(e,t,r))}const Ls=Symbol.for("v-scx"),Rs=()=>{{const e=qi(Ls);return e}};function Ds(){return void 0}function Is(e,t,r,n){const i=r[n];if(i&&Bs(i,e))return i;const a=t();return a.memo=e.slice(),r[n]=a}function Bs(e,t){const r=e.memo;if(r.length!=t.length)return!1;for(let e=0;e<r.length;e++)if(U(r[e],t[e]))return!1;return Pa>0&&Ra&&Ra.push(e),!0}const Ps="3.3.4",Ms={createComponentInstance:ss,setupComponent:vs,renderComponentRoot:zr,setCurrentRenderingInstance:Nr,isVNode:Ua,normalizeVNode:Za},Os=null,Fs=null,Ns="undefined"!=typeof document?document:null,Us=Ns&&Ns.createElement("template"),Gs={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?Ns.createElementNS("http://www.w3.org/2000/svg",e):Ns.createElement(e,r?{is:r}:void 0);return"select"===e&&n&&null!=n.multiple&&i.setAttribute("multiple",n.multiple),i},createText:e=>Ns.createTextNode(e),createComment:e=>Ns.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ns.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const s=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),i!==a&&(i=i.nextSibling););else{Us.innerHTML=n?`<svg>${e}</svg>`:e;const i=Us.content;if(n){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};const Hs=/\s*!important$/;function Vs(e,t,r){if(m(r))r.forEach((r=>Vs(e,t,r)));else if(null==r&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=function(e,t){const r=js[t];if(r)return r;let n=P(t);if("filter"!==n&&n in e)return js[t]=n;n=F(n);for(let r=0;r<zs.length;r++){const i=zs[r]+n;if(i in e)return js[t]=i}return t}(e,t);Hs.test(r)?e.setProperty(O(n),r.replace(Hs,""),"important"):e[n]=r}}const zs=["Webkit","Moz","ms"],js={};const Ks="http://www.w3.org/1999/xlink";function qs(e,t,r,n){e.addEventListener(t,r,n)}function Ws(e,t,r,n,i=null){const a=e._vei||(e._vei={}),s=a[t];if(n&&s)s.value=n;else{const[r,o]=function(e){let t;if(Ys.test(e)){let r;for(t={};r=e.match(Ys);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}const r=":"===e[2]?e.slice(3):O(e.slice(2));return[r,t]}(t);if(n){const s=a[t]=function(e,t){const r=e=>{if(e._vts){if(e._vts<=r.attached)return}else e._vts=Date.now();cr(function(e,t){if(m(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,r.value),t,5,[e])};return r.value=e,r.attached=Xs(),r}(n,i);qs(e,r,s,o)}else s&&(!function(e,t,r,n){e.removeEventListener(t,r,n)}(e,r,s,o),a[t]=void 0)}}const Ys=/(?:Once|Passive|Capture)$/;let $s=0;const Qs=Promise.resolve(),Xs=()=>$s||(Qs.then((()=>$s=0)),$s=Date.now());const Js=/^on[a-z]/;function Zs(e,t){const r=Tn(e);class n extends ro{constructor(e){super(r,e,t)}}return n.def=r,n}const eo=e=>Zs(e,sl),to="undefined"!=typeof HTMLElement?HTMLElement:class{};class ro extends to{constructor(e,t={},r){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,br((()=>{this._connected||(al(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:r,styles:n}=e;let i;if(r&&!m(r))for(const e in r){const t=r[e];(t===Number||t&&t.type===Number)&&(e in this._props&&(this._props[e]=z(this._props[e])),(i||(i=Object.create(null)))[P(e)]=!0)}this._numberProps=i,t&&this._resolveProps(e),this._applyStyles(n),this._update()},t=this._def.__asyncLoader;t?t().then((t=>e(t,!0))):e(this._def)}_resolveProps(e){const{props:t}=e,r=m(t)?t:Object.keys(t||{});for(const e of Object.keys(this))"_"!==e[0]&&r.includes(e)&&this._setProp(e,this[e],!0,!1);for(const e of r.map(P))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}})}_setAttr(e){let t=this.getAttribute(e);const r=P(e);this._numberProps&&this._numberProps[r]&&(t=z(t)),this._setProp(r,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,r=!0,n=!0){t!==this._props[e]&&(this._props[e]=t,n&&this._instance&&this._update(),r&&(!0===t?this.setAttribute(O(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(O(e),t+""):t||this.removeAttribute(O(e))))}_update(){al(this._createVNode(),this.shadowRoot)}_createVNode(){const e=qa(this._def,h({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...r)=>{t(e,r),O(e)!==e&&t(O(e),r)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof ro){e.parent=r._instance,e.provides=r._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function no(e="$style"){{const t=ls();if(!t)return a;const r=t.type.__cssModules;if(!r)return a;const n=r[e];return n||a}}function io(e){const t=ls();if(!t)return;const r=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>so(e,r)))},n=()=>{const n=e(t.proxy);ao(t.subTree,n),r(n)};nn(n),Gn((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),jn((()=>e.disconnect()))}))}function ao(e,t){if(128&e.shapeFlag){const r=e.suspense;e=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push((()=>{ao(r.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)so(e.el,t);else if(e.type===xa)e.children.forEach((e=>ao(e,t)));else if(e.type===Sa){let{el:r,anchor:n}=e;for(;r&&(so(r,t),r!==n);)r=r.nextSibling}}function so(e,t){if(1===e.nodeType){const r=e.style;for(const e in t)r.setProperty(`--${e}`,t[e])}}const oo="transition",lo="animation",co=(e,{slots:t})=>Ss(An,go(e),t);co.displayName="Transition";const uo={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ho=co.props=h({},mn,uo),fo=(e,t=[])=>{m(e)?e.forEach((e=>e(...t))):e&&e(...t)},po=e=>!!e&&(m(e)?e.some((e=>e.length>1)):e.length>1);function go(e){const t={};for(const r in e)r in uo||(t[r]=e[r]);if(!1===e.css)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,g=function(e){if(null==e)return null;if(k(e))return[mo(e.enter),mo(e.leave)];{const t=mo(e);return[t,t]}}(i),m=g&&g[0],A=g&&g[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:C,onLeaveCancelled:_,onBeforeAppear:T=v,onAppear:x=y,onAppearCancelled:E=b}=t,w=(e,t,r)=>{vo(e,t?u:o),vo(e,t?c:s),r&&r()},S=(e,t)=>{e._isLeaving=!1,vo(e,d),vo(e,p),vo(e,f),t&&t()},L=e=>(t,r)=>{const i=e?x:y,s=()=>w(t,e,r);fo(i,[t,s]),yo((()=>{vo(t,e?l:a),Ao(t,e?u:o),po(i)||Co(t,n,m,s)}))};return h(t,{onBeforeEnter(e){fo(v,[e]),Ao(e,a),Ao(e,s)},onBeforeAppear(e){fo(T,[e]),Ao(e,l),Ao(e,c)},onEnter:L(!1),onAppear:L(!0),onLeave(e,t){e._isLeaving=!0;const r=()=>S(e,t);Ao(e,d),xo(),Ao(e,f),yo((()=>{e._isLeaving&&(vo(e,d),Ao(e,p),po(C)||Co(e,n,A,r))})),fo(C,[e,r])},onEnterCancelled(e){w(e,!1),fo(b,[e])},onAppearCancelled(e){w(e,!0),fo(E,[e])},onLeaveCancelled(e){S(e),fo(_,[e])}})}function mo(e){return z(e)}function Ao(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function vo(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function yo(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let bo=0;function Co(e,t,r,n){const i=e._endId=++bo,a=()=>{i===e._endId&&n()};if(r)return setTimeout(a,r);const{type:s,timeout:o,propCount:l}=_o(e,t);if(!s)return n();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),a()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),o+1),e.addEventListener(c,h)}function _o(e,t){const r=window.getComputedStyle(e),n=e=>(r[e]||"").split(", "),i=n(`${oo}Delay`),a=n(`${oo}Duration`),s=ko(i,a),o=n(`${lo}Delay`),l=n(`${lo}Duration`),c=ko(o,l);let u=null,d=0,h=0;t===oo?s>0&&(u=oo,d=s,h=a.length):t===lo?c>0&&(u=lo,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?oo:lo:null,h=u?u===oo?a.length:l.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===oo&&/\b(transform|all)(,|$)/.test(n(`${oo}Property`).toString())}}function ko(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,r)=>To(t)+To(e[r]))))}function To(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function xo(){return document.body.offsetHeight}const Eo=new WeakMap,wo=new WeakMap,So={name:"TransitionGroup",props:h({},ho,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=ls(),n=pn();let i,a;return Vn((()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,r){const n=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&n.classList.remove(e)))}));r.split(/\s+/).forEach((e=>e&&n.classList.add(e))),n.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(n);const{hasTransform:a}=_o(n);return i.removeChild(n),a}(i[0].el,r.vnode.el,t))return;i.forEach(Ro),i.forEach(Do);const n=i.filter(Io);xo(),n.forEach((e=>{const r=e.el,n=r.style;Ao(r,t),n.transform=n.webkitTransform=n.transitionDuration="";const i=r._moveCb=e=>{e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener("transitionend",i),r._moveCb=null,vo(r,t))};r.addEventListener("transitionend",i)}))})),()=>{const s=Ot(e),o=go(s);let l=s.tag||xa;i=a,a=t.default?kn(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&_n(t,yn(t,o,n,r))}if(i)for(let e=0;e<i.length;e++){const t=i[e];_n(t,yn(t,o,n,r)),Eo.set(t,t.el.getBoundingClientRect())}return qa(l,null,a)}}},Lo=So;function Ro(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function Do(e){wo.set(e,e.el.getBoundingClientRect())}function Io(e){const t=Eo.get(e),r=wo.get(e),n=t.left-r.left,i=t.top-r.top;if(n||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${i}px)`,t.transitionDuration="0s",e}}const Bo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return m(t)?e=>G(t,e):t};function Po(e){e.target.composing=!0}function Mo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Oo={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=Bo(i);const a=n||i.props&&"number"===i.props.type;qs(e,t?"change":"input",(t=>{if(t.target.composing)return;let n=e.value;r&&(n=n.trim()),a&&(n=V(n)),e._assign(n)})),r&&qs(e,"change",(()=>{e.value=e.value.trim()})),t||(qs(e,"compositionstart",Po),qs(e,"compositionend",Mo),qs(e,"change",Mo))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},a){if(e._assign=Bo(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(r)return;if(n&&e.value.trim()===t)return;if((i||"number"===e.type)&&V(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},Fo={deep:!0,created(e,t,r){e._assign=Bo(r),qs(e,"change",(()=>{const t=e._modelValue,r=Vo(e),n=e.checked,i=e._assign;if(m(t)){const e=le(t,r),a=-1!==e;if(n&&!a)i(t.concat(r));else if(!n&&a){const r=[...t];r.splice(e,1),i(r)}}else if(v(t)){const e=new Set(t);n?e.add(r):e.delete(r),i(e)}else i(zo(e,n))}))},mounted:No,beforeUpdate(e,t,r){e._assign=Bo(r),No(e,t,r)}};function No(e,{value:t,oldValue:r},n){e._modelValue=t,m(t)?e.checked=le(t,n.props.value)>-1:v(t)?e.checked=t.has(n.props.value):t!==r&&(e.checked=oe(t,zo(e,!0)))}const Uo={created(e,{value:t},r){e.checked=oe(t,r.props.value),e._assign=Bo(r),qs(e,"change",(()=>{e._assign(Vo(e))}))},beforeUpdate(e,{value:t,oldValue:r},n){e._assign=Bo(n),t!==r&&(e.checked=oe(t,n.props.value))}},Go={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const i=v(t);qs(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>r?V(Vo(e)):Vo(e)));e._assign(e.multiple?i?new Set(t):t:t[0])})),e._assign=Bo(n)},mounted(e,{value:t}){Ho(e,t)},beforeUpdate(e,t,r){e._assign=Bo(r)},updated(e,{value:t}){Ho(e,t)}};function Ho(e,t){const r=e.multiple;if(!r||m(t)||v(t)){for(let n=0,i=e.options.length;n<i;n++){const i=e.options[n],a=Vo(i);if(r)m(t)?i.selected=le(t,a)>-1:i.selected=t.has(a);else if(oe(Vo(i),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}r||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Vo(e){return"_value"in e?e._value:e.value}function zo(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const jo={created(e,t,r){qo(e,t,r,null,"created")},mounted(e,t,r){qo(e,t,r,null,"mounted")},beforeUpdate(e,t,r,n){qo(e,t,r,n,"beforeUpdate")},updated(e,t,r,n){qo(e,t,r,n,"updated")}};function Ko(e,t){switch(e){case"SELECT":return Go;case"TEXTAREA":return Oo;default:switch(t){case"checkbox":return Fo;case"radio":return Uo;default:return Oo}}}function qo(e,t,r,n,i){const a=Ko(e.tagName,r.props&&r.props.type)[i];a&&a(e,t,r,n)}const Wo=["ctrl","shift","alt","meta"],Yo={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Wo.some((r=>e[`${r}Key`]&&!t.includes(r)))},$o=(e,t)=>(r,...n)=>{for(let e=0;e<t.length;e++){const n=Yo[t[e]];if(n&&n(r,t))return}return e(r,...n)},Qo={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xo=(e,t)=>r=>{if(!("key"in r))return;const n=O(r.key);return t.some((e=>e===n||Qo[e]===n))?e(r):void 0},Jo={beforeMount(e,{value:t},{transition:r}){e._vod="none"===e.style.display?"":e.style.display,r&&t?r.beforeEnter(e):Zo(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),Zo(e,!0),n.enter(e)):n.leave(e,(()=>{Zo(e,!1)})):Zo(e,t))},beforeUnmount(e,{value:t}){Zo(e,t)}};function Zo(e,t){e.style.display=t?e._vod:"none"}const el=h({patchProp:(e,t,r,n,i=!1,a,s,o,l)=>{"class"===t?function(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}(e,n,i):"style"===t?function(e,t,r){const n=e.style,i=C(r);if(r&&!i){if(t&&!C(t))for(const e in t)null==r[e]&&Vs(n,e,"");for(const e in r)Vs(n,e,r[e])}else{const a=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=a)}}(e,r,n):u(t)?d(t)||Ws(e,t,0,n,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,r,n){if(n)return"innerHTML"===t||"textContent"===t||!!(t in e&&Js.test(t)&&b(r));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Js.test(t)&&C(r))return!1;return t in e}(e,t,n,i))?function(e,t,r,n,i,a,s){if("innerHTML"===t||"textContent"===t)return n&&s(n,i,a),void(e[t]=null==r?"":r);const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){e._value=r;const n=null==r?"":r;return("OPTION"===o?e.getAttribute("value"):e.value)!==n&&(e.value=n),void(null==r&&e.removeAttribute(t))}let l=!1;if(""===r||null==r){const n=typeof e[t];"boolean"===n?r=se(r):null==r&&"string"===n?(r="",l=!0):"number"===n&&(r=0,l=!0)}try{e[t]=r}catch(e){}l&&e.removeAttribute(t)}(e,t,n,a,s,o,l):("true-value"===t?e._trueValue=n:"false-value"===t&&(e._falseValue=n),function(e,t,r,n,i){if(n&&t.startsWith("xlink:"))null==r?e.removeAttributeNS(Ks,t.slice(6,t.length)):e.setAttributeNS(Ks,t,r);else{const n=ae(t);null==r||n&&!se(r)?e.removeAttribute(t):e.setAttribute(t,n?"":r)}}(e,t,n,i))}},Gs);let tl,rl=!1;function nl(){return tl||(tl=pa(el))}function il(){return tl=rl?tl:ga(el),rl=!0,tl}const al=(...e)=>{nl().render(...e)},sl=(...e)=>{il().hydrate(...e)},ol=(...e)=>{const t=nl().createApp(...e);const{mount:r}=t;return t.mount=e=>{const n=cl(e);if(!n)return;const i=t._component;b(i)||i.render||i.template||(i.template=n.innerHTML),n.innerHTML="";const a=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t},ll=(...e)=>{const t=il().createApp(...e);const{mount:r}=t;return t.mount=e=>{const t=cl(e);if(t)return r(t,!0,t instanceof SVGElement)},t};function cl(e){if(C(e)){return document.querySelector(e)}return e}let ul=!1;const dl=()=>{ul||(ul=!0,Oo.getSSRProps=({value:e})=>({value:e}),Uo.getSSRProps=({value:e},t)=>{if(t.props&&oe(t.props.value,e))return{checked:!0}},Fo.getSSRProps=({value:e},t)=>{if(m(e)){if(t.props&&le(e,t.props.value)>-1)return{checked:!0}}else if(v(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},jo.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const r=Ko(t.type.toUpperCase(),t.props&&t.props.type);return r.getSSRProps?r.getSSRProps(e,t):void 0},Jo.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})};function hl(e){throw e}function fl(e){}function pl(e,t,r,n){const i=new SyntaxError(String(e));return i.code=e,i.loc=t,i}const gl=Symbol(""),ml=Symbol(""),Al=Symbol(""),vl=Symbol(""),yl=Symbol(""),bl=Symbol(""),Cl=Symbol(""),_l=Symbol(""),kl=Symbol(""),Tl=Symbol(""),xl=Symbol(""),El=Symbol(""),wl=Symbol(""),Sl=Symbol(""),Ll=Symbol(""),Rl=Symbol(""),Dl=Symbol(""),Il=Symbol(""),Bl=Symbol(""),Pl=Symbol(""),Ml=Symbol(""),Ol=Symbol(""),Fl=Symbol(""),Nl=Symbol(""),Ul=Symbol(""),Gl=Symbol(""),Hl=Symbol(""),Vl=Symbol(""),zl=Symbol(""),jl=Symbol(""),Kl=Symbol(""),ql=Symbol(""),Wl=Symbol(""),Yl=Symbol(""),$l=Symbol(""),Ql=Symbol(""),Xl=Symbol(""),Jl=Symbol(""),Zl=Symbol(""),ec={[gl]:"Fragment",[ml]:"Teleport",[Al]:"Suspense",[vl]:"KeepAlive",[yl]:"BaseTransition",[bl]:"openBlock",[Cl]:"createBlock",[_l]:"createElementBlock",[kl]:"createVNode",[Tl]:"createElementVNode",[xl]:"createCommentVNode",[El]:"createTextVNode",[wl]:"createStaticVNode",[Sl]:"resolveComponent",[Ll]:"resolveDynamicComponent",[Rl]:"resolveDirective",[Dl]:"resolveFilter",[Il]:"withDirectives",[Bl]:"renderList",[Pl]:"renderSlot",[Ml]:"createSlots",[Ol]:"toDisplayString",[Fl]:"mergeProps",[Nl]:"normalizeClass",[Ul]:"normalizeStyle",[Gl]:"normalizeProps",[Hl]:"guardReactiveProps",[Vl]:"toHandlers",[zl]:"camelize",[jl]:"capitalize",[Kl]:"toHandlerKey",[ql]:"setBlockTracking",[Wl]:"pushScopeId",[Yl]:"popScopeId",[$l]:"withCtx",[Ql]:"unref",[Xl]:"isRef",[Jl]:"withMemo",[Zl]:"isMemoSame"};const tc={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function rc(e,t,r,n,i,a,s,o=!1,l=!1,c=!1,u=tc){return e&&(o?(e.helper(bl),e.helper(hc(e.inSSR,c))):e.helper(dc(e.inSSR,c)),s&&e.helper(Il)),{type:13,tag:t,props:r,children:n,patchFlag:i,dynamicProps:a,directives:s,isBlock:o,disableTracking:l,isComponent:c,loc:u}}function nc(e,t=tc){return{type:17,loc:t,elements:e}}function ic(e,t=tc){return{type:15,loc:t,properties:e}}function ac(e,t){return{type:16,loc:tc,key:C(e)?sc(e,!0):e,value:t}}function sc(e,t=!1,r=tc,n=0){return{type:4,loc:r,content:e,isStatic:t,constType:t?3:n}}function oc(e,t=tc){return{type:8,loc:t,children:e}}function lc(e,t=[],r=tc){return{type:14,loc:r,callee:e,arguments:t}}function cc(e,t=void 0,r=!1,n=!1,i=tc){return{type:18,params:e,returns:t,newline:r,isSlot:n,loc:i}}function uc(e,t,r,n=!0){return{type:19,test:e,consequent:t,alternate:r,newline:n,loc:tc}}function dc(e,t){return e||t?kl:Tl}function hc(e,t){return e||t?Cl:_l}function fc(e,{helper:t,removeHelper:r,inSSR:n}){e.isBlock||(e.isBlock=!0,r(dc(n,e.isComponent)),t(bl),t(hc(n,e.isComponent)))}const pc=e=>4===e.type&&e.isStatic,gc=(e,t)=>e===t||e===O(t);function mc(e){return gc(e,"Teleport")?ml:gc(e,"Suspense")?Al:gc(e,"KeepAlive")?vl:gc(e,"BaseTransition")?yl:void 0}const Ac=/^\d|[^\$\w]/,vc=e=>!Ac.test(e),yc=/[A-Za-z_$\xA0-\uFFFF]/,bc=/[\.\?\w$\xA0-\uFFFF]/,Cc=/\s+[.[]\s*|\s*[.[]\s+/g,_c=e=>{e=e.trim().replace(Cc,(e=>e.trim()));let t=0,r=[],n=0,i=0,a=null;for(let s=0;s<e.length;s++){const o=e.charAt(s);switch(t){case 0:if("["===o)r.push(t),t=1,n++;else if("("===o)r.push(t),t=2,i++;else if(!(0===s?yc:bc).test(o))return!1;break;case 1:"'"===o||'"'===o||"`"===o?(r.push(t),t=3,a=o):"["===o?n++:"]"===o&&(--n||(t=r.pop()));break;case 2:if("'"===o||'"'===o||"`"===o)r.push(t),t=3,a=o;else if("("===o)i++;else if(")"===o){if(s===e.length-1)return!1;--i||(t=r.pop())}break;case 3:o===a&&(t=r.pop(),a=null)}}return!n&&!i};function kc(e,t,r){const n={source:e.source.slice(t,t+r),start:Tc(e.start,e.source,t),end:e.end};return null!=r&&(n.end=Tc(e.start,e.source,t+r)),n}function Tc(e,t,r=t.length){return xc(h({},e),t,r)}function xc(e,t,r=t.length){let n=0,i=-1;for(let e=0;e<r;e++)10===t.charCodeAt(e)&&(n++,i=e);return e.offset+=r,e.line+=n,e.column=-1===i?e.column+r:r-i,e}function Ec(e,t,r=!1){for(let n=0;n<e.props.length;n++){const i=e.props[n];if(7===i.type&&(r||i.exp)&&(C(t)?i.name===t:t.test(i.name)))return i}}function wc(e,t,r=!1,n=!1){for(let i=0;i<e.props.length;i++){const a=e.props[i];if(6===a.type){if(r)continue;if(a.name===t&&(a.value||n))return a}else if("bind"===a.name&&(a.exp||n)&&Sc(a.arg,t))return a}}function Sc(e,t){return!(!e||!pc(e)||e.content!==t)}function Lc(e){return 5===e.type||2===e.type}function Rc(e){return 7===e.type&&"slot"===e.name}function Dc(e){return 1===e.type&&3===e.tagType}function Ic(e){return 1===e.type&&2===e.tagType}const Bc=new Set([Gl,Hl]);function Pc(e,t=[]){if(e&&!C(e)&&14===e.type){const r=e.callee;if(!C(r)&&Bc.has(r))return Pc(e.arguments[0],t.concat(e))}return[e,t]}function Mc(e,t,r){let n,i,a=13===e.type?e.props:e.arguments[2],s=[];if(a&&!C(a)&&14===a.type){const e=Pc(a);a=e[0],s=e[1],i=s[s.length-1]}if(null==a||C(a))n=ic([t]);else if(14===a.type){const e=a.arguments[0];C(e)||15!==e.type?a.callee===Vl?n=lc(r.helper(Fl),[ic([t]),a]):a.arguments.unshift(ic([t])):Oc(t,e)||e.properties.unshift(t),!n&&(n=a)}else 15===a.type?(Oc(t,a)||a.properties.unshift(t),n=a):(n=lc(r.helper(Fl),[ic([t]),a]),i&&i.callee===Hl&&(i=s[s.length-2]));13===e.type?i?i.arguments[0]=n:e.props=n:i?i.arguments[0]=n:e.arguments[2]=n}function Oc(e,t){let r=!1;if(4===e.key.type){const n=e.key.content;r=t.properties.some((e=>4===e.key.type&&e.key.content===n))}return r}function Fc(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,r)=>"-"===t?"_":e.charCodeAt(r).toString()))}`}function Nc(e,t){const r=t.options?t.options.compatConfig:t.compatConfig,n=r&&r[e];return"MODE"===e?n||3:n}function Uc(e,t){const r=Nc("MODE",t),n=Nc(e,t);return 3===r?!0===n:!1!==n}function Gc(e,t,r,...n){return Uc(e,t)}const Hc=/&(gt|lt|amp|apos|quot);/g,Vc={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},zc={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:l,isPreTag:l,isCustomElement:l,decodeEntities:e=>e.replace(Hc,((e,t)=>Vc[t])),onError:hl,onWarn:fl,comments:!1};function jc(e,t={}){const r=function(e,t){const r=h({},zc);let n;for(n in t)r[n]=void 0===t[n]?zc[n]:t[n];return{options:r,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:r.onWarn}}(e,t),n=au(r);return function(e,t=tc){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}(Kc(r,0,[]),su(r,n))}function Kc(e,t,r){const n=ou(r),i=n?n.ns:0,a=[];for(;!fu(e,t,r);){const s=e.source;let o;if(0===t||1===t)if(!e.inVPre&&lu(s,e.options.delimiters[0]))o=ru(e,t);else if(0===t&&"<"===s[0])if(1===s.length)hu(e,5,1);else if("!"===s[1])lu(s,"\x3c!--")?o=Yc(e):lu(s,"<!DOCTYPE")?o=$c(e):lu(s,"<![CDATA[")?0!==i?o=Wc(e,r):(hu(e,1),o=$c(e)):(hu(e,11),o=$c(e));else if("/"===s[1])if(2===s.length)hu(e,5,2);else{if(">"===s[2]){hu(e,14,2),cu(e,3);continue}if(/[a-z]/i.test(s[2])){hu(e,23),Zc(e,Xc.End,n);continue}hu(e,12,2),o=$c(e)}else/[a-z]/i.test(s[1])?(o=Qc(e,r),Uc("COMPILER_NATIVE_TEMPLATE",e)&&o&&"template"===o.tag&&!o.props.some((e=>7===e.type&&Jc(e.name)))&&(o=o.children)):"?"===s[1]?(hu(e,21,1),o=$c(e)):hu(e,12,1);if(o||(o=nu(e,t)),m(o))for(let e=0;e<o.length;e++)qc(a,o[e]);else qc(a,o)}let s=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let r=0;r<a.length;r++){const n=a[r];if(2===n.type)if(e.inPre)n.content=n.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(n.content))t&&(n.content=n.content.replace(/[\t\r\n\f ]+/g," "));else{const e=a[r-1],i=a[r+1];!e||!i||t&&(3===e.type&&3===i.type||3===e.type&&1===i.type||1===e.type&&3===i.type||1===e.type&&1===i.type&&/[\r\n]/.test(n.content))?(s=!0,a[r]=null):n.content=" "}else 3!==n.type||e.options.comments||(s=!0,a[r]=null)}if(e.inPre&&n&&e.options.isPreTag(n.tag)){const e=a[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return s?a.filter(Boolean):a}function qc(e,t){if(2===t.type){const r=ou(e);if(r&&2===r.type&&r.loc.end.offset===t.loc.start.offset)return r.content+=t.content,r.loc.end=t.loc.end,void(r.loc.source+=t.loc.source)}e.push(t)}function Wc(e,t){cu(e,9);const r=Kc(e,3,t);return 0===e.source.length?hu(e,6):cu(e,3),r}function Yc(e){const t=au(e);let r;const n=/--(\!)?>/.exec(e.source);if(n){n.index<=3&&hu(e,0),n[1]&&hu(e,10),r=e.source.slice(4,n.index);const t=e.source.slice(0,n.index);let i=1,a=0;for(;-1!==(a=t.indexOf("\x3c!--",i));)cu(e,a-i+1),a+4<t.length&&hu(e,16),i=a+1;cu(e,n.index+n[0].length-i+1)}else r=e.source.slice(4),cu(e,e.source.length),hu(e,7);return{type:3,content:r,loc:su(e,t)}}function $c(e){const t=au(e),r="?"===e.source[1]?1:2;let n;const i=e.source.indexOf(">");return-1===i?(n=e.source.slice(r),cu(e,e.source.length)):(n=e.source.slice(r,i),cu(e,i+1)),{type:3,content:n,loc:su(e,t)}}function Qc(e,t){const r=e.inPre,n=e.inVPre,i=ou(t),a=Zc(e,Xc.Start,i),s=e.inPre&&!r,o=e.inVPre&&!n;if(a.isSelfClosing||e.options.isVoidTag(a.tag))return s&&(e.inPre=!1),o&&(e.inVPre=!1),a;t.push(a);const l=e.options.getTextMode(a,i),c=Kc(e,l,t);t.pop();{const t=a.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&Gc("COMPILER_INLINE_TEMPLATE",e,t.loc)){const r=su(e,a.loc.end);t.value={type:2,content:r.source,loc:r}}}if(a.children=c,pu(e.source,a.tag))Zc(e,Xc.End,i);else if(hu(e,24,0,a.loc.start),0===e.source.length&&"script"===a.tag.toLowerCase()){const t=c[0];t&&lu(t.loc.source,"\x3c!--")&&hu(e,8)}return a.loc=su(e,a.loc.start),s&&(e.inPre=!1),o&&(e.inVPre=!1),a}var Xc=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(Xc||{});const Jc=i("if,else,else-if,for,slot");function Zc(e,t,r){const n=au(e),i=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),a=i[1],s=e.options.getNamespace(a,r);cu(e,i[0].length),uu(e);const o=au(e),l=e.source;e.options.isPreTag(a)&&(e.inPre=!0);let c=eu(e,t);0===t&&!e.inVPre&&c.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,h(e,o),e.source=l,c=eu(e,t).filter((e=>"v-pre"!==e.name)));let u=!1;if(0===e.source.length?hu(e,9):(u=lu(e.source,"/>"),1===t&&u&&hu(e,4),cu(e,u?2:1)),1===t)return;let d=0;return e.inVPre||("slot"===a?d=2:"template"===a?c.some((e=>7===e.type&&Jc(e.name)))&&(d=3):function(e,t,r){const n=r.options;if(n.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||mc(e)||n.isBuiltInComponent&&n.isBuiltInComponent(e)||n.isNativeTag&&!n.isNativeTag(e))return!0;for(let e=0;e<t.length;e++){const n=t[e];if(6===n.type){if("is"===n.name&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(Gc("COMPILER_IS_ON_ELEMENT",r,n.loc))return!0}}else{if("is"===n.name)return!0;if("bind"===n.name&&Sc(n.arg,"is")&&Gc("COMPILER_IS_ON_ELEMENT",r,n.loc))return!0}}}(a,c,e)&&(d=1)),{type:1,ns:s,tag:a,tagType:d,props:c,isSelfClosing:u,children:[],loc:su(e,n),codegenNode:void 0}}function eu(e,t){const r=[],n=new Set;for(;e.source.length>0&&!lu(e.source,">")&&!lu(e.source,"/>");){if(lu(e.source,"/")){hu(e,22),cu(e,1),uu(e);continue}1===t&&hu(e,3);const i=tu(e,n);6===i.type&&i.value&&"class"===i.name&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),0===t&&r.push(i),/^[^\t\r\n\f />]/.test(e.source)&&hu(e,15),uu(e)}return r}function tu(e,t){var r;const n=au(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&hu(e,2),t.add(i),"="===i[0]&&hu(e,19);{const t=/["'<]/g;let r;for(;r=t.exec(i);)hu(e,17,r.index)}let a;cu(e,i.length),/^[\t\r\n\f ]*=/.test(e.source)&&(uu(e),cu(e,1),uu(e),a=function(e){const t=au(e);let r;const n=e.source[0],i='"'===n||"'"===n;if(i){cu(e,1);const t=e.source.indexOf(n);-1===t?r=iu(e,e.source.length,4):(r=iu(e,t,4),cu(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const n=/["'<=`]/g;let i;for(;i=n.exec(t[0]);)hu(e,18,i.index);r=iu(e,t[0].length,4)}return{content:r,isQuoted:i,loc:su(e,t)}}(e),a||hu(e,13));const s=su(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i);let o,l=lu(i,"."),c=t[1]||(l||lu(i,":")?"bind":lu(i,"@")?"on":"slot");if(t[2]){const a="slot"===c,s=i.lastIndexOf(t[2],i.length-((null==(r=t[3])?void 0:r.length)||0)),l=su(e,du(e,n,s),du(e,n,s+t[2].length+(a&&t[3]||"").length));let u=t[2],d=!0;u.startsWith("[")?(d=!1,u.endsWith("]")?u=u.slice(1,u.length-1):(hu(e,27),u=u.slice(1))):a&&(u+=t[3]||""),o={type:4,content:u,isStatic:d,constType:d?3:0,loc:l}}if(a&&a.isQuoted){const e=a.loc;e.start.offset++,e.start.column++,e.end=Tc(e.start,a.content),e.source=e.source.slice(1,-1)}const u=t[3]?t[3].slice(1).split("."):[];return l&&u.push("prop"),"bind"===c&&o&&u.includes("sync")&&Gc("COMPILER_V_BIND_SYNC",e,0,o.loc.source)&&(c="model",u.splice(u.indexOf("sync"),1)),{type:7,name:c,exp:a&&{type:4,content:a.content,isStatic:!1,constType:0,loc:a.loc},arg:o,modifiers:u,loc:s}}return!e.inVPre&&lu(i,"v-")&&hu(e,26),{type:6,name:i,value:a&&{type:2,content:a.content,loc:a.loc},loc:s}}function ru(e,t){const[r,n]=e.options.delimiters,i=e.source.indexOf(n,r.length);if(-1===i)return void hu(e,25);const a=au(e);cu(e,r.length);const s=au(e),o=au(e),l=i-r.length,c=e.source.slice(0,l),u=iu(e,l,t),d=u.trim(),h=u.indexOf(d);h>0&&xc(s,c,h);return xc(o,c,l-(u.length-d.length-h)),cu(e,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:d,loc:su(e,s,o)},loc:su(e,a)}}function nu(e,t){const r=3===t?["]]>"]:["<",e.options.delimiters[0]];let n=e.source.length;for(let t=0;t<r.length;t++){const i=e.source.indexOf(r[t],1);-1!==i&&n>i&&(n=i)}const i=au(e);return{type:2,content:iu(e,n,t),loc:su(e,i)}}function iu(e,t,r){const n=e.source.slice(0,t);return cu(e,t),2!==r&&3!==r&&n.includes("&")?e.options.decodeEntities(n,4===r):n}function au(e){const{column:t,line:r,offset:n}=e;return{column:t,line:r,offset:n}}function su(e,t,r){return{start:t,end:r=r||au(e),source:e.originalSource.slice(t.offset,r.offset)}}function ou(e){return e[e.length-1]}function lu(e,t){return e.startsWith(t)}function cu(e,t){const{source:r}=e;xc(e,r,t),e.source=r.slice(t)}function uu(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&cu(e,t[0].length)}function du(e,t,r){return Tc(t,e.originalSource.slice(t.offset,r),r)}function hu(e,t,r,n=au(e)){r&&(n.offset+=r,n.column+=r),e.options.onError(pl(t,{start:n,end:n,source:""}))}function fu(e,t,r){const n=e.source;switch(t){case 0:if(lu(n,"</"))for(let e=r.length-1;e>=0;--e)if(pu(n,r[e].tag))return!0;break;case 1:case 2:{const e=ou(r);if(e&&pu(n,e.tag))return!0;break}case 3:if(lu(n,"]]>"))return!0}return!n}function pu(e,t){return lu(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function gu(e,t){Au(e,t,mu(e,e.children[0]))}function mu(e,t){const{children:r}=e;return 1===r.length&&1===t.type&&!Ic(t)}function Au(e,t,r=!1){const{children:n}=e,i=n.length;let a=0;for(let e=0;e<n.length;e++){const i=n[e];if(1===i.type&&0===i.tagType){const e=r?0:vu(i,t);if(e>0){if(e>=2){i.codegenNode.patchFlag="-1",i.codegenNode=t.hoist(i.codegenNode),a++;continue}}else{const e=i.codegenNode;if(13===e.type){const r=ku(e);if((!r||512===r||1===r)&&Cu(i,t)>=2){const r=_u(i);r&&(e.props=t.hoist(r))}e.dynamicProps&&(e.dynamicProps=t.hoist(e.dynamicProps))}}}if(1===i.type){const e=1===i.tagType;e&&t.scopes.vSlot++,Au(i,t),e&&t.scopes.vSlot--}else if(11===i.type)Au(i,t,1===i.children.length);else if(9===i.type)for(let e=0;e<i.branches.length;e++)Au(i.branches[e],t,1===i.branches[e].children.length)}a&&t.transformHoist&&t.transformHoist(n,t,e),a&&a===i&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&m(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(nc(e.codegenNode.children)))}function vu(e,t){const{constantCache:r}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const n=r.get(e);if(void 0!==n)return n;const i=e.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(ku(i))return r.set(e,0),0;{let n=3;const a=Cu(e,t);if(0===a)return r.set(e,0),0;a<n&&(n=a);for(let i=0;i<e.children.length;i++){const a=vu(e.children[i],t);if(0===a)return r.set(e,0),0;a<n&&(n=a)}if(n>1)for(let i=0;i<e.props.length;i++){const a=e.props[i];if(7===a.type&&"bind"===a.name&&a.exp){const i=vu(a.exp,t);if(0===i)return r.set(e,0),0;i<n&&(n=i)}}if(i.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return r.set(e,0),0}t.removeHelper(bl),t.removeHelper(hc(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(dc(t.inSSR,i.isComponent))}return r.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return vu(e.content,t);case 4:return e.constType;case 8:let a=3;for(let r=0;r<e.children.length;r++){const n=e.children[r];if(C(n)||_(n))continue;const i=vu(n,t);if(0===i)return 0;i<a&&(a=i)}return a}}const yu=new Set([Nl,Ul,Gl,Hl]);function bu(e,t){if(14===e.type&&!C(e.callee)&&yu.has(e.callee)){const r=e.arguments[0];if(4===r.type)return vu(r,t);if(14===r.type)return bu(r,t)}return 0}function Cu(e,t){let r=3;const n=_u(e);if(n&&15===n.type){const{properties:e}=n;for(let n=0;n<e.length;n++){const{key:i,value:a}=e[n],s=vu(i,t);if(0===s)return s;let o;if(s<r&&(r=s),o=4===a.type?vu(a,t):14===a.type?bu(a,t):0,0===o)return o;o<r&&(r=o)}}return r}function _u(e){const t=e.codegenNode;if(13===t.type)return t.props}function ku(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function Tu(e,{filename:t="",prefixIdentifiers:r=!1,hoistStatic:n=!1,cacheHandlers:i=!1,nodeTransforms:s=[],directiveTransforms:l={},transformHoist:c=null,isBuiltInComponent:u=o,isCustomElement:d=o,expressionPlugins:h=[],scopeId:f=null,slotted:p=!0,ssr:g=!1,inSSR:m=!1,ssrCssVars:A="",bindingMetadata:v=a,inline:y=!1,isTS:b=!1,onError:_=hl,onWarn:k=fl,compatConfig:T}){const x=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),E={selfName:x&&F(P(x[1])),prefixIdentifiers:r,hoistStatic:n,cacheHandlers:i,nodeTransforms:s,directiveTransforms:l,transformHoist:c,isBuiltInComponent:u,isCustomElement:d,expressionPlugins:h,scopeId:f,slotted:p,ssr:g,inSSR:m,ssrCssVars:A,bindingMetadata:v,inline:y,isTS:b,onError:_,onWarn:k,compatConfig:T,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=E.helpers.get(e)||0;return E.helpers.set(e,t+1),e},removeHelper(e){const t=E.helpers.get(e);if(t){const r=t-1;r?E.helpers.set(e,r):E.helpers.delete(e)}},helperString:e=>`_${ec[E.helper(e)]}`,replaceNode(e){E.parent.children[E.childIndex]=E.currentNode=e},removeNode(e){const t=E.parent.children,r=e?t.indexOf(e):E.currentNode?E.childIndex:-1;e&&e!==E.currentNode?E.childIndex>r&&(E.childIndex--,E.onNodeRemoved()):(E.currentNode=null,E.onNodeRemoved()),E.parent.children.splice(r,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){C(e)&&(e=sc(e)),E.hoists.push(e);const t=sc(`_hoisted_${E.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>function(e,t,r=!1){return{type:20,index:e,value:t,isVNode:r,loc:tc}}(E.cached++,e,t)};return E.filters=new Set,E}function xu(e,t){const r=Tu(e,t);Eu(e,r),t.hoistStatic&&gu(e,r),t.ssr||function(e,t){const{helper:r}=t,{children:n}=e;if(1===n.length){const r=n[0];if(mu(e,r)&&r.codegenNode){const n=r.codegenNode;13===n.type&&fc(n,t),e.codegenNode=n}else e.codegenNode=r}else if(n.length>1){let n=64;q[64];0,e.codegenNode=rc(t,r(gl),void 0,e.children,n+"",void 0,void 0,!0,void 0,!1)}}(e,r),e.helpers=new Set([...r.helpers.keys()]),e.components=[...r.components],e.directives=[...r.directives],e.imports=r.imports,e.hoists=r.hoists,e.temps=r.temps,e.cached=r.cached,e.filters=[...r.filters]}function Eu(e,t){t.currentNode=e;const{nodeTransforms:r}=t,n=[];for(let i=0;i<r.length;i++){const a=r[i](e,t);if(a&&(m(a)?n.push(...a):n.push(a)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(xl);break;case 5:t.ssr||t.helper(Ol);break;case 9:for(let r=0;r<e.branches.length;r++)Eu(e.branches[r],t);break;case 10:case 11:case 1:case 0:!function(e,t){let r=0;const n=()=>{r--};for(;r<e.children.length;r++){const i=e.children[r];C(i)||(t.parent=e,t.childIndex=r,t.onNodeRemoved=n,Eu(i,t))}}(e,t)}t.currentNode=e;let i=n.length;for(;i--;)n[i]()}function wu(e,t){const r=C(e)?t=>t===e:t=>e.test(t);return(e,n)=>{if(1===e.type){const{props:i}=e;if(3===e.tagType&&i.some(Rc))return;const a=[];for(let s=0;s<i.length;s++){const o=i[s];if(7===o.type&&r(o.name)){i.splice(s,1),s--;const r=t(e,o,n);r&&a.push(r)}}return a}}}const Su="/*#__PURE__*/",Lu=e=>`${ec[e]}: _${ec[e]}`;function Ru(e,{mode:t="function",prefixIdentifiers:r="module"===t,sourceMap:n=!1,filename:i="template.vue.html",scopeId:a=null,optimizeImports:s=!1,runtimeGlobalName:o="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:d=!1,inSSR:h=!1}){const f={mode:t,prefixIdentifiers:r,sourceMap:n,filename:i,scopeId:a,optimizeImports:s,runtimeGlobalName:o,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:d,inSSR:h,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${ec[e]}`,push(e,t){f.code+=e},indent(){p(++f.indentLevel)},deindent(e=!1){e?--f.indentLevel:p(--f.indentLevel)},newline(){p(f.indentLevel)}};function p(e){f.push("\n"+"  ".repeat(e))}return f}function Du(e,t={}){const r=Ru(e,t);t.onContextCreated&&t.onContextCreated(r);const{mode:n,push:i,prefixIdentifiers:a,indent:s,deindent:o,newline:l,scopeId:c,ssr:u}=r,d=Array.from(e.helpers),h=d.length>0,f=!a&&"module"!==n,p=r;!function(e,t){const{ssr:r,prefixIdentifiers:n,push:i,newline:a,runtimeModuleName:s,runtimeGlobalName:o,ssrRuntimeModuleName:l}=t,c=o,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}\n`),e.hoists.length)){i(`const { ${[kl,Tl,xl,El,wl].filter((e=>u.includes(e))).map(Lu).join(", ")} } = _Vue\n`)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:r,newline:n,helper:i,scopeId:a,mode:s}=t;n();for(let i=0;i<e.length;i++){const a=e[i];a&&(r(`const _hoisted_${i+1} = `),Mu(a,t),n())}t.pure=!1})(e.hoists,t),a(),i("return ")}(e,p);if(i(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),f&&(i("with (_ctx) {"),s(),h&&(i(`const { ${d.map(Lu).join(", ")} } = _Vue`),i("\n"),l())),e.components.length&&(Iu(e.components,"component",r),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Iu(e.directives,"directive",r),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),Iu(e.filters,"filter",r),l()),e.temps>0){i("let ");for(let t=0;t<e.temps;t++)i(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(i("\n"),l()),u||i("return "),e.codegenNode?Mu(e.codegenNode,r):i("null"),f&&(o(),i("}")),o(),i("}"),{ast:e,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function Iu(e,t,{helper:r,push:n,newline:i,isTS:a}){const s=r("filter"===t?Dl:"component"===t?Sl:Rl);for(let r=0;r<e.length;r++){let o=e[r];const l=o.endsWith("__self");l&&(o=o.slice(0,-6)),n(`const ${Fc(o,t)} = ${s}(${JSON.stringify(o)}${l?", true":""})${a?"!":""}`),r<e.length-1&&i()}}function Bu(e,t){const r=e.length>3||!1;t.push("["),r&&t.indent(),Pu(e,t,r),r&&t.deindent(),t.push("]")}function Pu(e,t,r=!1,n=!0){const{push:i,newline:a}=t;for(let s=0;s<e.length;s++){const o=e[s];C(o)?i(o):m(o)?Bu(o,t):Mu(o,t),s<e.length-1&&(r?(n&&i(","),a()):n&&i(", "))}}function Mu(e,t){if(C(e))t.push(e);else if(_(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:Mu(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:Ou(e,t);break;case 5:!function(e,t){const{push:r,helper:n,pure:i}=t;i&&r(Su);r(`${n(Ol)}(`),Mu(e.content,t),r(")")}(e,t);break;case 8:Fu(e,t);break;case 3:!function(e,t){const{push:r,helper:n,pure:i}=t;i&&r(Su);r(`${n(xl)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:r,helper:n,pure:i}=t,{tag:a,props:s,children:o,patchFlag:l,dynamicProps:c,directives:u,isBlock:d,disableTracking:h,isComponent:f}=e;u&&r(n(Il)+"(");d&&r(`(${n(bl)}(${h?"true":""}), `);i&&r(Su);const p=d?hc(t.inSSR,f):dc(t.inSSR,f);r(n(p)+"(",e),Pu(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([a,s,o,l,c]),t),r(")"),d&&r(")");u&&(r(", "),Mu(u,t),r(")"))}(e,t);break;case 14:!function(e,t){const{push:r,helper:n,pure:i}=t,a=C(e.callee)?e.callee:n(e.callee);i&&r(Su);r(a+"(",e),Pu(e.arguments,t),r(")")}(e,t);break;case 15:!function(e,t){const{push:r,indent:n,deindent:i,newline:a}=t,{properties:s}=e;if(!s.length)return void r("{}",e);const o=s.length>1||!1;r(o?"{":"{ "),o&&n();for(let e=0;e<s.length;e++){const{key:n,value:i}=s[e];Nu(n,t),r(": "),Mu(i,t),e<s.length-1&&(r(","),a())}o&&i(),r(o?"}":" }")}(e,t);break;case 17:!function(e,t){Bu(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:r,indent:n,deindent:i}=t,{params:a,returns:s,body:o,newline:l,isSlot:c}=e;c&&r(`_${ec[$l]}(`);r("(",e),m(a)?Pu(a,t):a&&Mu(a,t);r(") => "),(l||o)&&(r("{"),n());s?(l&&r("return "),m(s)?Bu(s,t):Mu(s,t)):o&&Mu(o,t);(l||o)&&(i(),r("}"));c&&(e.isNonScopedSlot&&r(", undefined, true"),r(")"))}(e,t);break;case 19:!function(e,t){const{test:r,consequent:n,alternate:i,newline:a}=e,{push:s,indent:o,deindent:l,newline:c}=t;if(4===r.type){const e=!vc(r.content);e&&s("("),Ou(r,t),e&&s(")")}else s("("),Mu(r,t),s(")");a&&o(),t.indentLevel++,a||s(" "),s("? "),Mu(n,t),t.indentLevel--,a&&c(),a||s(" "),s(": ");const u=19===i.type;u||t.indentLevel++;Mu(i,t),u||t.indentLevel--;a&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:r,helper:n,indent:i,deindent:a,newline:s}=t;r(`_cache[${e.index}] || (`),e.isVNode&&(i(),r(`${n(ql)}(-1),`),s());r(`_cache[${e.index}] = `),Mu(e.value,t),e.isVNode&&(r(","),s(),r(`${n(ql)}(1),`),s(),r(`_cache[${e.index}]`),a());r(")")}(e,t);break;case 21:Pu(e.body,t,!0,!1)}}function Ou(e,t){const{content:r,isStatic:n}=e;t.push(n?JSON.stringify(r):r,e)}function Fu(e,t){for(let r=0;r<e.children.length;r++){const n=e.children[r];C(n)?t.push(n):Mu(n,t)}}function Nu(e,t){const{push:r}=t;if(8===e.type)r("["),Fu(e,t),r("]");else if(e.isStatic){r(vc(e.content)?e.content:JSON.stringify(e.content),e)}else r(`[${e.content}]`,e)}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const Uu=wu(/^(if|else|else-if)$/,((e,t,r)=>function(e,t,r,n){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;r.onError(pl(28,t.loc)),t.exp=sc("true",!1,n)}0;if("if"===t.name){const i=Gu(e,t),a={type:9,loc:e.loc,branches:[i]};if(r.replaceNode(a),n)return n(a,i,!0)}else{const i=r.parent.children;let a=i.indexOf(e);for(;a-- >=-1;){const s=i[a];if(s&&3===s.type)r.removeNode(s);else{if(!s||2!==s.type||s.content.trim().length){if(s&&9===s.type){"else-if"===t.name&&void 0===s.branches[s.branches.length-1].condition&&r.onError(pl(30,e.loc)),r.removeNode();const i=Gu(e,t);0,s.branches.push(i);const a=n&&n(s,i,!1);Eu(i,r),a&&a(),r.currentNode=null}else r.onError(pl(30,e.loc));break}r.removeNode(s)}}}}(e,t,r,((e,t,n)=>{const i=r.parent.children;let a=i.indexOf(e),s=0;for(;a-- >=0;){const e=i[a];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(n)e.codegenNode=Hu(t,s,r);else{const n=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);n.alternate=Hu(t,s+e.branches.length-1,r)}}}))));function Gu(e,t){const r=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:r&&!Ec(e,"for")?e.children:[e],userKey:wc(e,"key"),isTemplateIf:r}}function Hu(e,t,r){return e.condition?uc(e.condition,Vu(e,t,r),lc(r.helper(xl),['""',"true"])):Vu(e,t,r)}function Vu(e,t,r){const{helper:n}=r,i=ac("key",sc(`${t}`,!1,tc,2)),{children:a}=e,s=a[0];if(1!==a.length||1!==s.type){if(1===a.length&&11===s.type){const e=s.codegenNode;return Mc(e,i,r),e}{let t=64;q[64];return rc(r,n(gl),ic([i]),a,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=s.codegenNode,t=14===(o=e).type&&o.callee===Jl?o.arguments[1].returns:o;return 13===t.type&&fc(t,r),Mc(t,i,r),e}var o}const zu=wu("for",((e,t,r)=>{const{helper:n,removeHelper:i}=r;return function(e,t,r,n){if(!t.exp)return void r.onError(pl(31,t.loc));const i=Wu(t.exp,r);if(!i)return void r.onError(pl(32,t.loc));const{addIdentifiers:a,removeIdentifiers:s,scopes:o}=r,{source:l,value:c,key:u,index:d}=i,h={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:d,parseResult:i,children:Dc(e)?e.children:[e]};r.replaceNode(h),o.vFor++;const f=n&&n(h);return()=>{o.vFor--,f&&f()}}(e,t,r,(t=>{const a=lc(n(Bl),[t.source]),s=Dc(e),o=Ec(e,"memo"),l=wc(e,"key"),c=l&&(6===l.type?sc(l.value.content,!0):l.exp),u=l?ac("key",c):null,d=4===t.source.type&&t.source.constType>0,h=d?64:l?128:256;return t.codegenNode=rc(r,n(gl),void 0,a,h+"",void 0,void 0,!0,!d,!1,e.loc),()=>{let l;const{children:h}=t;const f=1!==h.length||1!==h[0].type,p=Ic(e)?e:s&&1===e.children.length&&Ic(e.children[0])?e.children[0]:null;if(p?(l=p.codegenNode,s&&u&&Mc(l,u,r)):f?l=rc(r,n(gl),u?ic([u]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(l=h[0].codegenNode,s&&u&&Mc(l,u,r),l.isBlock!==!d&&(l.isBlock?(i(bl),i(hc(r.inSSR,l.isComponent))):i(dc(r.inSSR,l.isComponent))),l.isBlock=!d,l.isBlock?(n(bl),n(hc(r.inSSR,l.isComponent))):n(dc(r.inSSR,l.isComponent))),o){const e=cc($u(t.parseResult,[sc("_cached")]));e.body={type:21,body:[oc(["const _memo = (",o.exp,")"]),oc(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${r.helperString(Zl)}(_cached, _memo)) return _cached`]),oc(["const _item = ",l]),sc("_item.memo = _memo"),sc("return _item")],loc:tc},a.arguments.push(e,sc("_cache"),sc(String(r.cached++)))}else a.arguments.push(cc($u(t.parseResult),l,!0))}}))}));const ju=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ku=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,qu=/^\(|\)$/g;function Wu(e,t){const r=e.loc,n=e.content,i=n.match(ju);if(!i)return;const[,a,s]=i,o={source:Yu(r,s.trim(),n.indexOf(s,a.length)),value:void 0,key:void 0,index:void 0};let l=a.trim().replace(qu,"").trim();const c=a.indexOf(l),u=l.match(Ku);if(u){l=l.replace(Ku,"").trim();const e=u[1].trim();let t;if(e&&(t=n.indexOf(e,c+l.length),o.key=Yu(r,e,t)),u[2]){const i=u[2].trim();i&&(o.index=Yu(r,i,n.indexOf(i,o.key?t+e.length:c+l.length)))}}return l&&(o.value=Yu(r,l,c)),o}function Yu(e,t,r){return sc(t,!1,kc(e,r,t.length))}function $u({value:e,key:t,index:r},n=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||sc("_".repeat(t+1),!1)))}([e,t,r,...n])}const Qu=sc("undefined",!1),Xu=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const r=Ec(e,"slot");if(r)return r.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},Ju=(e,t,r)=>cc(e,t,!1,!0,t.length?t[0].loc:r);function Zu(e,t,r=Ju){t.helper($l);const{children:n,loc:i}=e,a=[],s=[];let o=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Ec(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!pc(e)&&(o=!0),a.push(ac(e||sc("default",!0),r(t,n,i)))}let c=!1,u=!1;const d=[],h=new Set;let f=0;for(let e=0;e<n.length;e++){const i=n[e];let p;if(!Dc(i)||!(p=Ec(i,"slot",!0))){3!==i.type&&d.push(i);continue}if(l){t.onError(pl(37,p.loc));break}c=!0;const{children:g,loc:m}=i,{arg:A=sc("default",!0),exp:v,loc:y}=p;let b;pc(A)?b=A?A.content:"default":o=!0;const C=r(v,g,m);let _,k,T;if(_=Ec(i,"if"))o=!0,s.push(uc(_.exp,ed(A,C,f++),Qu));else if(k=Ec(i,/^else(-if)?$/,!0)){let r,i=e;for(;i--&&(r=n[i],3===r.type););if(r&&Dc(r)&&Ec(r,"if")){n.splice(e,1),e--;let t=s[s.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=k.exp?uc(k.exp,ed(A,C,f++),Qu):ed(A,C,f++)}else t.onError(pl(30,k.loc))}else if(T=Ec(i,"for")){o=!0;const e=T.parseResult||Wu(T.exp);e?s.push(lc(t.helper(Bl),[e.source,cc($u(e),ed(A,C),!0)])):t.onError(pl(32,T.loc))}else{if(b){if(h.has(b)){t.onError(pl(38,y));continue}h.add(b),"default"===b&&(u=!0)}a.push(ac(A,C))}}if(!l){const e=(e,n)=>{const a=r(e,n,i);return t.compatConfig&&(a.isNonScopedSlot=!0),ac("default",a)};c?d.length&&d.some((e=>rd(e)))&&(u?t.onError(pl(39,d[0].loc)):a.push(e(void 0,d))):a.push(e(void 0,n))}const p=o?2:td(e.children)?3:1;let g=ic(a.concat(ac("_",sc(p+"",!1))),i);return s.length&&(g=lc(t.helper(Ml),[g,nc(s)])),{slots:g,hasDynamicSlots:o}}function ed(e,t,r){const n=[ac("name",e),ac("fn",t)];return null!=r&&n.push(ac("key",sc(String(r),!0))),ic(n)}function td(e){for(let t=0;t<e.length;t++){const r=e[t];switch(r.type){case 1:if(2===r.tagType||td(r.children))return!0;break;case 9:if(td(r.branches))return!0;break;case 10:case 11:if(td(r.children))return!0}}return!1}function rd(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():rd(e.content))}const nd=new WeakMap,id=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:r,props:n}=e,i=1===e.tagType;let a=i?function(e,t,r=!1){let{tag:n}=e;const i=ld(n),a=wc(e,"is");if(a)if(i||Uc("COMPILER_IS_ON_ELEMENT",t)){const e=6===a.type?a.value&&sc(a.value.content,!0):a.exp;if(e)return lc(t.helper(Ll),[e])}else 6===a.type&&a.value.content.startsWith("vue:")&&(n=a.value.content.slice(4));const s=!i&&Ec(e,"is");if(s&&s.exp)return lc(t.helper(Ll),[s.exp]);const o=mc(n)||t.isBuiltInComponent(n);if(o)return r||t.helper(o),o;return t.helper(Sl),t.components.add(n),Fc(n,"component")}(e,t):`"${r}"`;const s=k(a)&&a.callee===Ll;let o,l,c,u,d,h,f=0,p=s||a===ml||a===Al||!i&&("svg"===r||"foreignObject"===r);if(n.length>0){const r=ad(e,t,void 0,i,s);o=r.props,f=r.patchFlag,d=r.dynamicPropNames;const n=r.directives;h=n&&n.length?nc(n.map((e=>function(e,t){const r=[],n=nd.get(e);n?r.push(t.helperString(n)):(t.helper(Rl),t.directives.add(e.name),r.push(Fc(e.name,"directive")));const{loc:i}=e;e.exp&&r.push(e.exp);e.arg&&(e.exp||r.push("void 0"),r.push(e.arg));if(Object.keys(e.modifiers).length){e.arg||(e.exp||r.push("void 0"),r.push("void 0"));const t=sc("true",!1,i);r.push(ic(e.modifiers.map((e=>ac(e,t))),i))}return nc(r,e.loc)}(e,t)))):void 0,r.shouldUseBlock&&(p=!0)}if(e.children.length>0){a===vl&&(p=!0,f|=1024);if(i&&a!==ml&&a!==vl){const{slots:r,hasDynamicSlots:n}=Zu(e,t);l=r,n&&(f|=1024)}else if(1===e.children.length&&a!==ml){const r=e.children[0],n=r.type,i=5===n||8===n;i&&0===vu(r,t)&&(f|=1),l=i||2===n?r:e.children}else l=e.children}0!==f&&(c=String(f),d&&d.length&&(u=function(e){let t="[";for(let r=0,n=e.length;r<n;r++)t+=JSON.stringify(e[r]),r<n-1&&(t+=", ");return t+"]"}(d))),e.codegenNode=rc(t,a,o,l,c,u,h,!!p,!1,i,e.loc)};function ad(e,t,r=e.props,n,i,a=!1){const{tag:s,loc:o,children:l}=e;let c=[];const d=[],h=[],f=l.length>0;let p=!1,g=0,m=!1,A=!1,v=!1,y=!1,b=!1,C=!1;const k=[],T=e=>{c.length&&(d.push(ic(sd(c),o)),c=[]),e&&d.push(e)},x=({key:e,value:r})=>{if(pc(e)){const a=e.content,s=u(a);if(!s||n&&!i||"onclick"===a.toLowerCase()||"onUpdate:modelValue"===a||R(a)||(y=!0),s&&R(a)&&(C=!0),20===r.type||(4===r.type||8===r.type)&&vu(r,t)>0)return;"ref"===a?m=!0:"class"===a?A=!0:"style"===a?v=!0:"key"===a||k.includes(a)||k.push(a),!n||"class"!==a&&"style"!==a||k.includes(a)||k.push(a)}else b=!0};for(let i=0;i<r.length;i++){const l=r[i];if(6===l.type){const{loc:e,name:r,value:n}=l;let i=!0;if("ref"===r&&(m=!0,t.scopes.vFor>0&&c.push(ac(sc("ref_for",!0),sc("true")))),"is"===r&&(ld(s)||n&&n.content.startsWith("vue:")||Uc("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(ac(sc(r,!0,kc(e,0,r.length)),sc(n?n.content:"",i,n?n.loc:e)))}else{const{name:r,arg:i,exp:u,loc:g}=l,m="bind"===r,A="on"===r;if("slot"===r){n||t.onError(pl(40,g));continue}if("once"===r||"memo"===r)continue;if("is"===r||m&&Sc(i,"is")&&(ld(s)||Uc("COMPILER_IS_ON_ELEMENT",t)))continue;if(A&&a)continue;if((m&&Sc(i,"key")||A&&f&&Sc(i,"vue:before-update"))&&(p=!0),m&&Sc(i,"ref")&&t.scopes.vFor>0&&c.push(ac(sc("ref_for",!0),sc("true"))),!i&&(m||A)){if(b=!0,u)if(m){if(T(),Uc("COMPILER_V_BIND_OBJECT_ORDER",t)){d.unshift(u);continue}d.push(u)}else T({type:14,loc:g,callee:t.helper(Vl),arguments:n?[u]:[u,"true"]});else t.onError(pl(m?34:35,g));continue}const v=t.directiveTransforms[r];if(v){const{props:r,needRuntime:n}=v(l,e,t);!a&&r.forEach(x),A&&i&&!pc(i)?T(ic(r,o)):c.push(...r),n&&(h.push(l),_(n)&&nd.set(l,n))}else D(r)||(h.push(l),f&&(p=!0))}}let E;if(d.length?(T(),E=d.length>1?lc(t.helper(Fl),d,o):d[0]):c.length&&(E=ic(sd(c),o)),b?g|=16:(A&&!n&&(g|=2),v&&!n&&(g|=4),k.length&&(g|=8),y&&(g|=32)),p||0!==g&&32!==g||!(m||C||h.length>0)||(g|=512),!t.inSSR&&E)switch(E.type){case 15:let e=-1,r=-1,n=!1;for(let t=0;t<E.properties.length;t++){const i=E.properties[t].key;pc(i)?"class"===i.content?e=t:"style"===i.content&&(r=t):i.isHandlerKey||(n=!0)}const i=E.properties[e],a=E.properties[r];n?E=lc(t.helper(Gl),[E]):(i&&!pc(i.value)&&(i.value=lc(t.helper(Nl),[i.value])),a&&(v||4===a.value.type&&"["===a.value.content.trim()[0]||17===a.value.type)&&(a.value=lc(t.helper(Ul),[a.value])));break;case 14:break;default:E=lc(t.helper(Gl),[lc(t.helper(Hl),[E])])}return{props:E,directives:h,patchFlag:g,dynamicPropNames:k,shouldUseBlock:p}}function sd(e){const t=new Map,r=[];for(let n=0;n<e.length;n++){const i=e[n];if(8===i.key.type||!i.key.isStatic){r.push(i);continue}const a=i.key.content,s=t.get(a);s?("style"===a||"class"===a||u(a))&&od(s,i):(t.set(a,i),r.push(i))}return r}function od(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=nc([e.value,t.value],e.loc)}function ld(e){return"component"===e||"Component"===e}const cd=(e,t)=>{if(Ic(e)){const{children:r,loc:n}=e,{slotName:i,slotProps:a}=function(e,t){let r,n='"default"';const i=[];for(let t=0;t<e.props.length;t++){const r=e.props[t];6===r.type?r.value&&("name"===r.name?n=JSON.stringify(r.value.content):(r.name=P(r.name),i.push(r))):"bind"===r.name&&Sc(r.arg,"name")?r.exp&&(n=r.exp):("bind"===r.name&&r.arg&&pc(r.arg)&&(r.arg.content=P(r.arg.content)),i.push(r))}if(i.length>0){const{props:n,directives:a}=ad(e,t,i,!1,!1);r=n,a.length&&t.onError(pl(36,a[0].loc))}return{slotName:n,slotProps:r}}(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let o=2;a&&(s[2]=a,o=3),r.length&&(s[3]=cc([],r,!1,!1,n),o=4),t.scopeId&&!t.slotted&&(o=5),s.splice(o),e.codegenNode=lc(t.helper(Pl),s,n)}};const ud=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,dd=(e,t,r,n)=>{const{loc:i,modifiers:a,arg:s}=e;let o;if(e.exp||a.length||r.onError(pl(35,i)),4===s.type)if(s.isStatic){let e=s.content;0,e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`);o=sc(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?N(P(e)):`on:${e}`,!0,s.loc)}else o=oc([`${r.helperString(Kl)}(`,s,")"]);else o=s,o.children.unshift(`${r.helperString(Kl)}(`),o.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const e=_c(l.content),t=!(e||ud.test(l.content)),r=l.content.includes(";");0,(t||c&&e)&&(l=oc([`${t?"$event":"(...args)"} => ${r?"{":"("}`,l,r?"}":")"]))}let u={props:[ac(o,l||sc("() => {}",!1,i))]};return n&&(u=n(u)),c&&(u.props[0].value=r.cache(u.props[0].value)),u.props.forEach((e=>e.key.isHandlerKey=!0)),u},hd=(e,t,r)=>{const{exp:n,modifiers:i,loc:a}=e,s=e.arg;return 4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):s.isStatic||(s.content=`${s.content} || ""`),i.includes("camel")&&(4===s.type?s.isStatic?s.content=P(s.content):s.content=`${r.helperString(zl)}(${s.content})`:(s.children.unshift(`${r.helperString(zl)}(`),s.children.push(")"))),r.inSSR||(i.includes("prop")&&fd(s,"."),i.includes("attr")&&fd(s,"^")),!n||4===n.type&&!n.content.trim()?(r.onError(pl(34,a)),{props:[ac(s,sc("",!0,a))]}):{props:[ac(s,n)]}},fd=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},pd=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const r=e.children;let n,i=!1;for(let e=0;e<r.length;e++){const t=r[e];if(Lc(t)){i=!0;for(let i=e+1;i<r.length;i++){const a=r[i];if(!Lc(a)){n=void 0;break}n||(n=r[e]=oc([t],t.loc)),n.children.push(" + ",a),r.splice(i,1),i--}}}if(i&&(1!==r.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<r.length;e++){const n=r[e];if(Lc(n)||8===n.type){const i=[];2===n.type&&" "===n.content||i.push(n),t.ssr||0!==vu(n,t)||i.push("1"),r[e]={type:12,content:n,loc:n.loc,codegenNode:lc(t.helper(El),i)}}}}},gd=new WeakSet,md=(e,t)=>{if(1===e.type&&Ec(e,"once",!0)){if(gd.has(e)||t.inVOnce||t.inSSR)return;return gd.add(e),t.inVOnce=!0,t.helper(ql),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},Ad=(e,t,r)=>{const{exp:n,arg:i}=e;if(!n)return r.onError(pl(41,e.loc)),vd();const a=n.loc.source,s=4===n.type?n.content:a,o=r.bindingMetadata[a];if("props"===o||"props-aliased"===o)return r.onError(pl(44,n.loc)),vd();if(!s.trim()||!_c(s))return r.onError(pl(42,n.loc)),vd();const l=i||sc("modelValue",!0),c=i?pc(i)?`onUpdate:${P(i.content)}`:oc(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;u=oc([`${r.isTS?"($event: any)":"$event"} => ((`,n,") = $event)"]);const d=[ac(l,e.exp),ac(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(vc(e)?e:JSON.stringify(e))+": true")).join(", "),r=i?pc(i)?`${i.content}Modifiers`:oc([i,' + "Modifiers"']):"modelModifiers";d.push(ac(r,sc(`{ ${t} }`,!1,e.loc,2)))}return vd(d)};function vd(e=[]){return{props:e}}const yd=/[\w).+\-_$\]]/,bd=(e,t)=>{Uc("COMPILER_FILTER",t)&&(5===e.type&&Cd(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&Cd(e.exp,t)})))};function Cd(e,t){if(4===e.type)_d(e,t);else for(let r=0;r<e.children.length;r++){const n=e.children[r];"object"==typeof n&&(4===n.type?_d(n,t):8===n.type?Cd(e,t):5===n.type&&Cd(n.content,t))}}function _d(e,t){const r=e.content;let n,i,a,s,o=!1,l=!1,c=!1,u=!1,d=0,h=0,f=0,p=0,g=[];for(a=0;a<r.length;a++)if(i=n,n=r.charCodeAt(a),o)39===n&&92!==i&&(o=!1);else if(l)34===n&&92!==i&&(l=!1);else if(c)96===n&&92!==i&&(c=!1);else if(u)47===n&&92!==i&&(u=!1);else if(124!==n||124===r.charCodeAt(a+1)||124===r.charCodeAt(a-1)||d||h||f){switch(n){case 34:l=!0;break;case 39:o=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:d++;break;case 125:d--}if(47===n){let e,t=a-1;for(;t>=0&&(e=r.charAt(t)," "===e);t--);e&&yd.test(e)||(u=!0)}}else void 0===s?(p=a+1,s=r.slice(0,a).trim()):m();function m(){g.push(r.slice(p,a).trim()),p=a+1}if(void 0===s?s=r.slice(0,a).trim():0!==p&&m(),g.length){for(a=0;a<g.length;a++)s=kd(s,g[a],t);e.content=s}}function kd(e,t,r){r.helper(Dl);const n=t.indexOf("(");if(n<0)return r.filters.add(t),`${Fc(t,"filter")}(${e})`;{const i=t.slice(0,n),a=t.slice(n+1);return r.filters.add(i),`${Fc(i,"filter")}(${e}${")"!==a?","+a:a}`}}const Td=new WeakSet,xd=(e,t)=>{if(1===e.type){const r=Ec(e,"memo");if(!r||Td.has(e))return;return Td.add(e),()=>{const n=e.codegenNode||t.currentNode.codegenNode;n&&13===n.type&&(1!==e.tagType&&fc(n,t),e.codegenNode=lc(t.helper(Jl),[r.exp,cc(void 0,n),"_cache",String(t.cached++)]))}}};function Ed(e,t={}){const r=t.onError||hl,n="module"===t.mode;!0===t.prefixIdentifiers?r(pl(47)):n&&r(pl(48));t.cacheHandlers&&r(pl(49)),t.scopeId&&!n&&r(pl(50));const i=C(e)?jc(e,t):e,[a,s]=[[md,Uu,xd,zu,bd,cd,id,Xu,pd],{on:dd,bind:hd,model:Ad}];return xu(i,h({},t,{prefixIdentifiers:false,nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:h({},s,t.directiveTransforms||{})})),Du(i,h({},t,{prefixIdentifiers:false}))}const wd=Symbol(""),Sd=Symbol(""),Ld=Symbol(""),Rd=Symbol(""),Dd=Symbol(""),Id=Symbol(""),Bd=Symbol(""),Pd=Symbol(""),Md=Symbol(""),Od=Symbol("");var Fd;let Nd;Fd={[wd]:"vModelRadio",[Sd]:"vModelCheckbox",[Ld]:"vModelText",[Rd]:"vModelSelect",[Dd]:"vModelDynamic",[Id]:"withModifiers",[Bd]:"withKeys",[Pd]:"vShow",[Md]:"Transition",[Od]:"TransitionGroup"},Object.getOwnPropertySymbols(Fd).forEach((e=>{ec[e]=Fd[e]}));const Ud=i("style,iframe,script,noscript",!0),Gd={isVoidTag:ne,isNativeTag:e=>te(e)||re(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return Nd||(Nd=document.createElement("div")),t?(Nd.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Nd.children[0].getAttribute("foo")):(Nd.innerHTML=e,Nd.textContent)},isBuiltInComponent:e=>gc(e,"Transition")?Md:gc(e,"TransitionGroup")?Od:void 0,getNamespace(e,t){let r=t?t.ns:0;if(t&&2===r)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(r=0);else t&&1===r&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(r=0));if(0===r){if("svg"===e)return 1;if("math"===e)return 2}return r},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(Ud(e))return 2}return 0}},Hd=(e,t)=>{const r=J(e);return sc(JSON.stringify(r),!1,t,3)};function Vd(e,t){return pl(e,t)}const zd=i("passive,once,capture"),jd=i("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),Kd=i("left,right"),qd=i("onkeyup,onkeydown,onkeypress",!0),Wd=(e,t)=>pc(e)&&"onclick"===e.content.toLowerCase()?sc(t,!0):4!==e.type?oc(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e;const Yd=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()},$d=[e=>{1===e.type&&e.props.forEach(((t,r)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[r]={type:7,name:"bind",arg:sc("style",!0,t.loc),exp:Hd(t.value.content,t.loc),modifiers:[],loc:t.loc})}))}],Qd={cloak:()=>({props:[]}),html:(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(Vd(53,i)),t.children.length&&(r.onError(Vd(54,i)),t.children.length=0),{props:[ac(sc("innerHTML",!0,i),n||sc("",!0))]}},text:(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(Vd(55,i)),t.children.length&&(r.onError(Vd(56,i)),t.children.length=0),{props:[ac(sc("textContent",!0),n?vu(n,r)>0?n:lc(r.helperString(Ol),[n],i):sc("",!0))]}},model:(e,t,r)=>{const n=Ad(e,t,r);if(!n.props.length||1===t.tagType)return n;e.arg&&r.onError(Vd(58,e.arg.loc));const{tag:i}=t,a=r.isCustomElement(i);if("input"===i||"textarea"===i||"select"===i||a){let s=Ld,o=!1;if("input"===i||a){const n=wc(t,"type");if(n){if(7===n.type)s=Dd;else if(n.value)switch(n.value.content){case"radio":s=wd;break;case"checkbox":s=Sd;break;case"file":o=!0,r.onError(Vd(59,e.loc))}}else(function(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))})(t)&&(s=Dd)}else"select"===i&&(s=Rd);o||(n.needRuntime=r.helper(s))}else r.onError(Vd(57,e.loc));return n.props=n.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),n},on:(e,t,r)=>dd(e,t,r,(t=>{const{modifiers:n}=e;if(!n.length)return t;let{key:i,value:a}=t.props[0];const{keyModifiers:s,nonKeyModifiers:o,eventOptionModifiers:l}=((e,t,r,n)=>{const i=[],a=[],s=[];for(let n=0;n<t.length;n++){const o=t[n];"native"===o&&Gc("COMPILER_V_ON_NATIVE",r)||zd(o)?s.push(o):Kd(o)?pc(e)?qd(e.content)?i.push(o):a.push(o):(i.push(o),a.push(o)):jd(o)?a.push(o):i.push(o)}return{keyModifiers:i,nonKeyModifiers:a,eventOptionModifiers:s}})(i,n,r,e.loc);if(o.includes("right")&&(i=Wd(i,"onContextmenu")),o.includes("middle")&&(i=Wd(i,"onMouseup")),o.length&&(a=lc(r.helper(Id),[a,JSON.stringify(o)])),!s.length||pc(i)&&!qd(i.content)||(a=lc(r.helper(Bd),[a,JSON.stringify(s)])),l.length){const e=l.map(F).join("");i=pc(i)?sc(`${i.content}${e}`,!0):oc(["(",i,`) + "${e}"`])}return{props:[ac(i,a)]}})),show:(e,t,r)=>{const{exp:n,loc:i}=e;return n||r.onError(Vd(61,i)),{props:[],needRuntime:r.helper(Pd)}}};const Xd=Object.create(null);bs((function(e,t){if(!C(e)){if(!e.nodeType)return o;e=e.innerHTML}const r=e,i=Xd[r];if(i)return i;if("#"===e[0]){const t=document.querySelector(e);0,e=t?t.innerHTML:""}const a=h({hoistStatic:!0,onError:void 0,onWarn:o},t);a.isCustomElement||"undefined"==typeof customElements||(a.isCustomElement=e=>!!customElements.get(e));const{code:s}=function(e,t={}){return Ed(e,h({},Gd,t,{nodeTransforms:[Yd,...$d,...t.nodeTransforms||[]],directiveTransforms:h({},Qd,t.directiveTransforms||{}),transformHoist:null}))}(e,a),l=new Function("Vue",s)(n);return l._rc=!0,Xd[r]=l}));var Jd=zt(),Zd=zt(),eh=zt(),th=zt(),rh=zt(),nh=function(e){var t,r;Jd.value[e].videos.length&&(Zd.value&&e>0&&(null===(t=Jd.value[e-1])||void 0===t||null===(r=t.quiz)||void 0===r||!r.status)||(Jd.value.forEach((function(e){e.showSubList=!1})),Jd.value[e].showSubList=!Jd.value[e].showSubList,eh.value=Jd.value[e],ih(),eh.value.videos[0].videoActive=!0,rh.value=null,th.value=eh.value.videos[0]))},ih=function(){Jd.value.forEach((function(e){e.videos&&e.videos.forEach((function(e){e.videoActive=!1}))}))},ah=function(e){var t=eh.value.videos[e];t&&(window.innerWidth<=1024&&window.scrollTo(0,document.body.scrollHeight-50),ih(),t.videoActive=!t.videoActive,rh.value=null,th.value=t)},sh=function(e){window.innerWidth<=1024&&window.scrollTo(0,document.body.scrollHeight-50),ih(),th.value=eh.value.videos[0],rh.value=e};var oh=r(1443),lh=r.n(oh),ch=r(4560),uh=r.n(ch),dh={class:"player"},hh={class:"player__top"},fh={class:"player__title"},ph={key:0,class:"player__video"},gh={class:"player__video-inner"},mh=["src","title"],Ah={key:1,class:"player__video"},vh={class:"loader"},yh={version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 50 50",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},bh=[Ka("path",{fill:"#000",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"},[Ka("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})],-1)],Ch={class:"player__video-inner"},_h=["poster"],kh=["href"],Th={key:3,class:"player__homework"},xh={class:"player__homework-title"},Eh=["innerHTML"];const wh={__name:"VideoPlayer",props:{isWebinars:Boolean},setup:function(e){var t=e,r=zt(null),n=null,i=zt(),a=zt("");return Hn((function(){var e,s;if(!t.isWebinars&&th.value){var o=th.value.url,l=r.value,c={keyboard:{focused:!0,global:!0},controls:["play","progress","current-time","mute","volume","settings","fullscreen"]};if(i.value=null!==(e=null===(s=JSON.parse(localStorage.getItem("plyr")))||void 0===s?void 0:s.speed)&&void 0!==e?e:1,uh().isSupported()){var u=new(uh());u.loadSource(o),u.on(uh().Events.MANIFEST_PARSED,(function(e,t){var r=u.levels.map((function(e){return e.height}));r.unshift(0),c.quality={default:0,options:r,forced:!0,onChange:function(e){var t;0===(t=e)?window.hls.currentLevel=-1:window.hls.levels.forEach((function(e,r){e.height===t&&(window.hls.currentLevel=r)}))}},c.i18n={qualityLabel:{0:"Auto"}},u.on(uh().Events.LEVEL_SWITCHED,(function(e,t){var r=document.querySelector(".plyr__menu__container [data-plyr='quality'][value='0'] span");u.autoLevelEnabled?r.innerHTML="AUTO (".concat(u.levels[t.level].height,"p)"):r.innerHTML="AUTO"})),a.value=th.value.poster,n=new(lh())(l,c)})),u.attachMedia(l),window.hls=u}else l.src=o,a.value=th.value.poster,n=new(lh())(l,c)}})),on(i,(function(){n&&(n.speed=i.value)})),function(n,i){var s,o,l,c,u,d,h;return Da(),Fa("div",dh,[Ka("div",hh,[Ka("h2",fh,ce(null===(s=Yt(th))||void 0===s?void 0:s.name),1)]),e.isWebinars?(Da(),Fa("div",ph,[Ka("div",gh,[Ka("iframe",{allowfullscreen:"",style:{width:"100%",height:"100%","aspect-ratio":"600 / 337"},width:"600",height:"337",src:null===(o=Yt(th))||void 0===o?void 0:o.url,title:null===(l=Yt(th))||void 0===l?void 0:l.name,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"},null,8,mh)])])):(Da(),Fa("div",Ah,[Ka("div",vh,[(Da(),Fa("svg",yh,bh))]),Ka("div",Ch,[Ka("video",{ref_key:"playerRef",ref:r,style:{width:"100%",height:"auto"},poster:a.value},null,8,_h)])])),null!==(c=Yt(eh))&&void 0!==c&&c.additional_materials?(Da(),Fa("a",{key:2,href:null===(u=Yt(eh))||void 0===u?void 0:u.additional_materials,target:"_blank",class:"player__materials"}," .    ",8,kh)):Ja("",!0),t.isWebinars?Ja("",!0):(Da(),Fa("div",Th,[Ka("div",xh,ce(null===(d=Yt(th))||void 0===d?void 0:d.description_name),1),Ka("div",{innerHTML:null===(h=Yt(th))||void 0===h?void 0:h.description,class:"player__homework-text"},null,8,Eh)]))])}}};var Sh=r(3379),Lh=r.n(Sh),Rh=r(3862),Dh={insert:"head",singleton:!1};Lh()(Rh.Z,Dh);Rh.Z.locals;const Ih=wh;var Bh=r(9669),Ph=r.n(Bh),Mh=["onSubmit"],Oh={class:"module-quiz__decor"},Fh=["src"],Nh=Ka("h1",{class:"module-quiz__title"}," ",-1),Uh={class:"module-quiz__body"},Gh={key:0},Hh={class:"module-quiz__question"},Vh=["value","name","answer","onChange"],zh={key:0,class:"module-quiz__bottom"},jh={class:"module-quiz__btn"},Kh={key:0,class:"loader"},qh={version:"1.1",id:"loader-1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 50 50",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},Wh=[Ka("path",{fill:"#000",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"},[Ka("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})],-1)],Yh={key:1},$h={key:1,class:"module-quiz__result"},Qh={class:"module-quiz__subtitle"},Xh={class:"module-quiz__complete-img"},Jh={key:0,src:"/images/yeee.png?6c391d383b11fd6c69c8e405e8f4049d",alt:""},Zh={key:1,src:"/images/b_heart.png?c0146f64b7942f9ef849533c68cbb741",alt:""};const ef={__name:"TheQuiz",setup:function(e){var t=zt(0),r=zt({}),n=zt(null),i=ws((function(){var e;return(null===(e=rh.value)||void 0===e?void 0:e.questions.length)||0})),a=zt(!1),s=["circle","triangle","plus"],o=zt("-  ");function l(){t.value++,n.value=null}function c(){r.value={},t.value=0,n.value=null}function u(e){a.value=!0,Ph().post(rh.value.endpoint,r.value).then((function(e){e.data.status?(Jd.value=Jd.value.map((function(t){return t.quiz===rh.value&&(t.quiz.status=!0,t.quiz.message=e.data.message),t})),c()):o.value=e.data.message})).catch((function(e){throw o.value=" ",new Error(e)})).finally((function(){t.value++,a.value=!1}))}function d(e,t){return Math.floor(Math.random()*t+e)}return function(e,h){var f,p,g,m,A,v,y,b;return Da(),Fa("form",{class:"module-quiz",onSubmit:$o(u,["prevent"])},[Ka("div",Oh,[(Da(!0),Fa(xa,null,ni(d(10,20),(function(e){return Da(),Fa("div",{key:e,class:"module-quiz__decor-icon",style:Y("\n                    top: ".concat(d(0,100),"%;\n                    left: ").concat(d(0,100),"%;\n                    width: ").concat(d(10,30),"px;\n                    rotate: ").concat(d(0,360),"deg;\n                    filter: blur(").concat(d(0,3),"px);\n                    opacity: ").concat(d(0,8)/10,";\n                "))},[Ka("img",{src:"../../img/decor/".concat(s[d(1,3)-1],".svg"),alt:""},null,8,Fh)],4)})),128))]),Nh,Ka("div",Uh,[!(t.value<i.value)||null!==(f=Yt(rh))&&void 0!==f&&f.status||null!==(p=Yt(rh))&&void 0!==p&&p.message?(Da(),Fa("div",$h,[Ka("h2",Qh,ce((null===(v=Yt(rh))||void 0===v?void 0:v.message)||o.value),1),Ka("div",Xh,[null!==(y=Yt(rh))&&void 0!==y&&y.status?(Da(),Fa("img",Jh)):(Da(),Fa("img",Zh))]),null!==(b=Yt(rh))&&void 0!==b&&b.status?Ja("",!0):(Da(),Fa("button",{key:0,class:"module-quiz__btn",onClick:c,type:"button"},"   "))])):(Da(),Fa("div",Gh,[Ka("p",Hh,ce(null===(g=Yt(rh))||void 0===g||null===(m=g.questions[t.value])||void 0===m?void 0:m.question),1),(Da(!0),Fa(xa,null,ni(null===(A=Yt(rh))||void 0===A?void 0:A.questions,(function(e,i){return hn((Da(),Fa("div",{key:i,class:"module-quiz__options"},[(Da(!0),Fa(xa,null,ni(e.answers,(function(t,i){return Da(),Fa("label",{class:"module-quiz__label",key:i},[Ka("input",{type:"radio",class:Z(["module-quiz__input",{"module-quiz__input--checked":n.value===i}]),value:i,name:e.id,answer:t,onChange:function(t){return function(e,t){r.value[e]=t,n.value=t}(e.id,i)}},null,42,Vh)])})),128))])),[[Jo,i==t.value]])})),128)),n.value?(Da(),Fa("div",zh,[hn(Ka("button",{class:"module-quiz__btn",onClick:l,type:"button"},"  ",512),[[Jo,t.value<i.value-1]]),hn(Ka("button",jh,[a.value?(Da(),Fa("div",Kh,[(Da(),Fa("svg",qh,Wh))])):(Da(),Fa("span",Yh,""))],512),[[Jo,t.value==i.value-1]])])):Ja("",!0)]))])],40,Mh)}}};var tf=r(3460),rf={insert:"head",singleton:!1};Lh()(tf.Z,rf);tf.Z.locals;const nf=ef;var af=["onClick"],sf={key:0,class:"sub-menu__item"};const of={__name:"SubMenu",props:{isWebinars:Boolean},setup:function(e){var t=e;return function(e,r){return Da(),Fa("ul",{class:"sub-menu",style:Y({"max-height":t.isWebinars?"502px":"302px"})},[(Da(!0),Fa(xa,null,ni(Yt(eh).videos,(function(e,t){return Da(),Fa("li",{key:t,class:"sub-menu__item"},[Ka("a",{class:Z(["sub-menu__link",{"sub-menu__link--active":e.videoActive}]),onClick:$o((function(e){return Yt(ah)(t)}),["prevent"])},ce(t+1)+". "+ce(e.name),11,af)])})),128)),Yt(eh).quiz?(Da(),Fa("li",sf,[Ka("a",{class:Z(["sub-menu__link",{"sub-menu__link--active":Yt(rh)}]),onClick:r[0]||(r[0]=$o((function(e){return Yt(sh)(Yt(eh).quiz)}),["prevent"]))},ce(Yt(eh).videos.length+1)+".   ",3)])):Ja("",!0)],4)}}};var lf=r(7342),cf={insert:"head",singleton:!1};Lh()(lf.Z,cf);lf.Z.locals;var uf=r(3744);const df=(0,uf.Z)(of,[["__scopeId","data-v-49bda2c6"]]);var hf={class:"menu"},ff={class:"menu__inner"},pf=["onClick"],gf=["src","alt"],mf={class:"menu__title"},Af={key:1,class:"menu__arrow"},vf=[function(e){return Ur("data-v-daf8f2de"),e=e(),Gr(),e}((function(){return Ka("svg",{width:"29",height:"16",viewBox:"0 0 29 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Ka("path",{d:"M2 2L14.5 14.5L27 2",stroke:"white","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1)}))],yf={key:0,class:"menu__item"};const bf={__name:"AppMenu",props:{isWebinars:Boolean,isPremium:Boolean},setup:function(e){var t=e,r=function(){window.open("https://aroken.ru/payment?option=premium","_blank")};return function(e,n){return Da(),Fa("div",hf,[Ka("ul",ff,[(Da(!0),Fa(xa,null,ni(Yt(Jd),(function(e,r){var n,i;return Da(),Fa("li",{key:r,class:Z(["menu__item",{"menu__item--active":e.showSubList}])},[Ka("a",{class:Z([{"menu__link--disabled":!e.videos.length||Yt(Zd)&&r>0&&!(null!==(n=Yt(Jd)[r-1])&&void 0!==n&&null!==(i=n.quiz)&&void 0!==i&&i.status)},"menu__link"]),onClick:$o((function(e){return Yt(nh)(r)}),["prevent"])},[e.icon?(Da(),Fa("img",{key:0,src:e.icon,alt:e.name},null,8,gf)):Ja("",!0),Ka("div",mf,ce(r)+". "+ce(e.name),1),e.videos.length?(Da(),Fa("div",Af,vf)):Ja("",!0)],10,pf),Ka("div",{class:Z(["menu__sub-menu",{"menu__sub-menu--visible":e.showSubList}])},[e.showSubList?(Da(),Na(df,{key:0,item:e,list:Yt(Jd),isWebinars:t.isWebinars},null,8,["item","list","isWebinars"])):Ja("",!0)],2)],2)})),128)),Yt(Zd)?(Da(),Fa("li",yf,[Ka("button",{class:"menu__buy-prem",onClick:r,type:"button"},"   ")])):Ja("",!0)])])}}};var Cf=r(1862),_f={insert:"head",singleton:!1};Lh()(Cf.Z,_f);Cf.Z.locals;const kf=(0,uf.Z)(bf,[["__scopeId","data-v-daf8f2de"]]);var Tf={class:"main"},xf={class:"container main__container"};const Ef={__name:"Player",props:{data:Object,isWebinars:Boolean,isPremium:Boolean},setup:function(e){var t=e;return console.log(t),Gn((function(){Jd.value=t.data,eh.value=Jd.value[0],th.value=Jd.value[0].videos[0],Jd.value[0].videos[0].videoActive=!0,Zd.value=!t.isPremium})),function(e,r){return Da(),Fa("main",Tf,[Ka("div",xf,[qa(kf,{isWebinars:t.isWebinars},null,8,["isWebinars"]),hn(qa(Ih,{isWebinars:t.isWebinars},null,8,["isWebinars"]),[[Jo,!Yt(rh)]]),hn(qa(nf,null,null,512),[[Jo,Yt(rh)]])])])}}};var wf=r(1377),Sf={insert:"head",singleton:!1};Lh()(wf.Z,Sf);wf.Z.locals;const Lf=(0,uf.Z)(Ef,[["__scopeId","data-v-c8c58770"]]);var Rf=r(9200),Df={insert:"head",singleton:!1};Lh()(Rf.Z,Df);Rf.Z.locals;ol({components:{Player:Lf}}).mount("#app")},1862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,'img[data-v-daf8f2de]{height:auto;max-width:34px;-o-object-fit:cover;object-fit:cover}.menu[data-v-daf8f2de]{flex-shrink:0;min-height:40vw;position:relative;width:31%}@media (max-width:1024px){.menu[data-v-daf8f2de]{width:100%}}.menu__inner[data-v-daf8f2de]{display:flex;flex-direction:column;gap:10px;height:100%;overflow-x:none;overflow-y:auto;padding:18px 14px 18px 0;position:absolute;width:100%}@media (max-width:1024px){.menu__inner[data-v-daf8f2de]{padding:18px 0;position:static}}.menu__item[data-v-daf8f2de]{border-radius:20px;color:#fff;flex:0 0 auto;overflow:hidden;width:100%}.menu__item--active[data-v-daf8f2de]{background:rgba(0,0,0,.306)}.menu__link[data-v-daf8f2de]{align-items:center;color:#fff!important;cursor:pointer;display:inline-flex;gap:10px;padding:8px 14px;width:100%}@media (any-hover:hover){.menu__link[data-v-daf8f2de]:hover{color:#d2fe67!important}}.menu__link--disabled[data-v-daf8f2de]{cursor:inherit}.menu__link--disabled[data-v-daf8f2de],.menu__link--disabled[data-v-daf8f2de]:hover{color:#828282!important}.menu__item--active .menu__link[data-v-daf8f2de]{background-color:#d2fe67;color:#000!important}.menu__title[data-v-daf8f2de]{font-size:16px;font-weight:500;line-height:20px}.menu__arrow[data-v-daf8f2de]{flex-shrink:0;margin-left:auto;width:15px}.menu__arrow svg[data-v-daf8f2de]{width:100%}.menu__arrow path[data-v-daf8f2de]{stroke:#fff}@media (any-hover:hover){.menu__link:hover .menu__arrow path[data-v-daf8f2de]{stroke:#d2fe67}}.menu__link--disabled .menu__arrow path[data-v-daf8f2de],.menu__link--disabled:hover .menu__arrow path[data-v-daf8f2de]{stroke:#828282}.menu__item--active .menu__arrow[data-v-daf8f2de],.menu__item--active:hover .menu__arrow[data-v-daf8f2de]{transform:rotateX(180deg)}.menu__item--active .menu__arrow path[data-v-daf8f2de],.menu__item--active:hover .menu__arrow path[data-v-daf8f2de]{stroke:#000}.menu__sub-menu[data-v-daf8f2de]{opacity:0;visibility:hidden}.menu__sub-menu--visible[data-v-daf8f2de]{opacity:1;visibility:visible}.menu__buy-prem[data-v-daf8f2de]{align-items:center;animation:flash-daf8f2de 5s linear infinite;background:#191a1e;border:1px solid #818181;border-radius:20px;color:#fff;display:flex;font-size:18px;font-weight:700;height:60px;justify-content:center;margin-top:30px;min-width:200px;overflow:hidden;padding:0 20px;position:relative;transition:.2s;width:100%}.menu__buy-prem[data-v-daf8f2de]:after,.menu__buy-prem[data-v-daf8f2de]:before{background:linear-gradient(90deg,hsla(0,0%,100%,.502) 14.5%,hsla(0,0%,100%,0) 18.5%,hsla(0,0%,100%,0) 31%,hsla(0,0%,100%,.502) 35%);bottom:0;content:"";left:-15%;position:absolute;top:0;transform:skewX(-40deg);translate:-50% 0;width:50px}.menu__buy-prem[data-v-daf8f2de]:before{animation:glare-daf8f2de 5s infinite}.menu__buy-prem[data-v-daf8f2de]:after{transition:left .3s;width:40px}@media (any-hover:hover){.menu__buy-prem[data-v-daf8f2de]:hover{animation:none;background:hsla(0,0%,100%,.09);border:1px solid #d2fe67;color:#d2fe67}.menu__buy-prem[data-v-daf8f2de]:hover:before{animation:none}.menu__buy-prem[data-v-daf8f2de]:hover:after{left:30%;transition:left .2s}}@keyframes flash-daf8f2de{0%{background:hsla(0,0%,100%,0)}80%{background:hsla(0,0%,100%,0)}90%{background:hsla(0,0%,100%,.035)}95%{background:hsla(0,0%,100%,.09)}to{background:hsla(0,0%,100%,0)}}@keyframes glare-daf8f2de{0%{left:-15%}90%{left:-15%}to{left:115%}}',"",{version:3,sources:["webpack://./resources/js/components/AppMenu.vue"],names:[],mappings:"AACA,qBACI,WAAA,CACA,cAAA,CACA,mBAAA,CAAA,gBAAJ,CAGA,uBAGI,aAAA,CAFA,eAAA,CAGA,iBAAA,CAFA,SAEJ,CAEI,0BANJ,uBAOQ,UACN,CACF,CACI,8BAOI,YAAA,CACA,qBAAA,CACA,QAAA,CANA,WAAA,CACA,eAAA,CACA,eAAA,CACA,wBAAA,CALA,iBAAA,CACA,UAQR,CACQ,0BAXJ,8BAaQ,cAAA,CADA,eAGV,CACF,CACI,6BAGI,kBAAA,CACA,UAAA,CAHA,aAAA,CAIA,eAAA,CAHA,UAIR,CACQ,qCACI,2BACZ,CAGI,6BAEI,kBAAA,CAKA,oBAAA,CAHA,cAAA,CAHA,mBAAA,CAEA,QAAA,CAEA,gBAAA,CACA,UAAR,CAGQ,yBACI,mCACI,uBADd,CACF,CAIQ,uCAEI,cAFZ,CAGY,oFAFA,uBAEZ,CAIQ,iDACI,wBAAA,CACA,oBAFZ,CAMI,8BAEI,cAAA,CADA,eAAA,CAEA,gBAJR,CAOI,8BAGI,aAAA,CAFA,gBAAA,CACA,UAJR,CAOQ,kCACI,UALZ,CAQQ,mCACI,WANZ,CASQ,yBAEQ,qDACI,cARlB,CACF,CAcY,wHACI,cAZhB,CAeQ,0GAEI,yBAdZ,CAgBY,oHACI,WAdhB,CAmBI,iCACI,SAAA,CACA,iBAjBR,CAmBQ,0CACI,SAAA,CACA,kBAjBZ,CAqBI,iCAQI,kBAAA,CASA,2CAAA,CAPA,kBAAA,CACA,wBAAA,CAGA,kBAAA,CAbA,UAAA,CAMA,YAAA,CAJA,cAAA,CACA,eAAA,CAQA,WAAA,CAHA,sBAAA,CAJA,eAAA,CAHA,eAAA,CAaA,eAAA,CAFA,cAAA,CAGA,iBAAA,CAEA,cAAA,CAZA,UAPR,CAqBQ,+EAUI,mIAAA,CAJA,QAAA,CAJA,UAAA,CAGA,SAAA,CAFA,iBAAA,CACA,KAAA,CAIA,uBAAA,CACA,gBAAA,CAFA,UAjBZ,CA6BQ,wCACI,oCA3BZ,CA6BQ,uCAEI,mBAAA,CADA,UA1BZ,CA8BQ,yBACI,uCAII,cAAA,CAHA,8BAAA,CACA,wBAAA,CACA,aA3Bd,CA8Bc,8CACI,cA5BlB,CA8Bc,6CACI,QAAA,CACA,mBA5BlB,CACF,CAkCA,0BACI,GACI,4BA/BN,CAiCE,IACI,4BA/BN,CAiCE,IACI,+BA/BN,CAiCE,IACI,8BA/BN,CAiCE,GACI,4BA/BN,CACF,CAkCA,0BACI,GACI,SAhCN,CAkCE,IACI,SAhCN,CAkCE,GACI,SAhCN,CACF",sourcesContent:['\nimg {\n    height: auto;\n    max-width: 34px;\n    object-fit: cover;\n}\n\n.menu {\n    min-height: 40vw;\n    width: 31%;\n    flex-shrink: 0;\n    position: relative;\n\n    @media (max-width: 1024px) {\n        width: 100%;\n    }\n\n    &__inner {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        overflow-x: none;\n        overflow-y: auto;\n        padding: 18px 14px 18px 0;\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n\n        @media (max-width: 1024px) {\n            position: static;\n            padding: 18px 0;\n        }\n    }\n\n    &__item {\n        flex: 0 0 auto;\n        width: 100%;\n        border-radius: 20px;\n        color: #ffffff;\n        overflow: hidden;\n\n        &--active {\n            background: rgba(0, 0, 0, 0.306);\n        }\n    }\n\n    &__link {\n        display: inline-flex;\n        align-items: center;\n        gap: 10px;\n        cursor: pointer;\n        padding: 8px 14px;\n        width: 100%;\n        color: #ffffff !important;\n\n        @media (any-hover: hover) {\n            &:hover {\n                color: #d2fe67 !important;\n            }\n        }\n\n        &--disabled {\n            color: #828282 !important;\n            cursor: inherit;\n            &:hover {\n                color: #828282 !important;\n            }\n        }\n        .menu__item--active & {\n            background-color: #d2fe67;\n            color: #000000 !important;\n        }\n    }\n\n    &__title {\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 20px;\n    }\n\n    &__arrow {\n        margin-left: auto;\n        width: 15px;\n        flex-shrink: 0;\n\n        svg {\n            width: 100%;\n        }\n\n        path {\n            stroke: #fff;\n        }\n\n        @media (any-hover: hover) {\n            .menu__link:hover & {\n                path {\n                    stroke: #d2fe67;\n                }\n            }\n        }\n\n        .menu__link--disabled &,\n        .menu__link--disabled:hover & {\n            path {\n                stroke: #828282;\n            }\n        }\n        .menu__item--active &,\n        .menu__item--active:hover & {\n            transform: rotateX(180deg);\n\n            path {\n                stroke: #000;\n            }\n        }\n    }\n\n    &__sub-menu {\n        opacity: 0;\n        visibility: hidden;\n\n        &--visible {\n            opacity: 1;\n            visibility: visible;\n        }\n    }\n\n    &__buy-prem {\n        color: #fff;\n        min-width: 200px;\n        font-size: 18px;\n        font-weight: 700;\n        margin-top: 30px;\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #191a1e;\n        border: 1px solid #818181;\n        height: 60px;\n        padding: 0 20px;\n        border-radius: 20px;\n        overflow: hidden;\n        position: relative;\n        animation: flash 5s infinite linear;\n        transition: 0.2s;\n\n        &::before,\n        &::after {\n            content: "";\n            position: absolute;\n            top: 0;\n            left: -15%;\n            bottom: 0;\n            width: 50px;\n            transform: skewX(-40deg);\n            translate: -50% 0;\n            background: linear-gradient(\n                90deg,\n                #ffffff80 14.5%,\n                #ffffff00 18.5%,\n                #ffffff00 31%,\n                #ffffff80 35%\n            );\n        }\n\n        &::before {\n            animation: glare 5s infinite;\n        }\n        &::after {\n            width: 40px;\n            transition: left 0.3s;\n        }\n\n        @media (any-hover: hover) {\n            &:hover {\n                background: #ffffff17;\n                border: 1px solid #d2fe67;\n                color: #d2fe67;\n                animation: none;\n\n                &::before {\n                    animation: none;\n                }\n                &::after {\n                    left: 30%;\n                    transition: left 0.2s;\n                }\n            }\n        }\n    }\n}\n\n@keyframes flash {\n    0% {\n        background: #ffffff00;\n    }\n    80% {\n        background: #ffffff00;\n    }\n    90% {\n        background: #ffffff09;\n    }\n    95% {\n        background: #ffffff17;\n    }\n    100% {\n        background: #ffffff00;\n    }\n}\n\n@keyframes glare {\n    0% {\n        left: -15%;\n    }\n    90% {\n        left: -15%;\n    }\n    100% {\n        left: 115%;\n    }\n}\n'],sourceRoot:""}]);const o=s},1377:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,"html[data-v-c8c58770]{box-sizing:border-box;font-family:Montserrat,sans-serif;font-size:1.714rem;height:100%}*[data-v-c8c58770],[data-v-c8c58770]:after,[data-v-c8c58770]:before{box-sizing:inherit}.body[data-v-c8c58770]{background-color:#16171b;color:#fff;margin:0;min-height:100%;min-width:320px}a[data-v-c8c58770]{text-decoration:none}h1[data-v-c8c58770],h2[data-v-c8c58770],h3[data-v-c8c58770],h4[data-v-c8c58770],h5[data-v-c8c58770],h6[data-v-c8c58770],p[data-v-c8c58770]{margin:0}button[data-v-c8c58770]{background:transparent;border:none;cursor:pointer;padding:0}ol[data-v-c8c58770],ul[data-v-c8c58770]{list-style:none;margin:0;padding:0}.main[data-v-c8c58770]{background-color:#191a1e;border-radius:6px;margin:0 auto;padding:14px 0}.main__container[data-v-c8c58770]{display:flex;justify-content:space-between;max-width:none!important;row-gap:30px;width:100%}@media (max-width:1024px){.main__container[data-v-c8c58770]{flex-direction:column;justify-content:center}}@media (max-width:576px){.main__container[data-v-c8c58770]{max-width:100%!important}}","",{version:3,sources:["webpack://./resources/js/components/Player.vue"],names:[],mappings:"AACA,sBAGI,qBAAA,CAFA,iCAAA,CACA,kBAAA,CAEA,WAAJ,CAGA,oEAGI,kBAAJ,CAGA,uBAII,wBAAA,CACA,UAAA,CAJA,QAAA,CAEA,eAAA,CADA,eAGJ,CAGA,mBACI,oBAAJ,CAGA,2IAOI,QAAJ,CAGA,wBAGI,sBAAA,CAFA,WAAA,CAGA,cAAA,CAFA,SAEJ,CAGA,wCAEI,eAAA,CACA,QAAA,CACA,SAAJ,CAGA,uBAGI,wBAAA,CACA,iBAAA,CAHA,aAAA,CACA,cAEJ,CAEI,kCACI,YAAA,CACA,6BAAA,CAEA,wBAAA,CACA,YAAA,CAFA,UAER,CAEQ,0BAPJ,kCAQQ,qBAAA,CACA,sBACV,CACF,CACQ,yBAZJ,kCAaQ,wBAEV,CACF",sourcesContent:['\nhtml {\n    font-family: "Montserrat", sans-serif;\n    font-size: 1.714rem;\n    box-sizing: border-box;\n    height: 100%;\n}\n\n*,\n*::before,\n*::after {\n    box-sizing: inherit;\n}\n\n.body {\n    margin: 0;\n    min-width: 320px;\n    min-height: 100%;\n    background-color: #16171b;\n    color: #fff;\n}\n\na {\n    text-decoration: none;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\np {\n    margin: 0;\n}\n\nbutton {\n    border: none;\n    padding: 0;\n    background: transparent;\n    cursor: pointer;\n}\n\nul,\nol {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n\n.main {\n    margin: 0 auto;\n    padding: 14px 0;\n    background-color: #191a1e;\n    border-radius: 6px;\n\n    &__container {\n        display: flex;\n        justify-content: space-between;\n        width: 100%;\n        max-width: none !important;\n        row-gap: 30px;\n\n        @media (max-width: 1024px) {\n            flex-direction: column;\n            justify-content: center;\n        }\n\n        @media (max-width: 576px) {\n            max-width: 100% !important;\n        }\n    }\n}\n'],sourceRoot:""}]);const o=s},7342:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,"ol[data-v-49bda2c6],ul[data-v-49bda2c6]{list-style:none;margin:0;padding:0}.sub-menu[data-v-49bda2c6]{border-radius:28px;display:flex;flex-direction:column;gap:15px;max-height:302px;overflow-y:auto;padding:15px 28px 20px}.sub-menu__link[data-v-49bda2c6]{color:#828282!important;cursor:pointer;display:block;font-size:16px;font-weight:500;line-height:20px}@media (any-hover:hover){.sub-menu__link[data-v-49bda2c6]:hover{color:#bdbdbd!important}}.sub-menu__link--active[data-v-49bda2c6],.sub-menu__link--active[data-v-49bda2c6]:hover{color:#fff!important}.sub-menu__link--disabled[data-v-49bda2c6]{color:#575757!important;cursor:inherit}.sub-menu__link--disabled[data-v-49bda2c6]:hover{color:#575757!important}","",{version:3,sources:["webpack://./resources/js/components/SubMenu.vue"],names:[],mappings:"AACA,wCAEI,eAAA,CACA,QAAA,CACA,SAAJ,CAGA,2BAKI,kBAAA,CAJA,YAAA,CACA,qBAAA,CACA,QAAA,CAGA,gBAAA,CACA,eAAA,CAHA,sBAGJ,CAEI,iCAKI,uBAAA,CACA,cAAA,CALA,aAAA,CAEA,cAAA,CADA,eAAA,CAEA,gBAER,CAEQ,yBACI,uCACI,uBAAd,CACF,CAKY,wFACI,oBAAhB,CAGQ,2CACI,uBAAA,CAIA,cAJZ,CACY,iDACI,uBAChB",sourcesContent:["\nul,\nol {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n\n.sub-menu {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n    padding: 15px 28px 20px;\n    border-radius: 28px;\n    max-height: 302px;\n    overflow-y: auto;\n\n    &__link {\n        display: block;\n        font-weight: 500;\n        font-size: 16px;\n        line-height: 20px;\n        color: #828282 !important;\n        cursor: pointer;\n\n        @media (any-hover: hover) {\n            &:hover {\n                color: #bdbdbd !important;\n            }\n        }\n\n        &--active {\n            color: #fff !important;\n            &:hover {\n                color: #fff !important;\n            }\n        }\n        &--disabled {\n            color: #575757 !important;\n            &:hover {\n                color: #575757 !important;\n            }\n            cursor: inherit;\n        }\n    }\n}\n"],sourceRoot:""}]);const o=s},3460:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,".module-quiz{background:#111216;border-radius:6px;overflow:hidden;padding:32px 40px;position:relative;width:100%;z-index:1}@media (max-width:1024px){.module-quiz{padding:30px 14px}}.module-quiz__decor{inset:0;pointer-events:none;position:absolute;z-index:-1}.module-quiz__decor-icon{position:absolute;transition:.3s;translate:-50% -50%}.module-quiz__decor-icon img{width:100%}.module-quiz__title{font-size:24px;line-height:1.2;margin-bottom:1em;text-align:center}@media (max-width:1024px){.module-quiz__title{font-size:20px}}@media (max-width:576px){.module-quiz__title{font-size:18px}}.module-quiz__question{font-size:20px;line-height:1.2;margin-bottom:2em;text-align:center}@media (max-width:512px){.module-quiz__question{font-size:16px}}.module-quiz__options{display:flex;flex-wrap:wrap;justify-content:center;margin-bottom:40px;row-gap:15px}.module-quiz__options>*{flex:0 0 50%}@media (max-width:576px){.module-quiz__options{flex-direction:column}}.module-quiz__label{display:block;padding:0 7.5px}.module-quiz__input{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#222328;border:1px solid #222328;border-radius:6px;color:inherit;display:block;display:flex;font-size:14px;font-weight:inherit;height:100%;justify-content:center;line-height:1.3;padding:20px;text-align:center;transition:.3s;width:100%}.module-quiz__input:before{content:attr(answer)}.module-quiz__input:hover{background:#3e3f46;cursor:pointer}.module-quiz__input--checked{border:1px solid #d2fe67;color:#d2fe67!important}.module-quiz__bottom{display:flex;justify-content:center}.module-quiz__complete-img{margin:40px auto 30px;max-width:160px}@media (max-width:576px){.module-quiz__complete-img{max-width:100px}}.module-quiz__btn{align-self:center;background:#d2fe67;border:none;border-radius:999px;color:#000;cursor:pointer;font-size:inherit;font-size:18px;font-weight:500;height:40px;min-width:200px;padding:0 20px;transition:.2s}@media (any-hover:hover){.module-quiz__btn:hover{box-shadow:0 5px 20px -5px hsla(77,99%,70%,.678)}}.module-quiz__btn .loader svg{height:26px;width:26px}.module-quiz__result{display:flex;flex-direction:column}.module-quiz__subtitle{font-size:30px;line-height:1.2;margin-bottom:1em;text-align:center}@media (max-width:1024px){.module-quiz__subtitle{font-size:24px}}@media (max-width:576px){.module-quiz__subtitle{font-size:20px}}","",{version:3,sources:["webpack://./resources/js/components/TheQuiz.vue"],names:[],mappings:"AACA,aAEI,kBAAA,CACA,iBAAA,CAEA,eAAA,CADA,iBAAA,CAEA,iBAAA,CALA,UAAA,CAMA,SAAJ,CAEI,0BATJ,aAUQ,iBACN,CACF,CACI,oBAEI,OAAA,CAEA,mBAAA,CAHA,iBAAA,CAEA,UAER,CAEI,yBACI,iBAAA,CAEA,cAAA,CADA,mBACR,CAEQ,6BACI,UAAZ,CAII,oBACI,cAAA,CACA,eAAA,CACA,iBAAA,CACA,iBAFR,CAIQ,0BANJ,oBAOQ,cADV,CACF,CAGQ,yBAVJ,oBAWQ,cAAV,CACF,CAGI,uBACI,cAAA,CACA,eAAA,CACA,iBAAA,CACA,iBADR,CAGQ,yBANJ,uBAOQ,cAAV,CACF,CAGI,sBACI,YAAA,CAEA,cAAA,CADA,sBAAA,CAGA,kBAAA,CADA,YAAR,CAGQ,wBACI,YADZ,CAIQ,yBAXJ,sBAYQ,qBADV,CACF,CAII,oBACI,aAAA,CACA,eAFR,CAKI,oBAiBI,kBAAA,CAbA,uBAAA,CAAA,oBAAA,CAAA,eAAA,CAOA,kBAAA,CADA,wBAAA,CAEA,iBAAA,CAPA,aAAA,CAIA,aAAA,CAOA,YAAA,CAVA,cAAA,CAEA,mBAAA,CAOA,WAAA,CAGA,sBAAA,CAXA,eAAA,CAMA,YAAA,CACA,iBAAA,CAMA,cAAA,CADA,UALR,CAbQ,2BACI,oBAeZ,CAKQ,0BACI,kBAAA,CACA,cAHZ,CAMQ,6BACI,wBAAA,CACA,uBAJZ,CAQI,qBACI,YAAA,CACA,sBANR,CASI,2BAEI,qBAAA,CADA,eANR,CASQ,yBAJJ,2BAKQ,eANV,CACF,CASI,kBAaI,iBAAA,CAPA,kBAAA,CALA,WAAA,CAMA,mBAAA,CAJA,UAAA,CAQA,cAAA,CATA,iBAAA,CAOA,cAAA,CACA,eAAA,CANA,WAAA,CAIA,eAAA,CAHA,cAAA,CAOA,cANR,CASQ,yBACI,wBACI,gDAPd,CACF,CAWY,8BAEI,WAAA,CADA,UARhB,CAcI,qBACI,YAAA,CACA,qBAZR,CAeI,uBACI,cAAA,CACA,eAAA,CACA,iBAAA,CACA,iBAbR,CAeQ,0BANJ,uBAOQ,cAZV,CACF,CAcQ,yBAVJ,uBAWQ,cAXV,CACF",sourcesContent:["\n.module-quiz {\n    width: 100%;\n    background: #111216;\n    border-radius: 6px;\n    padding: 32px 40px;\n    overflow: hidden;\n    position: relative;\n    z-index: 1;\n\n    @media (max-width: 1024px) {\n        padding: 30px 14px;\n    }\n\n    &__decor {\n        position: absolute;\n        inset: 0;\n        z-index: -1;\n        pointer-events: none;\n    }\n\n    &__decor-icon {\n        position: absolute;\n        translate: -50% -50%;\n        transition: .3s;\n\n        img {\n            width: 100%;\n        }\n    }\n\n    &__title {\n        font-size: 24px;\n        line-height: 1.2;\n        margin-bottom: 1em;\n        text-align: center;\n\n        @media (max-width: 1024px) {\n            font-size: 20px;\n        }\n\n        @media (max-width: 576px) {\n            font-size: 18px;\n        }\n    }\n\n    &__question {\n        font-size: 20px;\n        line-height: 1.2;\n        margin-bottom: 2em;\n        text-align: center;\n\n        @media (max-width: 512px) {\n            font-size: 16px;\n        }\n    }\n\n    &__options {\n        display: flex;\n        justify-content: center;\n        flex-wrap: wrap;\n        row-gap: 15px;\n        margin-bottom: 40px;\n\n        > * {\n            flex: 0 0 50%;\n        }\n\n        @media (max-width: 576px) {\n            flex-direction: column;\n        }\n    }\n\n    &__label {\n        display: block;\n        padding: 0 7.5px;\n    }\n\n    &__input {\n        &::before {\n            content: attr(answer);\n        }\n        appearance: none;\n        color: inherit;\n        font-size: 14px;\n        line-height: 1.3;\n        font-weight: inherit;\n        display: block;\n        border: 1px solid #222328;\n        background: #222328;\n        border-radius: 6px;\n        padding: 20px;\n        text-align: center;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        transition: 0.3s;\n\n        &:hover {\n            background: #3e3f46;\n            cursor: pointer;\n        }\n\n        &--checked {\n            border: 1px solid #d2fe67;\n            color: #d2fe67 !important;\n        }\n    }\n\n    &__bottom {\n        display: flex;\n        justify-content: center;\n    }\n\n    &__complete-img {\n        max-width: 160px;\n        margin: 40px auto 30px;\n\n        @media (max-width: 576px) {\n            max-width: 100px;\n        }\n    }\n\n    &__btn {\n        border: none;\n        font-size: inherit;\n        color: #000;\n        height: 40px;\n        padding: 0 20px;\n        background: #d2fe67;\n        border-radius: 999px;\n        min-width: 200px;\n        font-size: 18px;\n        font-weight: 500;\n        cursor: pointer;\n        transition: 0.2s;\n        align-self: center;\n\n        @media (any-hover: hover) {\n            &:hover {\n                box-shadow: 0 5px 20px -5px #d3fe67ad;\n            }\n        }\n\n        .loader {\n            svg {\n                width: 26px;\n                height: 26px;\n            }\n        }\n    }\n\n    &__result {\n        display: flex;\n        flex-direction: column;\n    }\n\n    &__subtitle {\n        font-size: 30px;\n        line-height: 1.2;\n        margin-bottom: 1em;\n        text-align: center;\n\n        @media (max-width: 1024px) {\n            font-size: 24px;\n        }\n\n        @media (max-width: 576px) {\n            font-size: 20px;\n        }\n    }\n}\n"],sourceRoot:""}]);const o=s},3862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,":root{--plyr-color-main:#d2fe67;--plyr-menu-background:rgba(3,3,3,.8);--plyr-video-control-color-hover:#4a5464;--plyr-menu-color:#fff}.player{background:#111216;border-radius:6px;padding:32px 40px;width:100%}@media (max-width:1024px){.player{padding:30px 14px}}.player__top{margin-bottom:22px}.player__title{font-size:24px;line-height:1.2;margin-bottom:1em}@media (max-width:1024px){.player__title{font-size:20px}}@media (max-width:576px){.player__title{font-size:18px}}.player__materials{color:#d2fe67!important;display:inline-block;font-size:16px;font-weight:600;margin-bottom:32px;text-decoration:underline}@media (max-width:576px){.player__materials{font-size:14px}}@media (any-hover:hover){.player__materials:hover{text-decoration:none}}.player__descr{color:#fff;font-size:16px;font-weight:400;margin-bottom:19px}.player__btn{background:#d2fe67;border-radius:14px;color:#000!important;display:inline-block;font-size:16px;font-weight:600;padding:9px 116px 11px;text-align:center}@media (max-width:576px){.player__btn{padding:9px 0 11px;width:100%}}.player__video{background:#000;border-radius:6px;margin-bottom:30px;overflow:hidden;padding-bottom:56.3%;position:relative}.player__video .loader{align-items:center;display:flex;inset:0;justify-content:center;position:absolute}.player__video .loader svg path,.player__video .loader svg rect{fill:#d2fe67}.player__video-inner{height:100%;inset:0;position:absolute;width:100%}.player__homework{background:#222328;border-radius:6px;font-size:16px;line-height:1.5;overflow:hidden;width:100%}@media (max-width:576px){.player__homework{font-size:13px}}.player__homework-title{background:#d2fe67;color:#000;font-weight:600;padding:5px 20px}@media (max-width:576px){.player__homework-title{padding:5px 14px}}.player__homework-text{color:#fff;font-weight:400;padding:20px}@media (max-width:576px){.player__homework-text{padding:14px}}.plyr{height:100%;inset:0;position:absolute!important;width:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#4a5163!important}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#d2fe67!important}.plyr__control--overlaid{color:var(--plyr-video-control-color-hover)!important}iframe{border-radius:0}","",{version:3,sources:["webpack://./resources/js/components/VideoPlayer.vue"],names:[],mappings:"AACA,MACI,yBAAA,CACA,qCAAA,CACA,wCAAA,CACA,sBAAJ,CAGA,QAEI,kBAAA,CACA,iBAAA,CACA,iBAAA,CAHA,UAGJ,CAEI,0BANJ,QAOQ,iBACN,CACF,CACI,aACI,kBACR,CAEI,eACI,cAAA,CACA,eAAA,CACA,iBAAR,CAEQ,0BALJ,eAMQ,cACV,CACF,CACQ,yBATJ,eAUQ,cAEV,CACF,CACI,mBAGI,uBAAA,CAEA,oBAAA,CAHA,cAAA,CADA,eAAA,CAKA,kBAAA,CAFA,yBAGR,CACQ,yBARJ,mBASQ,cAEV,CACF,CAAQ,yBACI,yBACI,oBAEd,CACF,CAEI,eAGI,UAAA,CADA,cAAA,CADA,eAAA,CAGA,kBAAR,CAGI,aAQI,kBAAA,CADA,kBAAA,CAFA,oBAAA,CAJA,oBAAA,CAGA,cAAA,CADA,eAAA,CADA,sBAAA,CAIA,iBACR,CAGQ,yBAVJ,aAYQ,kBAAA,CADA,UACV,CACF,CAGI,eAMI,eAAA,CAHA,iBAAA,CADA,kBAAA,CAEA,eAAA,CAHA,oBAAA,CAIA,iBAAR,CAGQ,uBAII,kBAAA,CAHA,YAAA,CAEA,OAAA,CAEA,sBAAA,CAHA,iBAEZ,CAGY,gEAEI,YADhB,CAMI,qBAII,WAAA,CAFA,OAAA,CADA,iBAAA,CAEA,UAHR,CAOI,kBAMI,kBAAA,CAFA,iBAAA,CAFA,cAAA,CACA,eAAA,CAEA,eAAA,CAJA,UAAR,CAOQ,yBARJ,kBASQ,cAJV,CACF,CAMQ,wBAGI,kBAAA,CACA,UAAA,CAFA,eAAA,CADA,gBADZ,CAMY,yBANJ,wBAOQ,gBAHd,CACF,CAMQ,uBAGI,UAAA,CADA,eAAA,CADA,YAFZ,CAMY,yBALJ,uBAMQ,YAHd,CACF,CAQA,MAII,WAAA,CAFA,OAAA,CADA,2BAAA,CAEA,UAJJ,CAQA,iIAEI,4BALJ,CAQA,oFAEI,4BANJ,CASA,yBACI,qDANJ,CASA,OACI,eANJ",sourcesContent:['\n:root {\n    --plyr-color-main: #d2fe67;\n    --plyr-menu-background: rgba(3, 3, 3, 0.8);\n    --plyr-video-control-color-hover: #4a5464;\n    --plyr-menu-color: #fff;\n}\n\n.player {\n    width: 100%;\n    background: #111216;\n    border-radius: 6px;\n    padding: 32px 40px;\n\n    @media (max-width: 1024px) {\n        padding: 30px 14px;\n    }\n\n    &__top {\n        margin-bottom: 22px;\n    }\n\n    &__title {\n        font-size: 24px;\n        line-height: 1.2;\n        margin-bottom: 1em;\n\n        @media (max-width: 1024px) {\n            font-size: 20px;\n        }\n\n        @media (max-width: 576px) {\n            font-size: 18px;\n        }\n    }\n\n    &__materials {\n        font-weight: 600;\n        font-size: 16px;\n        color: #d2fe67 !important;\n        text-decoration: underline;\n        display: inline-block;\n        margin-bottom: 32px;\n\n        @media (max-width: 576px) {\n            font-size: 14px;\n        }\n\n        @media (any-hover: hover) {\n            &:hover {\n                text-decoration: none;\n            }\n        }\n    }\n\n    &__descr {\n        font-weight: 400;\n        font-size: 16px;\n        color: #fff;\n        margin-bottom: 19px;\n    }\n\n    &__btn {\n        display: inline-block;\n        padding: 9px 116px 11px;\n        font-weight: 600;\n        font-size: 16px;\n        color: #000000 !important;\n        text-align: center;\n        border-radius: 14px;\n        background: #d2fe67;\n\n        @media (max-width: 576px) {\n            width: 100%;\n            padding: 9px 0 11px;\n        }\n    }\n\n    &__video {\n        padding-bottom: 56.3%;\n        margin-bottom: 30px;\n        border-radius: 6px;\n        overflow: hidden;\n        position: relative;\n        background: #000;\n\n        .loader {\n            display: flex;\n            position: absolute;\n            inset: 0;\n            align-items: center;\n            justify-content: center;\n\n            svg path,\n            svg rect {\n                fill: #d2fe67;\n            }\n        }\n    }\n\n    &__video-inner {\n        position: absolute;\n        inset: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    &__homework {\n        width: 100%;\n        font-size: 16px;\n        line-height: 1.5;\n        border-radius: 6px;\n        overflow: hidden;\n        background: #222328;\n\n        @media (max-width: 576px) {\n            font-size: 13px;\n        }\n\n        &-title {\n            padding: 5px 20px;\n            font-weight: 600;\n            background: #d2fe67;\n            color: #000000;\n\n            @media (max-width: 576px) {\n                padding: 5px 14px;\n            }\n        }\n\n        &-text {\n            padding: 20px;\n            font-weight: 400;\n            color: #ffffff;\n\n            @media (max-width: 576px) {\n                padding: 14px;\n            }\n        }\n    }\n}\n\n.plyr {\n    position: absolute !important;\n    inset: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.plyr__menu__container .plyr__control[role="menuitemradio"]::before,\n.plyr__menu__container .plyr__control[role="menuitemradio"]::after {\n    background: #4a5163 !important;\n}\n\n.plyr__menu__container\n    .plyr__control[role="menuitemradio"][aria-checked="true"]::before {\n    background: #d2fe67 !important;\n}\n\n.plyr__control--overlaid {\n    color: var(--plyr-video-control-color-hover) !important;\n}\n\niframe {\n    border-radius: 0;\n}\n'],sourceRoot:""}]);const o=s},9200:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(4015),i=r.n(n),a=r(3645),s=r.n(a)()(i());s.push([e.id,'@charset "UTF-8";@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px 0 #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 + 2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px))/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translateX(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc((var(--plyr-range-track-height, 5px)/2)*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:-webkit-full-screen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:-webkit-full-screen video{height:100%}.plyr:fullscreen video{height:100%}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:-webkit-full-screen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:-webkit-full-screen.plyr--hide-controls{cursor:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:-webkit-full-screen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius, 8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px #00000026;content:"";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius, 8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius, 8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;-o-object-fit:contain;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}',"",{version:3,sources:["webpack://./node_modules/plyr/dist/plyr.css"],names:[],mappings:"AAA28d,gBAA0G,CAApie,yBAAyB,GAAG,0BAA0B,CAAC,4DAA4D,CAAC,CAAC,sBAAsB,GAAG,UAAU,CAAC,0BAA0B,CAAC,GAAG,SAAS,CAAC,uBAAuB,CAAC,CAAC,wBAAwB,GAAG,SAAS,CAAC,GAAG,SAAS,CAAC,CAAC,MAAM,iCAAiC,CAAC,kCAAkC,CAAC,kBAAkB,CAAC,aAAa,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,2CAA2C,CAAC,iCAAiC,CAAC,eAAe,CAAC,+CAA+C,CAAC,eAAe,CAAC,uCAAuC,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,8BAA8B,CAAC,SAAS,CAAC,qCAAqC,aAAa,CAAC,WAAW,CAAC,UAAU,CAAC,aAAa,YAAY,CAAC,mBAAmB,CAAC,UAAU,CAAC,YAAY,SAAS,CAAC,eAAe,qBAAqB,CAAC,8DAA8D,kBAAkB,CAAC,iFAAiF,yBAAyB,CAAC,aAAa,kBAAkB,CAAC,+CAA+C,CAAC,iBAAiB,CAAC,iDAAiD,CAAC,UAAU,CAAC,uCAAuC,CAAC,aAAa,CAAC,yCAAyC,CAAC,aAAa,CAAC,eAAe,CAAC,oDAAoD,YAAY,CAAC,gBAAgB,+BAA+B,CAAC,QAAQ,CAAC,YAAY,CAAC,cAAc,CAAC,0CAA0C,CAAC,MAAM,CAAC,YAAY,CAAC,wCAAwC,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,UAAU,CAAC,2BAA2B,YAAY,CAAC,yBAAyB,gBAAgB,cAAc,CAAC,yCAAyC,CAAC,YAAY,CAAC,iDAAiD,CAAC,CAAC,yBAAyB,gBAAgB,cAAc,CAAC,0CAA0C,CAAC,CAAC,uCAAuC,aAAa,CAAC,4EAA4E,2BAA2B,CAAC,gEAAgE,CAAC,eAAe,gBAAgB,CAAC,gDAAgD,CAAC,iBAAiB,CAAC,kCAAkC,CAAC,0BAA0B,CAAC,UAAU,CAAC,0CAA0C,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,mBAAmB,cAAc,CAAC,eAAe,gBAAgB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,4CAA4C,CAAC,aAAa,CAAC,cAAc,CAAC,aAAa,CAAC,gBAAgB,CAAC,WAAW,CAAC,kDAAkD,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,mBAAmB,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,yCAAyC,CAAC,mBAAmB,CAAC,UAAU,CAAC,wCAAwC,CAAC,qBAAqB,SAAS,CAAC,6BAA6B,0BAA0B,CAAC,wGAAwG,CAAC,kBAAkB,CAAC,gBAAgB,oBAAoB,CAAC,uRAAuR,YAAY,CAAC,wCAAwC,YAAY,CAAC,gBAAgB,kBAAkB,CAAC,YAAY,CAAC,wBAAwB,CAAC,iBAAiB,CAAC,2CAA2C,MAAM,CAAC,WAAW,CAAC,sCAAsC,iBAAiB,CAAC,qDAAqD,CAAC,kDAAkD,aAAa,CAAC,iBAAiB,CAAC,gEAAgE,kBAAkB,CAAC,sDAAsD,CAAC,iDAAiD,aAAa,CAAC,mDAAmD,CAAC,sMAAsM,cAAc,CAAC,8HAA8H,YAAY,CAAC,gLAAgL,oBAAoB,CAAC,YAAY,YAAY,CAAC,iBAAiB,CAAC,+BAA+B,6BAA6B,CAAC,mDAAmD,uBAAuB,CAAC,8DAA8D,YAAY,CAAC,uBAAuB,6BAA6B,CAAC,oBAAoB,CAAC,gDAAgD,CAAC,iBAAiB,CAAC,yCAAyC,CAAC,WAAW,CAAC,8BAA8B,CAAC,sDAAsD,CAAC,aAAa,CAAC,oCAAoC,CAAC,cAAc,CAAC,yCAAyC,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,UAAU,CAAC,eAAe,CAAC,kBAAkB,CAAC,SAAS,CAAC,2BAA2B,eAAe,CAAC,iFAAiF,CAAC,6BAA+E,sBAAkD,CAAC,kDAAsD,CAAtD,sDAAsD,CAAC,UAAU,CAAC,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC,6HAA6H,CAAC,QAAQ,CAAC,OAAO,CAAC,mCAAmC,WAAW,CAAC,kDAAkD,CAAC,mFAAmF,cAAc,CAAC,2GAA2G,YAAY,CAAC,sCAAsC,kBAAkB,CAAC,aAAa,CAAC,oCAAoC,CAAC,YAAY,CAAC,cAAc,CAAC,qEAAqE,CAAC,wBAAwB,CAAC,qGAAqG,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,UAAU,CAAC,2CAA2C,mBAAmB,CAAC,YAAY,CAAC,UAAU,CAAC,4CAA4C,sBAAsB,CAAC,uDAAuD,CAAC,UAAU,CAAC,iBAAiB,CAAC,OAAO,CAAC,0BAA0B,CAAC,+CAA+C,kBAAkB,CAAC,0DAA0D,CAAC,qDAAqD,yBAAyB,CAAC,sDAAsD,CAAC,WAAW,CAAC,4FAA4F,CAAC,8HAA8H,yBAAyB,CAAC,4CAA4C,eAAe,CAAC,+CAA+C,CAAC,UAAU,CAAC,iDAAiD,CAAC,mBAAmB,CAAC,0DAA0D,CAAC,iBAAiB,CAAC,yDAAyD,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,yDAAyD,CAAC,kDAAkD,0BAA0B,CAAC,uDAAuD,CAAC,UAAU,CAAC,2FAA2F,CAAC,mDAAmD,kBAAkB,CAAC,qDAAqD,CAAC,uBAAuB,CAAC,iEAAiE,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,CAAC,gBAAgB,CAAC,uDAAuD,CAAC,eAAe,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,wHAAwH,0BAA0B,CAAC,0DAA0D,gBAAgB,CAAC,uDAAuD,CAAC,iIAAiI,kBAAkB,CAAC,iEAAiE,oBAAoB,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CAAC,WAAW,CAAC,iBAAiB,CAAC,6CAA6C,CAAC,uBAAuB,CAAC,UAAU,CAAC,gEAAgE,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,mCAAmC,CAAC,8CAA8C,CAAC,SAAS,CAAC,oFAAoF,kBAAkB,CAAC,8GAA8G,CAAC,mFAAmF,SAAS,CAAC,mCAAmC,CAAC,sJAAsJ,oBAAoB,CAAC,0CAA0C,kBAAkB,CAAC,YAAY,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,gEAAiE,CAAC,eAAe,CAAC,mBAAmB,CAAC,2DAA2D,CAAC,mBAAmB,CAAC,iCAAiC,uBAAuB,CAAC,eAAe,CAAC,gBAAgB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,0DAA0D,CAAC,aAAa,CAAC,6FAA6F,CAAC,aAAa,CAAC,WAAW,CAAC,sGAAsG,CAAC,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,8BAA8B,CAAC,UAAU,CAAC,gEAAgE,gBAAgB,CAAC,4DAA8D,CAAC,2FAA2F,CAAC,QAAQ,CAAC,mBAAmB,CAAC,yDAAyD,CAAC,UAAU,CAAC,yCAAyC,CAAwC,sCAA8B,CAA9B,8BAA8B,CAAC,wBAAwB,CAAC,gBAAgB,CAAC,uDAAuD,uBAAuB,CAAC,eAAe,CAAC,eAAe,CAAC,kDAAkD,CAAC,QAAQ,CAAC,kBAAkB,CAAC,kDAAkD,CAAC,iFAAiF,CAAC,WAAW,CAAC,0CAA0C,CAAC,eAAe,CAAC,kGAAkG,CAAC,iBAAiB,CAAiC,+BAAuB,CAAvB,uBAAuB,CAAC,UAAU,CAAC,yCAAyC,CAAC,mDAAmD,gBAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,yDAAyD,CAAC,UAAU,CAAC,yCAAyC,CAAqC,mCAA8B,CAA9B,8BAA8B,CAAC,gBAAgB,CAAC,mDAAmD,eAAe,CAAC,kDAAkD,CAAC,QAAQ,CAAC,kBAAkB,CAAC,kDAAkD,CAAC,iFAAiF,CAAC,WAAW,CAAC,0CAA0C,CAAC,iBAAiB,CAA8B,4BAAuB,CAAvB,uBAAuB,CAAC,UAAU,CAAC,yCAAyC,CAAC,sDAAsD,uBAAuB,CAAC,mBAAmB,CAAC,yDAAyD,CAAC,UAAU,CAAC,yCAAyC,CAAC,4CAA4C,WAAW,CAAC,6FAA6F,gBAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,yDAAyD,CAAC,UAAU,CAAC,yCAAyC,CAAoC,kCAA8B,CAA9B,8BAA8B,CAAC,gBAAgB,CAAC,iDAAiD,gBAAgB,CAAC,uBAAuB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,yDAAyD,CAAC,UAAU,CAAC,yCAAyC,CAAoC,kCAA8B,CAA9B,8BAA8B,CAAC,gBAAgB,CAAC,4CAA4C,eAAe,CAAC,kDAAkD,CAAC,QAAQ,CAAC,kBAAkB,CAAC,kDAAkD,CAAC,iFAAiF,CAAC,WAAW,CAAC,0CAA0C,CAAC,YAAY,CAAC,iBAAiB,CAA6B,2BAAuB,CAAvB,uBAAuB,CAAC,UAAU,CAAC,yCAAyC,CAAC,8CAA8C,YAAY,CAAC,mDAAmD,QAAQ,CAAC,uCAAuC,SAAS,CAAC,8EAA8E,0BAA0B,CAAC,wGAAwG,CAAC,kBAAkB,CAAC,iEAAiE,0BAA0B,CAAC,wGAAwG,CAAC,kBAAkB,CAAC,0DAA0D,0BAA0B,CAAC,wGAAwG,CAAC,kBAAkB,CAAC,cAAc,qBAAqB,CAAC,+EAA+E,CAAC,2BAA2B,CAAC,2BAA2B,CAAC,uBAAuB,CAAC,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,2BAA2B,CAAC,UAAU,CAAC,SAAS,CAAC,kDAAkD,SAAS,CAAC,mFAAmF,YAAY,CAAC,YAAY,cAAc,CAAC,qEAAqE,CAAC,+BAA+B,WAAW,CAAC,iBAAiB,CAAC,6CAA6C,CAAC,yBAAyB,wBAAwB,YAAY,CAAC,CAAC,eAAe,eAAe,CAAC,8CAA8C,CAAC,iBAAiB,CAAC,4CAA4C,CAAC,WAAW,CAAC,8BAA8B,CAAC,yDAAyD,CAAC,aAAa,CAAC,uCAAuC,CAAC,cAAc,CAAC,0CAA0C,CAAC,eAAe,CAAC,+CAA+C,CAAC,QAAQ,CAAC,eAAe,CAAC,kBAAkB,CAAC,yDAAyD,CAAC,SAAS,CAAC,iBAAiB,CAAC,+FAA+F,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,wCAAwC,CAAC,yBAAyB,CAAC,sDAAsD,CAAC,kBAAkB,CAAC,SAAS,CAAC,sBAAsB,2BAA2B,CAAC,0DAA0D,CAAC,4BAA4B,CAAC,2DAA2D,CAAC,yBAAyB,CAAC,uFAAuF,CAAC,WAAW,CAAC,mDAAmD,CAAC,UAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,OAAO,CAAC,SAAS,CAAC,oHAAoH,SAAS,CAAC,kCAAkC,CAAC,0CAA0C,SAAS,CAAC,mIAAmI,MAAM,CAAC,oCAAoC,CAAC,uBAAuB,CAAC,iJAAiJ,SAAS,CAAC,uFAAuF,CAAC,yDAAyD,SAAS,CAAC,OAAO,CAAC,oCAAoC,CAAC,0BAA0B,CAAC,gEAAgE,SAAS,CAAC,UAAU,CAAC,wFAAwF,CAAC,yBAAyB,CAAC,2oBAA2oB,+BAA+B,CAAC,gBAAgB,UAAU,CAAC,kDAAkD,CAAC,iBAAiB,CAAC,gDAAgD,CAAC,iBAAiB,CAAC,0DAA0D,kBAAkB,CAAC,0DAA0D,CAAC,mBAAmB,CAAC,2DAA2D,CAAC,uBAAuB,CAAC,uDAAuD,CAAC,kCAAkC,iBAAiB,CAAC,SAAS,CAAC,+BAA+B,MAAM,CAAC,eAAe,CAAC,wBAAwB,CAAC,wBAAwB,uBAAuB,CAAC,gBAAgB,CAAC,QAAQ,CAAC,mBAAmB,CAAC,UAAU,CAAC,yCAAyC,CAAC,MAAM,CAAC,iBAAiB,CAAC,2DAA2D,CAAC,SAAS,CAAC,iBAAiB,CAAC,OAAO,CAAC,8CAA8C,gBAAgB,CAAC,gDAAgD,uBAAuB,CAAC,mBAAmB,CAAC,aAAa,CAAC,4CAA4C,CAAmC,iCAAwB,CAAxB,yBAAyB,CAAC,2CAA2C,uBAAuB,CAAC,mBAAmB,CAAC,aAAa,CAAC,4CAA4C,CAAgC,8BAAwB,CAAxB,yBAAyB,CAAC,kCAAkC,mBAAmB,CAA+B,6BAAwB,CAAxB,yBAAyB,CAAC,uCAAuC,0CAA0C,CAAC,gHAAgH,CAAC,8OAA8O,CAAC,0BAA0B,CAAC,yBAAyB,CAAC,6FAA6F,CAAC,WAAW,CAAC,mDAAmD,0BAA0B,CAAC,yEAAyE,CAAC,mDAAmD,0BAA0B,CAAC,yEAAyE,CAAC,wBAAwB,qBAAqB,CAAC,4DAA4D,CAAC,iBAAiB,CAAC,UAAU,CAAC,yCAAyC,CAAC,iBAAiB,CAAC,OAAO,CAAC,8BAA8B,CAAC,SAAS,CAAC,2CAA2C,CAAC,SAAS,CAAC,cAAc,kBAAkB,CAAC,YAAY,CAAC,iBAAiB,CAAC,gCAAgC,eAAe,CAAC,qDAAqD,CAAC,gBAAgB,CAAC,sDAAsD,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,SAAS,CAAC,aAAa,aAAa,CAAC,6BAA6B,eAAe,CAAC,qDAAqD,CAAC,qBAAqB,CAAC,aAAa,CAAC,6CAA6C,CAAC,YAAY,CAAC,wCAAwC,CAAC,4HAA4H,kBAAkB,CAAC,2GAA2G,CAAC,UAAU,CAAC,gDAAgD,CAAC,4EAA4E,0BAA0B,CAAC,kHAAkH,CAAC,+DAA+D,0BAA0B,CAAC,kHAAkH,CAAC,wDAAwD,0BAA0B,CAAC,kHAAkH,CAAC,0EAA0E,sEAAsE,CAAC,mMAAmM,CAAC,sEAAsE,sEAAsE,CAAC,mMAAmM,CAAC,+DAA+D,sEAAsE,CAAC,mMAAmM,CAAC,qCAAqC,eAAe,CAAC,8DAA8D,CAAC,aAAa,eAAe,CAAC,6BAA6B,gBAAgB,CAAC,qBAAqB,eAAe,CAAC,yEAAyE,CAAC,qBAAqB,CAAC,WAAW,CAAC,WAAW,CAAC,eAAe,CAAC,iBAAiB,CAAC,UAAU,CAAC,qDAAqD,iBAAiB,CAAC,kCAAkC,qDAAqD,QAAQ,CAAC,qBAAqB,CAAC,iBAAiB,CAAC,CAAC,kEAAkE,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,gEAAgE,mBAAmB,CAAC,iBAAiB,CAAC,gCAAgC,CAAC,6BAA6B,2CAA2C,CAAC,iFAAiF,CAAC,iCAAiC,CAAC,kCAAkC,CAAC,QAAQ,CAAC,UAAU,CAAC,0CAA0C,CAAC,MAAM,CAAC,WAAW,CAAC,iDAAiD,CAAC,gBAAgB,CAAC,qDAAqD,CAAC,iBAAiB,CAAC,OAAO,CAAC,4DAA4D,CAAC,SAAS,CAAC,yBAAyB,6BAA6B,YAAY,CAAC,wCAAwC,CAAC,gBAAgB,CAAC,uDAAuD,CAAC,CAAC,iDAAiD,SAAS,CAAC,mBAAmB,CAAC,0BAA0B,CAAC,4HAA4H,kBAAkB,CAAC,2GAA2G,CAAC,UAAU,CAAC,gDAAgD,CAAC,yBAAyB,kBAAkB,CAAC,2GAA2G,CAAC,QAAQ,CAAC,kBAAkB,CAAC,UAAU,CAAC,0CAA0C,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,YAAY,CAAC,mDAAmD,CAAC,iBAAiB,CAAC,OAAO,CAAC,8BAA8B,CAAC,cAAc,CAAC,SAAS,CAAC,6BAA6B,QAAQ,CAAC,iBAAiB,CAAC,8DAA8D,SAAS,CAAC,wCAAwC,SAAS,CAAC,iBAAiB,CAAC,oDAAoD,aAAa,CAAC,4EAA4E,0BAA0B,CAAC,kHAAkH,CAAC,+DAA+D,0BAA0B,CAAC,kHAAkH,CAAC,wDAAwD,0BAA0B,CAAC,kHAAkH,CAAC,0EAA0E,sEAAsE,CAAC,mMAAmM,CAAC,sEAAsE,sEAAsE,CAAC,mMAAmM,CAAC,+DAA+D,sEAAsE,CAAC,mMAAmM,CAAC,qCAAqC,eAAe,CAAC,8DAA8D,CAAC,0BAAiB,eAAe,CAAC,yBAAyB,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAA1F,iBAAiB,eAAe,CAAC,yBAAyB,CAAC,WAAW,CAAC,QAAQ,CAAC,UAAU,CAAC,gCAAuB,WAAW,CAAlC,uBAAuB,WAAW,CAAC,gEAAuD,aAAa,CAApE,uDAAuD,aAAa,CAAC,oEAA2D,YAAY,CAAvE,2DAA2D,YAAY,CAAC,8CAAqC,WAAW,CAAhD,qCAAqC,WAAW,CAAC,0BAA0B,0CAAiC,cAAc,CAAC,2CAA2C,CAA3F,iCAAiC,cAAc,CAAC,2CAA2C,CAAC,CAAC,2BAA2B,eAAe,CAAC,yBAAyB,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,gBAAgB,CAAC,iCAAiC,WAAW,CAAC,iEAAiE,aAAa,CAAC,qEAAqE,YAAY,CAAC,+CAA+C,WAAW,CAAC,0BAA0B,2CAA2C,cAAc,CAAC,2CAA2C,CAAC,CAAC,WAAW,qBAAqB,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,eAAe,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,qCAAqC,WAAW,CAAC,iBAAiB,CAAC,UAAU,CAAC,iBAAiB,kBAAkB,CAAC,iBAAiB,CAAC,WAAW,CAAC,uCAAuC,CAAC,UAAU,CAAC,6BAA6B,CAAC,cAAc,CAAC,eAAe,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,UAAU,CAAC,sCAAsC,CAAC,SAAS,CAAC,uBAAuB,YAAY,CAAC,YAAY,uBAAuB,CAAC,aAAa,CAAC,UAAU,CAAC,yCAAyC,CAAC,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,OAAO,CAAC,0BAA0B,CAAC,SAAS,CAAC,SAAS,CAAC,qBAAqB,qBAAqB,CAAC,oDAAoD,CAAC,iBAAiB,CAAC,yCAAyC,CAAC,WAAW,CAAC,8BAA8B,CAAC,yDAAyD,CAAC,kBAAkB,CAAC,yDAAyD,CAAC,SAAS,CAAC,WAAW,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,yBAAyB,CAAC,sDAAsD,CAAC,SAAS,CAAC,+BAA+B,SAAS,CAAC,+BAA+B,CAAC,4BAA4B,2BAA2B,CAAC,0DAA0D,CAAC,4BAA4B,CAAC,2DAA2D,CAAC,yBAAyB,CAAC,uFAAuF,CAAC,WAAW,CAAC,mDAAmD,CAAC,UAAU,CAAC,QAAQ,CAAC,4CAA4C,CAAC,iBAAiB,CAAC,0BAA0B,CAAC,OAAO,CAAC,SAAS,CAAC,sCAAsC,kBAAkB,CAAC,iBAAiB,CAAC,sDAAsD,CAAC,eAAe,CAAC,iBAAiB,CAAC,SAAS,CAAC,sFAAsF,WAAW,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,4CAA4C,qBAAqB,CAAC,oCAAoC,CAAC,UAAU,CAAC,mBAAmB,CAAC,0CAA0C,eAAe,CAAC,cAAc,CAAC,qCAAqC,2CAA2C,CAAC,iFAAiF,CAAC,6BAA6B,CAAC,kEAAkE,CAAC,8BAA8B,CAAC,mEAAmE,CAAC,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,oBAAoB,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,0CAA0C,UAAU,CAAC,cAAc,CAAC,qEAAqE,CAAC,yBAAyB,QAAQ,CAAC,gBAAgB,CAAC,WAAW,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,eAAe,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,UAAU,CAAC,SAAS,CAAC,mCAAmC,SAAS,CAAC,6BAA6B,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,cAAc,CAAC,qBAAkB,CAAlB,kBAAkB,CAAC,iBAAiB,CAAC,KAAK,CAAC,UAAU,CAAC,qBAAqB,yBAAyB,CAAC,eAAe,0BAA0B,CAAC,kBAAkB,CAAC,oBAAoB,CAAC,eAAe,CAAC,mBAAmB,CAAC,2BAA2B,CAAC,mBAAmB,CAAC,eAAe,sBAAsB",sourcesContent:['@charset "UTF-8";@keyframes plyr-progress{to{background-position:25px 0;background-position:var(--plyr-progress-loading-size,25px) 0}}@keyframes plyr-popup{0%{opacity:.5;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes plyr-fade-in{0%{opacity:0}to{opacity:1}}.plyr{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;align-items:center;direction:ltr;display:flex;flex-direction:column;font-family:inherit;font-family:var(--plyr-font-family,inherit);font-variant-numeric:tabular-nums;font-weight:400;font-weight:var(--plyr-font-weight-regular,400);line-height:1.7;line-height:var(--plyr-line-height,1.7);max-width:100%;min-width:200px;position:relative;text-shadow:none;transition:box-shadow .3s ease;z-index:0}.plyr audio,.plyr iframe,.plyr video{display:block;height:100%;width:100%}.plyr button{font:inherit;line-height:inherit;width:auto}.plyr:focus{outline:0}.plyr--full-ui{box-sizing:border-box}.plyr--full-ui *,.plyr--full-ui :after,.plyr--full-ui :before{box-sizing:inherit}.plyr--full-ui a,.plyr--full-ui button,.plyr--full-ui input,.plyr--full-ui label{touch-action:manipulation}.plyr__badge{background:#4a5464;background:var(--plyr-badge-background,#4a5464);border-radius:2px;border-radius:var(--plyr-badge-border-radius,2px);color:#fff;color:var(--plyr-badge-text-color,#fff);font-size:9px;font-size:var(--plyr-font-size-badge,9px);line-height:1;padding:3px 4px}.plyr--full-ui ::-webkit-media-text-track-container{display:none}.plyr__captions{animation:plyr-fade-in .3s ease;bottom:0;display:none;font-size:13px;font-size:var(--plyr-font-size-small,13px);left:0;padding:10px;padding:var(--plyr-control-spacing,10px);position:absolute;text-align:center;transition:transform .4s ease-in-out;width:100%}.plyr__captions span:empty{display:none}@media (min-width:480px){.plyr__captions{font-size:15px;font-size:var(--plyr-font-size-base,15px);padding:20px;padding:calc(var(--plyr-control-spacing, 10px)*2)}}@media (min-width:768px){.plyr__captions{font-size:18px;font-size:var(--plyr-font-size-large,18px)}}.plyr--captions-active .plyr__captions{display:block}.plyr:not(.plyr--hide-controls) .plyr__controls:not(:empty)~.plyr__captions{transform:translateY(-40px);transform:translateY(calc(var(--plyr-control-spacing, 10px)*-4))}.plyr__caption{background:#000c;background:var(--plyr-captions-background,#000c);border-radius:2px;-webkit-box-decoration-break:clone;box-decoration-break:clone;color:#fff;color:var(--plyr-captions-text-color,#fff);line-height:185%;padding:.2em .5em;white-space:pre-wrap}.plyr__caption div{display:inline}.plyr__control{background:#0000;border:0;border-radius:4px;border-radius:var(--plyr-control-radius,4px);color:inherit;cursor:pointer;flex-shrink:0;overflow:visible;padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7);position:relative;transition:all .3s ease}.plyr__control svg{fill:currentColor;display:block;height:18px;height:var(--plyr-control-icon-size,18px);pointer-events:none;width:18px;width:var(--plyr-control-icon-size,18px)}.plyr__control:focus{outline:0}.plyr__control:focus-visible{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}a.plyr__control{text-decoration:none}.plyr__control.plyr__control--pressed .icon--not-pressed,.plyr__control.plyr__control--pressed .label--not-pressed,.plyr__control:not(.plyr__control--pressed) .icon--pressed,.plyr__control:not(.plyr__control--pressed) .label--pressed,a.plyr__control:after,a.plyr__control:before{display:none}.plyr--full-ui ::-webkit-media-controls{display:none}.plyr__controls{align-items:center;display:flex;justify-content:flex-end;text-align:center}.plyr__controls .plyr__progress__container{flex:1;min-width:0}.plyr__controls .plyr__controls__item{margin-left:2.5px;margin-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item:first-child{margin-left:0;margin-right:auto}.plyr__controls .plyr__controls__item.plyr__progress__container{padding-left:2.5px;padding-left:calc(var(--plyr-control-spacing, 10px)/4)}.plyr__controls .plyr__controls__item.plyr__time{padding:0 5px;padding:0 calc(var(--plyr-control-spacing, 10px)/2)}.plyr__controls .plyr__controls__item.plyr__progress__container:first-child,.plyr__controls .plyr__controls__item.plyr__time+.plyr__time,.plyr__controls .plyr__controls__item.plyr__time:first-child{padding-left:0}.plyr [data-plyr=airplay],.plyr [data-plyr=captions],.plyr [data-plyr=fullscreen],.plyr [data-plyr=pip],.plyr__controls:empty{display:none}.plyr--airplay-supported [data-plyr=airplay],.plyr--captions-enabled [data-plyr=captions],.plyr--fullscreen-enabled [data-plyr=fullscreen],.plyr--pip-supported [data-plyr=pip]{display:inline-block}.plyr__menu{display:flex;position:relative}.plyr__menu .plyr__control svg{transition:transform .3s ease}.plyr__menu .plyr__control[aria-expanded=true] svg{transform:rotate(90deg)}.plyr__menu .plyr__control[aria-expanded=true] .plyr__tooltip{display:none}.plyr__menu__container{animation:plyr-popup .2s ease;background:#ffffffe6;background:var(--plyr-menu-background,#ffffffe6);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-menu-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-menu-color,#4a5464);font-size:15px;font-size:var(--plyr-font-size-base,15px);margin-bottom:10px;position:absolute;right:-3px;text-align:left;white-space:nowrap;z-index:3}.plyr__menu__container>div{overflow:hidden;transition:height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1)}.plyr__menu__container:after{border:4px solid #0000;border-top-color:#ffffffe6;border:var(--plyr-menu-arrow-size,4px) solid #0000;border-top-color:var(--plyr-menu-background,#ffffffe6);content:"";height:0;position:absolute;right:14px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7 - var(--plyr-menu-arrow-size, 4px)/2);top:100%;width:0}.plyr__menu__container [role=menu]{padding:7px;padding:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container [role=menuitem],.plyr__menu__container [role=menuitemradio]{margin-top:2px}.plyr__menu__container [role=menuitem]:first-child,.plyr__menu__container [role=menuitemradio]:first-child{margin-top:0}.plyr__menu__container .plyr__control{align-items:center;color:#4a5464;color:var(--plyr-menu-color,#4a5464);display:flex;font-size:13px;font-size:var(--plyr-font-size-menu,var(--plyr-font-size-small,13px));padding:4.66667px 10.5px;padding:calc(var(--plyr-control-spacing, 10px)*.7/1.5) calc(var(--plyr-control-spacing, 10px)*.7*1.5);-webkit-user-select:none;user-select:none;width:100%}.plyr__menu__container .plyr__control>span{align-items:inherit;display:flex;width:100%}.plyr__menu__container .plyr__control:after{border:4px solid #0000;border:var(--plyr-menu-item-arrow-size,4px) solid #0000;content:"";position:absolute;top:50%;transform:translateY(-50%)}.plyr__menu__container .plyr__control--forward{padding-right:28px;padding-right:calc(var(--plyr-control-spacing, 10px)*.7*4)}.plyr__menu__container .plyr__control--forward:after{border-left-color:#728197;border-left-color:var(--plyr-menu-arrow-color,#728197);right:6.5px;right:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--forward:focus-visible:after,.plyr__menu__container .plyr__control--forward:hover:after{border-left-color:initial}.plyr__menu__container .plyr__control--back{font-weight:400;font-weight:var(--plyr-font-weight-regular,400);margin:7px;margin:calc(var(--plyr-control-spacing, 10px)*.7);margin-bottom:3.5px;margin-bottom:calc(var(--plyr-control-spacing, 10px)*.7/2);padding-left:28px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*4);position:relative;width:calc(100% - 14px);width:calc(100% - var(--plyr-control-spacing, 10px)*.7*2)}.plyr__menu__container .plyr__control--back:after{border-right-color:#728197;border-right-color:var(--plyr-menu-arrow-color,#728197);left:6.5px;left:calc(var(--plyr-control-spacing, 10px)*.7*1.5 - var(--plyr-menu-item-arrow-size, 4px))}.plyr__menu__container .plyr__control--back:before{background:#dcdfe5;background:var(--plyr-menu-back-border-color,#dcdfe5);box-shadow:0 1px 0 #fff;box-shadow:0 1px 0 var(--plyr-menu-back-border-shadow-color,#fff);content:"";height:1px;left:0;margin-top:3.5px;margin-top:calc(var(--plyr-control-spacing, 10px)*.7/2);overflow:hidden;position:absolute;right:0;top:100%}.plyr__menu__container .plyr__control--back:focus-visible:after,.plyr__menu__container .plyr__control--back:hover:after{border-right-color:initial}.plyr__menu__container .plyr__control[role=menuitemradio]{padding-left:7px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7)}.plyr__menu__container .plyr__control[role=menuitemradio]:after,.plyr__menu__container .plyr__control[role=menuitemradio]:before{border-radius:100%}.plyr__menu__container .plyr__control[role=menuitemradio]:before{background:#0000001a;content:"";display:block;flex-shrink:0;height:16px;margin-right:10px;margin-right:var(--plyr-control-spacing,10px);transition:all .3s ease;width:16px}.plyr__menu__container .plyr__control[role=menuitemradio]:after{background:#fff;border:0;height:6px;left:12px;opacity:0;top:50%;transform:translateY(-50%) scale(0);transition:transform .3s ease,opacity .3s ease;width:6px}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:before{background:#00b2ff;background:var(--plyr-control-toggle-checked-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)))}.plyr__menu__container .plyr__control[role=menuitemradio][aria-checked=true]:after{opacity:1;transform:translateY(-50%) scale(1)}.plyr__menu__container .plyr__control[role=menuitemradio]:focus-visible:before,.plyr__menu__container .plyr__control[role=menuitemradio]:hover:before{background:#23282f1a}.plyr__menu__container .plyr__menu__value{align-items:center;display:flex;margin-left:auto;margin-right:-5px;margin-right:calc(var(--plyr-control-spacing, 10px)*.7*-1 - -2px);overflow:hidden;padding-left:24.5px;padding-left:calc(var(--plyr-control-spacing, 10px)*.7*3.5);pointer-events:none}.plyr--full-ui input[type=range]{-webkit-appearance:none;appearance:none;background:#0000;border:0;border-radius:26px;border-radius:calc(var(--plyr-range-thumb-height, 13px)*2);color:#00b2ff;color:var(--plyr-range-fill-background,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));display:block;height:19px;height:calc(var(--plyr-range-thumb-active-shadow-width, 3px)*2 + var(--plyr-range-thumb-height, 13px));margin:0;min-width:0;padding:0;transition:box-shadow .3s ease;width:100%}.plyr--full-ui input[type=range]::-webkit-slider-runnable-track{background:#0000;background-image:linear-gradient(90deg,currentColor 0,#0000 0);background-image:linear-gradient(to right,currentColor var(--value,0),#0000 var(--value,0));border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-webkit-transition:box-shadow .3s ease;transition:box-shadow .3s ease;-webkit-user-select:none;user-select:none}.plyr--full-ui input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:-4px;margin-top:calc((var(--plyr-range-thumb-height, 13px) - var(--plyr-range-track-height, 5px))/2*-1);position:relative;-webkit-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-moz-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-moz-range-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);position:relative;-moz-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-moz-range-progress{background:currentColor;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px)}.plyr--full-ui input[type=range]::-ms-track{color:#0000}.plyr--full-ui input[type=range]::-ms-fill-upper,.plyr--full-ui input[type=range]::-ms-track{background:#0000;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-fill-lower{background:#0000;background:currentColor;border:0;border-radius:2.5px;border-radius:calc(var(--plyr-range-track-height, 5px)/2);height:5px;height:var(--plyr-range-track-height,5px);-ms-transition:box-shadow .3s ease;transition:box-shadow .3s ease;user-select:none}.plyr--full-ui input[type=range]::-ms-thumb{background:#fff;background:var(--plyr-range-thumb-background,#fff);border:0;border-radius:100%;box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33);height:13px;height:var(--plyr-range-thumb-height,13px);margin-top:0;position:relative;-ms-transition:all .2s ease;transition:all .2s ease;width:13px;width:var(--plyr-range-thumb-height,13px)}.plyr--full-ui input[type=range]::-ms-tooltip{display:none}.plyr--full-ui input[type=range]::-moz-focus-outer{border:0}.plyr--full-ui input[type=range]:focus{outline:0}.plyr--full-ui input[type=range]:focus-visible::-webkit-slider-runnable-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-moz-range-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr--full-ui input[type=range]:focus-visible::-ms-track{outline:2px dashed #00b2ff;outline:2px dashed var(--plyr-focus-visible-color,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));outline-offset:2px}.plyr__poster{background-color:#000;background-color:var(--plyr-video-background,var(--plyr-video-background,#000));background-position:50% 50%;background-repeat:no-repeat;background-size:contain;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease;width:100%;z-index:1}.plyr--stopped.plyr__poster-enabled .plyr__poster{opacity:1}.plyr--youtube.plyr--paused.plyr__poster-enabled:not(.plyr--stopped) .plyr__poster{display:none}.plyr__time{font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__time+.plyr__time:before{content:"";margin-right:10px;margin-right:var(--plyr-control-spacing,10px)}@media (max-width:767px){.plyr__time+.plyr__time{display:none}}.plyr__tooltip{background:#fff;background:var(--plyr-tooltip-background,#fff);border-radius:5px;border-radius:var(--plyr-tooltip-radius,5px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);color:#4a5464;color:var(--plyr-tooltip-color,#4a5464);font-size:13px;font-size:var(--plyr-font-size-small,13px);font-weight:400;font-weight:var(--plyr-font-weight-regular,400);left:50%;line-height:1.3;margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:5px 7.5px;padding:calc(var(--plyr-control-spacing, 10px)/2) calc(var(--plyr-control-spacing, 10px)/2*1.5);pointer-events:none;position:absolute;transform:translate(-50%,10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;white-space:nowrap;z-index:2}.plyr__tooltip:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr .plyr__control:focus-visible .plyr__tooltip,.plyr .plyr__control:hover .plyr__tooltip,.plyr__tooltip--visible{opacity:1;transform:translate(-50%) scale(1)}.plyr .plyr__control:hover .plyr__tooltip{z-index:3}.plyr__controls>.plyr__control:first-child .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip{left:0;transform:translateY(10px) scale(.8);transform-origin:0 100%}.plyr__controls>.plyr__control:first-child .plyr__tooltip:before,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip:before{left:16px;left:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7)}.plyr__controls>.plyr__control:last-child .plyr__tooltip{left:auto;right:0;transform:translateY(10px) scale(.8);transform-origin:100% 100%}.plyr__controls>.plyr__control:last-child .plyr__tooltip:before{left:auto;right:16px;right:calc(var(--plyr-control-icon-size, 18px)/2 + var(--plyr-control-spacing, 10px)*.7);transform:translateX(50%)}.plyr__controls>.plyr__control:first-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control .plyr__tooltip--visible,.plyr__controls>.plyr__control:first-child+.plyr__control:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child+.plyr__control:hover .plyr__tooltip,.plyr__controls>.plyr__control:first-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:first-child:hover .plyr__tooltip,.plyr__controls>.plyr__control:last-child .plyr__tooltip--visible,.plyr__controls>.plyr__control:last-child:focus-visible .plyr__tooltip,.plyr__controls>.plyr__control:last-child:hover .plyr__tooltip{transform:translate(0) scale(1)}.plyr__progress{left:6.5px;left:calc(var(--plyr-range-thumb-height, 13px)*.5);margin-right:13px;margin-right:var(--plyr-range-thumb-height,13px);position:relative}.plyr__progress input[type=range],.plyr__progress__buffer{margin-left:-6.5px;margin-left:calc(var(--plyr-range-thumb-height, 13px)*-.5);margin-right:-6.5px;margin-right:calc(var(--plyr-range-thumb-height, 13px)*-.5);width:calc(100% + 13px);width:calc(100% + var(--plyr-range-thumb-height, 13px))}.plyr__progress input[type=range]{position:relative;z-index:2}.plyr__progress .plyr__tooltip{left:0;max-width:120px;overflow-wrap:break-word}.plyr__progress__buffer{-webkit-appearance:none;background:#0000;border:0;border-radius:100px;height:5px;height:var(--plyr-range-track-height,5px);left:0;margin-top:-2.5px;margin-top:calc((var(--plyr-range-track-height, 5px)/2)*-1);padding:0;position:absolute;top:50%}.plyr__progress__buffer::-webkit-progress-bar{background:#0000}.plyr__progress__buffer::-webkit-progress-value{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-webkit-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-moz-progress-bar{background:currentColor;border-radius:100px;min-width:5px;min-width:var(--plyr-range-track-height,5px);-moz-transition:width .2s ease;transition:width .2s ease}.plyr__progress__buffer::-ms-fill{border-radius:100px;-ms-transition:width .2s ease;transition:width .2s ease}.plyr--loading .plyr__progress__buffer{animation:plyr-progress 1s linear infinite;background-image:linear-gradient(-45deg,#23282f99 25%,#0000 0,#0000 50%,#23282f99 0,#23282f99 75%,#0000 0,#0000);background-image:linear-gradient(-45deg,var(--plyr-progress-loading-background,#23282f99) 25%,#0000 25%,#0000 50%,var(--plyr-progress-loading-background,#23282f99) 50%,var(--plyr-progress-loading-background,#23282f99) 75%,#0000 75%,#0000);background-repeat:repeat-x;background-size:25px 25px;background-size:var(--plyr-progress-loading-size,25px) var(--plyr-progress-loading-size,25px);color:#0000}.plyr--video.plyr--loading .plyr__progress__buffer{background-color:#ffffff40;background-color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr--audio.plyr--loading .plyr__progress__buffer{background-color:#c1c8d199;background-color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr__progress__marker{background-color:#fff;background-color:var(--plyr-progress-marker-background,#fff);border-radius:1px;height:5px;height:var(--plyr-range-track-height,5px);position:absolute;top:50%;transform:translate(-50%,-50%);width:3px;width:var(--plyr-progress-marker-width,3px);z-index:3}.plyr__volume{align-items:center;display:flex;position:relative}.plyr__volume input[type=range]{margin-left:5px;margin-left:calc(var(--plyr-control-spacing, 10px)/2);margin-right:5px;margin-right:calc(var(--plyr-control-spacing, 10px)/2);max-width:90px;min-width:60px;position:relative;z-index:2}.plyr--audio{display:block}.plyr--audio .plyr__controls{background:#fff;background:var(--plyr-audio-controls-background,#fff);border-radius:inherit;color:#4a5464;color:var(--plyr-audio-control-color,#4a5464);padding:10px;padding:var(--plyr-control-spacing,10px)}.plyr--audio .plyr__control:focus-visible,.plyr--audio .plyr__control:hover,.plyr--audio .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-audio-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-audio-control-color-hover,#fff)}.plyr--full-ui.plyr--audio input[type=range]::-webkit-slider-runnable-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-moz-range-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]::-ms-track{background-color:#c1c8d199;background-color:var(--plyr-audio-range-track-background,var(--plyr-audio-progress-buffered-background,#c1c8d199))}.plyr--full-ui.plyr--audio input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--full-ui.plyr--audio input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #23282f1a;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#23282f1a)}.plyr--audio .plyr__progress__buffer{color:#c1c8d199;color:var(--plyr-audio-progress-buffered-background,#c1c8d199)}.plyr--video{overflow:hidden}.plyr--video.plyr--menu-open{overflow:visible}.plyr__video-wrapper{background:#000;background:var(--plyr-video-background,var(--plyr-video-background,#000));border-radius:inherit;height:100%;margin:auto;overflow:hidden;position:relative;width:100%}.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{aspect-ratio:16/9}@supports not (aspect-ratio:16/9){.plyr__video-embed,.plyr__video-wrapper--fixed-ratio{height:0;padding-bottom:56.25%;position:relative}}.plyr__video-embed iframe,.plyr__video-wrapper--fixed-ratio video{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.plyr--full-ui .plyr__video-embed>.plyr__video-embed__container{padding-bottom:240%;position:relative;transform:translateY(-38.28125%)}.plyr--video .plyr__controls{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:inherit;border-bottom-right-radius:inherit;bottom:0;color:#fff;color:var(--plyr-video-control-color,#fff);left:0;padding:5px;padding:calc(var(--plyr-control-spacing, 10px)/2);padding-top:20px;padding-top:calc(var(--plyr-control-spacing, 10px)*2);position:absolute;right:0;transition:opacity .4s ease-in-out,transform .4s ease-in-out;z-index:3}@media (min-width:480px){.plyr--video .plyr__controls{padding:10px;padding:var(--plyr-control-spacing,10px);padding-top:35px;padding-top:calc(var(--plyr-control-spacing, 10px)*3.5)}}.plyr--video.plyr--hide-controls .plyr__controls{opacity:0;pointer-events:none;transform:translateY(100%)}.plyr--video .plyr__control:focus-visible,.plyr--video .plyr__control:hover,.plyr--video .plyr__control[aria-expanded=true]{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));color:#fff;color:var(--plyr-video-control-color-hover,#fff)}.plyr__control--overlaid{background:#00b2ff;background:var(--plyr-video-control-background-hover,var(--plyr-color-main,var(--plyr-color-main,#00b2ff)));border:0;border-radius:100%;color:#fff;color:var(--plyr-video-control-color,#fff);display:none;left:50%;opacity:.9;padding:15px;padding:calc(var(--plyr-control-spacing, 10px)*1.5);position:absolute;top:50%;transform:translate(-50%,-50%);transition:.3s;z-index:2}.plyr__control--overlaid svg{left:2px;position:relative}.plyr__control--overlaid:focus,.plyr__control--overlaid:hover{opacity:1}.plyr--playing .plyr__control--overlaid{opacity:0;visibility:hidden}.plyr--full-ui.plyr--video .plyr__control--overlaid{display:block}.plyr--full-ui.plyr--video input[type=range]::-webkit-slider-runnable-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-moz-range-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]::-ms-track{background-color:#ffffff40;background-color:var(--plyr-video-range-track-background,var(--plyr-video-progress-buffered-background,#ffffff40))}.plyr--full-ui.plyr--video input[type=range]:active::-webkit-slider-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-moz-range-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--full-ui.plyr--video input[type=range]:active::-ms-thumb{box-shadow:0 1px 1px #23282f26,0 0 0 1px #23282f33,0 0 0 3px #ffffff80;box-shadow:var(--plyr-range-thumb-shadow,0 1px 1px #23282f26,0 0 0 1px #23282f33),0 0 0 var(--plyr-range-thumb-active-shadow-width,3px) var(--plyr-audio-range-thumb-active-shadow-color,#ffffff80)}.plyr--video .plyr__progress__buffer{color:#ffffff40;color:var(--plyr-video-progress-buffered-background,#ffffff40)}.plyr:fullscreen{background:#000;border-radius:0!important;height:100%;margin:0;width:100%}.plyr:fullscreen video{height:100%}.plyr:fullscreen .plyr__control .icon--exit-fullscreen{display:block}.plyr:fullscreen .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr:fullscreen.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr:fullscreen .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr--fullscreen-fallback{background:#000;border-radius:0!important;bottom:0;height:100%;left:0;margin:0;position:fixed;right:0;top:0;width:100%;z-index:10000000}.plyr--fullscreen-fallback video{height:100%}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen{display:block}.plyr--fullscreen-fallback .plyr__control .icon--exit-fullscreen+svg{display:none}.plyr--fullscreen-fallback.plyr--hide-controls{cursor:none}@media (min-width:1024px){.plyr--fullscreen-fallback .plyr__captions{font-size:21px;font-size:var(--plyr-font-size-xlarge,21px)}}.plyr__ads{border-radius:inherit;bottom:0;cursor:pointer;left:0;overflow:hidden;position:absolute;right:0;top:0;z-index:-1}.plyr__ads>div,.plyr__ads>div iframe{height:100%;position:absolute;width:100%}.plyr__ads:after{background:#23282f;border-radius:2px;bottom:10px;bottom:var(--plyr-control-spacing,10px);color:#fff;content:attr(data-badge-text);font-size:11px;padding:2px 6px;pointer-events:none;position:absolute;right:10px;right:var(--plyr-control-spacing,10px);z-index:3}.plyr__ads:empty:after{display:none}.plyr__cues{background:currentColor;display:block;height:5px;height:var(--plyr-range-track-height,5px);left:0;opacity:.8;position:absolute;top:50%;transform:translateY(-50%);width:3px;z-index:3}.plyr__preview-thumb{background-color:#fff;background-color:var(--plyr-tooltip-background,#fff);border-radius:8px;border-radius:var(--plyr-menu-radius,8px);bottom:100%;box-shadow:0 1px 2px #00000026;box-shadow:var(--plyr-tooltip-shadow,0 1px 2px #00000026);margin-bottom:10px;margin-bottom:calc(var(--plyr-control-spacing, 10px)/2*2);opacity:0;padding:3px;pointer-events:none;position:absolute;transform:translateY(10px) scale(.8);transform-origin:50% 100%;transition:transform .2s ease .1s,opacity .2s ease .1s;z-index:2}.plyr__preview-thumb--is-shown{opacity:1;transform:translate(0) scale(1)}.plyr__preview-thumb:before{border-left:4px solid #0000;border-left:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-right:4px solid #0000;border-right:var(--plyr-tooltip-arrow-size,4px) solid #0000;border-top:4px solid #fff;border-top:var(--plyr-tooltip-arrow-size,4px) solid var(--plyr-tooltip-background,#fff);bottom:-4px;bottom:calc(var(--plyr-tooltip-arrow-size, 4px)*-1);content:"";height:0;left:calc(50% + var(--preview-arrow-offset));position:absolute;transform:translateX(-50%);width:0;z-index:2}.plyr__preview-thumb__image-container{background:#c1c8d1;border-radius:7px;border-radius:calc(var(--plyr-menu-radius, 8px) - 1px);overflow:hidden;position:relative;z-index:0}.plyr__preview-thumb__image-container img,.plyr__preview-thumb__image-container:after{height:100%;left:0;position:absolute;top:0;width:100%}.plyr__preview-thumb__image-container:after{border-radius:inherit;box-shadow:inset 0 0 0 1px #00000026;content:"";pointer-events:none}.plyr__preview-thumb__image-container img{max-height:none;max-width:none}.plyr__preview-thumb__time-container{background:linear-gradient(#0000,#000000bf);background:var(--plyr-video-controls-background,linear-gradient(#0000,#000000bf));border-bottom-left-radius:7px;border-bottom-left-radius:calc(var(--plyr-menu-radius, 8px) - 1px);border-bottom-right-radius:7px;border-bottom-right-radius:calc(var(--plyr-menu-radius, 8px) - 1px);bottom:0;left:0;line-height:1.1;padding:20px 6px 6px;position:absolute;right:0;z-index:3}.plyr__preview-thumb__time-container span{color:#fff;font-size:13px;font-size:var(--plyr-font-size-time,var(--plyr-font-size-small,13px))}.plyr__preview-scrubbing{bottom:0;filter:blur(1px);height:100%;left:0;margin:auto;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;width:100%;z-index:1}.plyr__preview-scrubbing--is-shown{opacity:1}.plyr__preview-scrubbing img{height:100%;left:0;max-height:none;max-width:none;object-fit:contain;position:absolute;top:0;width:100%}.plyr--no-transition{transition:none!important}.plyr__sr-only{clip:rect(1px,1px,1px,1px);border:0!important;height:1px!important;overflow:hidden;padding:0!important;position:absolute!important;width:1px!important}.plyr [hidden]{display:none!important}'],sourceRoot:""}]);const o=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(i[s]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},4015:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,i,a=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){o=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(o)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}e.exports=function(e){var r=t(e,4),n=r[1],i=r[3];if(!i)return n;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),o="/*# ".concat(s," */"),l=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[n].concat(l).concat([o]).join("\n")}return[n].join("\n")}},4560:e=>{!function t(r){var n;n=function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g(n.key),n)}}function a(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t,r){return(t=g(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t,r){return d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&u(i,r.prototype),i},d.apply(null,arguments)}function h(e){var t="function"==typeof Map?new Map:void 0;return h=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)},h(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var m={exports:{}};!function(e,t){var r,n,i,a,s;r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=s.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var u=o.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(d)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=r.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=s}(m);var A=m.exports,v=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},y=function(e){return e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached",e}({}),b=function(e){return e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError",e}({}),C=function(e){return e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",e.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",e.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_PARSING_ERROR="levelParsingError",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.FRAG_GAP="fragGap",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown",e}({}),_=function(){},k={trace:_,debug:_,log:_,warn:_,info:_,error:_},T=k;function x(e,t){if(self.console&&!0===e||"object"==typeof e){!function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((function(t){T[t]=e[t]?e[t].bind(e):function(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):_}(t)}))}(e,"debug","log","info","warn","error");try{T.log('Debug logs enabled for "'+t+'" in hls.js version 1.4.12')}catch(e){T=k}}else T=k}var E=T,w=/^(\d+)x(\d+)$/,S=/(.+?)=(".*?"|.*?)(?:,|$)/g,L=function(){function e(t){for(var r in"string"==typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(r)&&("X-"===r.substring(0,2)&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=t[r])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var r=this[e];return r?parseFloat(r):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=w.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,r={};for(S.lastIndex=0;null!==(t=S.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1].trim()]=n}return r},e}();function R(e){return"SCTE35-OUT"===e||"SCTE35-IN"===e}var D=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var r=t.attr;for(var n in r)if(Object.prototype.hasOwnProperty.call(e,n)&&e[n]!==r[n]){E.warn('DATERANGE tag attribute: "'+n+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=n;break}e=o(new L({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){var i=new Date(this.attr["END-DATE"]);v(i.getTime())&&(this._endDate=i)}}return a(e,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var e=this.attr.decimalFloatingPoint("DURATION");if(v(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&v(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}]),e}(),I=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},B="audio",P="video",M="audiovideo",O=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[B]=null,t[P]=null,t[M]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var r=e.split("@",2),n=[];1===r.length?n[0]=t?t.byteRangeEndOffset:0:n[0]=parseInt(r[1]),n[1]=parseInt(r[0])+n[0],this._byteRange=n},a(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=A.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),F=function(e){function t(t,r){var n;return(n=e.call(this,r)||this)._decryptdata=null,n.rawProgramDateTime=null,n.programDateTime=null,n.tagList=[],n.duration=0,n.sn=0,n.levelkeys=void 0,n.type=void 0,n.loader=null,n.keyLoader=null,n.level=-1,n.cc=0,n.startPTS=void 0,n.endPTS=void 0,n.startDTS=void 0,n.endDTS=void 0,n.start=0,n.deltaPTS=void 0,n.maxStartPTS=void 0,n.minEndPTS=void 0,n.stats=new I,n.urlId=0,n.data=void 0,n.bitrateTest=!1,n.title=null,n.initSegment=null,n.endList=void 0,n.gap=void 0,n.type=t,n}l(t,e);var r=t.prototype;return r.setKeyFormat=function(e){if(this.levelkeys){var t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}},r.abortRequests=function(){var e,t;null==(e=this.loader)||e.abort(),null==(t=this.keyLoader)||t.abort()},r.setElementaryStreamInfo=function(e,t,r,n,i,a){void 0===a&&(a=!1);var s=this.elementaryStreams,o=s[e];o?(o.startPTS=Math.min(o.startPTS,t),o.endPTS=Math.max(o.endPTS,r),o.startDTS=Math.min(o.startDTS,n),o.endDTS=Math.max(o.endDTS,i)):s[e]={startPTS:t,endPTS:r,startDTS:n,endDTS:i,partial:a}},r.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[B]=null,e[P]=null,e[M]=null},a(t,[{key:"decryptdata",get:function(){if(!this.levelkeys&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){var e=this.levelkeys.identity;if(e)this._decryptdata=e.getDecryptData(this.sn);else{var t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!v(this.programDateTime))return null;var e=v(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;if(null!=(e=this._decryptdata)&&e.encrypted)return!0;if(this.levelkeys){var t=Object.keys(this.levelkeys),r=t.length;if(r>1||1===r&&this.levelkeys[t[0]].encrypted)return!0}return!1}}]),t}(O),N=function(e){function t(t,r,n,i,a){var s;(s=e.call(this,n)||this).fragOffset=0,s.duration=0,s.gap=!1,s.independent=!1,s.relurl=void 0,s.fragment=void 0,s.index=void 0,s.stats=new I,s.duration=t.decimalFloatingPoint("DURATION"),s.gap=t.bool("GAP"),s.independent=t.bool("INDEPENDENT"),s.relurl=t.enumeratedString("URI"),s.fragment=r,s.index=i;var o=t.enumeratedString("BYTERANGE");return o&&s.setByteRange(o,a),a&&(s.fragOffset=a.fragOffset+a.duration),s}return l(t,e),a(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(O),U=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||0===t&&r>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},a(e,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&v(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!=(e=this.fragments)&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!=(e=this.partList)&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}]),e}();function G(e){return Uint8Array.from(atob(e),(function(e){return e.charCodeAt(0)}))}function H(e){return Uint8Array.from(unescape(encodeURIComponent(e)),(function(e){return e.charCodeAt(0)}))}var V={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},z="org.w3.clearkey",j="com.apple.streamingkeydelivery",K="com.microsoft.playready",q="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function W(e){switch(e){case j:return V.FAIRPLAY;case K:return V.PLAYREADY;case q:return V.WIDEVINE;case z:return V.CLEARKEY}}var Y="edef8ba979d64acea3c827dcd51d21ed";function $(e){switch(e){case V.FAIRPLAY:return j;case V.PLAYREADY:return K;case V.WIDEVINE:return q;case V.CLEARKEY:return z}}function Q(e){var t=e.drmSystems,r=e.widevineLicenseUrl,n=t?[V.FAIRPLAY,V.WIDEVINE,V.PLAYREADY,V.CLEARKEY].filter((function(e){return!!t[e]})):[];return!n[V.WIDEVINE]&&r&&n.push(V.WIDEVINE),n}var X="undefined"!=typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;function J(e,t,r){return Uint8Array.prototype.slice?e.slice(t,r):new Uint8Array(Array.prototype.slice.call(e,t,r))}var Z,ee=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},te=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},re=function(e,t){for(var r=t,n=0;ee(e,t);)n+=10,n+=ne(e,t+6),te(e,t+10)&&(n+=10),t+=n;if(n>0)return e.subarray(r,r+n)},ne=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,(r|=(127&e[t+2])<<7)|127&e[t+3]},ie=function(e,t){return ee(e,t)&&ne(e,t+6)+10<=e.length-t},ae=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},se=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),r=ne(e,4);return{type:t,size:r,data:e.subarray(10,10+r)}},oe=function(e){for(var t=0,r=[];ee(e,t);){for(var n=ne(e,t+6),i=(t+=10)+n;t+8<i;){var a=se(e.subarray(t)),s=le(a);s&&r.push(s),t+=a.size+10}te(e,t)&&(t+=10)}return r},le=function(e){return"PRIV"===e.type?ce(e):"W"===e.type[0]?de(e):ue(e)},ce=function(e){if(!(e.size<2)){var t=fe(e.data,!0),r=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:r.buffer}}},ue=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,r=fe(e.data.subarray(t),!0);t+=r.length+1;var n=fe(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=fe(e.data.subarray(1));return{key:e.type,data:i}}},de=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,r=fe(e.data.subarray(t),!0);t+=r.length+1;var n=fe(e.data.subarray(t));return{key:e.type,info:r,data:n}}var i=fe(e.data);return{key:e.type,data:i}},he=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],n=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return n/=45,r&&(n+=47721858.84),Math.round(n)}},fe=function(e,t){void 0===t&&(t=!1);var r=(Z||void 0===self.TextDecoder||(Z=new self.TextDecoder("utf-8")),Z);if(r){var n=r.decode(e);if(t){var i=n.indexOf("\0");return-1!==i?n.substring(0,i):n}return n.replace(/\0/g,"")}for(var a,s,o,l=e.length,c="",u=0;u<l;){if(0===(a=e[u++])&&t)return c;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(a);break;case 12:case 13:s=e[u++],c+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=e[u++],o=e[u++],c+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&o)<<0)}}return c};var pe=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);n.length<2&&(n="0"+n),t+=n}return t},ge=Math.pow(2,32)-1,me=[].push,Ae={video:1,audio:2,id3:3,text:4};function ve(e){return String.fromCharCode.apply(null,e)}function ye(e,t){var r=e[t]<<8|e[t+1];return r<0?65536+r:r}function be(e,t){var r=Ce(e,t);return r<0?4294967296+r:r}function Ce(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function _e(e,t,r){e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function ke(e,t){var r=[];if(!t.length)return r;for(var n=e.byteLength,i=0;i<n;){var a=be(e,i),s=a>1?i+a:n;if(ve(e.subarray(i+4,i+8))===t[0])if(1===t.length)r.push(e.subarray(i+8,s));else{var o=ke(e.subarray(i+8,s),t.slice(1));o.length&&me.apply(r,o)}i=s}return r}function Te(e){var t=[],r=e[0],n=8,i=be(e,n);n+=4,n+=0===r?8:16,n+=2;var a=e.length+0,s=ye(e,n);n+=2;for(var o=0;o<s;o++){var l=n,c=be(e,l);l+=4;var u=2147483647&c;if(1==(2147483648&c)>>>31)return E.warn("SIDX has hierarchical references (not supported)"),null;var d=be(e,l);l+=4,t.push({referenceSize:u,subsegmentDuration:d,info:{duration:d/i,start:a,end:a+u-1}}),a+=u,n=l+=4}return{earliestPresentationTime:0,timescale:i,version:r,referencesCount:s,references:t}}function xe(e){for(var t=[],r=ke(e,["moov","trak"]),n=0;n<r.length;n++){var i=r[n],a=ke(i,["tkhd"])[0];if(a){var s=a[0],o=0===s?12:20,l=be(a,o),c=ke(i,["mdia","mdhd"])[0];if(c){var u=be(c,o=0===(s=c[0])?12:20),d=ke(i,["mdia","hdlr"])[0];if(d){var h=ve(d.subarray(8,12)),f={soun:B,vide:P}[h];if(f){var p=ke(i,["mdia","minf","stbl","stsd"])[0],g=void 0;p&&(g=ve(p.subarray(12,16))),t[l]={timescale:u,type:f},t[f]={timescale:u,id:l,codec:g}}}}}}return ke(e,["moov","mvex","trex"]).forEach((function(e){var r=be(e,4),n=t[r];n&&(n.default={duration:be(e,12),flags:be(e,20)})})),t}function Ee(e){var t=ke(e,["schm"])[0];if(t){var r=ve(t.subarray(4,8));if("cbcs"===r||"cenc"===r)return ke(e,["schi","tenc"])[0]}return E.error("[eme] missing 'schm' box"),null}function we(e){var t=be(e,0),r=8;1&t&&(r+=4),4&t&&(r+=4);for(var n=0,i=be(e,4),a=0;a<i;a++)256&t&&(n+=be(e,r),r+=4),512&t&&(r+=4),1024&t&&(r+=4),2048&t&&(r+=4);return n}function Se(e,t){var r=new Uint8Array(e.length+t.length);return r.set(e),r.set(t,e.length),r}function Le(e,t){var r=[],n=t.samples,i=t.timescale,a=t.id,s=!1;return ke(n,["moof"]).map((function(o){var l=o.byteOffset-8;ke(o,["traf"]).map((function(o){var c=ke(o,["tfdt"]).map((function(e){var t=e[0],r=be(e,4);return 1===t&&(r*=Math.pow(2,32),r+=be(e,8)),r/i}))[0];return void 0!==c&&(e=c),ke(o,["tfhd"]).map((function(c){var u=be(c,4),d=16777215&be(c,0),h=0,f=0!=(16&d),p=0,g=0!=(32&d),m=8;u===a&&(0!=(1&d)&&(m+=8),0!=(2&d)&&(m+=4),0!=(8&d)&&(h=be(c,m),m+=4),f&&(p=be(c,m),m+=4),g&&(m+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),r=t<0?e:e.substring(0,t);return"hvc1"===r||"hev1"===r||"dvh1"===r||"dvhe"===r}(t.codec)),ke(o,["trun"]).map((function(a){var o=a[0],c=16777215&be(a,0),u=0!=(1&c),d=0,f=0!=(4&c),g=0!=(256&c),m=0,A=0!=(512&c),v=0,y=0!=(1024&c),b=0!=(2048&c),C=0,_=be(a,4),k=8;u&&(d=be(a,k),k+=4),f&&(k+=4);for(var T=d+l,x=0;x<_;x++){if(g?(m=be(a,k),k+=4):m=h,A?(v=be(a,k),k+=4):v=p,y&&(k+=4),b&&(C=0===o?be(a,k):Ce(a,k),k+=4),t.type===P)for(var E=0;E<v;){var w=be(n,T);Re(s,n[T+=4])&&De(n.subarray(T,T+w),s?2:1,e+C/i,r),T+=w,E+=w+4}e+=m/i}})))}))}))})),r}function Re(e,t){if(e){var r=t>>1&63;return 39===r||40===r}return 6==(31&t)}function De(e,t,r,n){var i=Ie(e),a=0;a+=t;for(var s=0,o=0,l=!1,c=0;a<i.length;){s=0;do{if(a>=i.length)break;s+=c=i[a++]}while(255===c);o=0;do{if(a>=i.length)break;o+=c=i[a++]}while(255===c);var u=i.length-a;if(!l&&4===s&&a<i.length){if(l=!0,181===i[a++]){var d=ye(i,a);if(a+=2,49===d){var h=be(i,a);if(a+=4,1195456820===h){var f=i[a++];if(3===f){var p=i[a++],g=64&p,m=g?2+3*(31&p):0,A=new Uint8Array(m);if(g){A[0]=p;for(var v=1;v<m;v++)A[v]=i[a++]}n.push({type:f,payloadType:s,pts:r,bytes:A})}}}}}else if(5===s&&o<u){if(l=!0,o>16){for(var y=[],b=0;b<16;b++){var C=i[a++].toString(16);y.push(1==C.length?"0"+C:C),3!==b&&5!==b&&7!==b&&9!==b||y.push("-")}for(var _=o-16,k=new Uint8Array(_),T=0;T<_;T++)k[T]=i[a++];n.push({payloadType:s,pts:r,uuid:y.join(""),userData:fe(k),userDataBytes:k})}}else if(o<u)a+=o;else if(o>u)break}}function Ie(e){for(var t=e.byteLength,r=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(r.push(n+2),n+=2):n++;if(0===r.length)return e;var i=t-r.length,a=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=e[s];return a}var Be={},Pe=function(){function e(e,t,r,n,i){void 0===n&&(n=[1]),void 0===i&&(i=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=r,this.keyFormatVersions=n,this.iv=i,this.encrypted=!!e&&"NONE"!==e,this.isCommonEncryption=this.encrypted&&"AES-128"!==e}e.clearKeyUriToKeyIdMap=function(){Be={}};var t=e.prototype;return t.isSupported=function(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case j:case q:case K:case z:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1},t.getDecryptData=function(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!=typeof t&&("AES-128"!==this.method||this.iv||E.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),t=0);var r=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}(t);return new e(this.method,this.uri,"identity",this.keyFormatVersions,r)}var n=function(e){var t,r,n=e.split(":"),i=null;if("data"===n[0]&&2===n.length){var a=n[1].split(";"),s=a[a.length-1].split(",");if(2===s.length){var o="base64"===s[0],l=s[1];o?(a.splice(-1,1),i=G(l)):(t=H(l).subarray(0,16),(r=new Uint8Array(16)).set(t,16-t.length),i=r)}}return i}(this.uri);if(n)switch(this.keyFormat){case q:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case K:var i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=function(e,t,r){if(16!==e.byteLength)throw new RangeError("Invalid system id");var n,i,a;if(t){n=1,i=new Uint8Array(16*t.length);for(var s=0;s<t.length;s++){var o=t[s];if(16!==o.byteLength)throw new RangeError("Invalid key");i.set(o,16*s)}}else n=0,i=new Uint8Array;n>0?(a=new Uint8Array(4),t.length>0&&new DataView(a.buffer).setUint32(0,t.length,!1)):a=new Uint8Array;var l=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(l.buffer).setUint32(0,r.byteLength,!1),function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=r.length,a=8,s=i;s--;)a+=r[s].byteLength;var o=new Uint8Array(a);for(o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,o.set(e,4),s=0,a=8;s<i;s++)o.set(r[s],a),a+=r[s].byteLength;return o}([112,115,115,104],new Uint8Array([n,0,0,0]),e,a,i,l,r||new Uint8Array)}(i,null,n);var a=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),s=String.fromCharCode.apply(null,Array.from(a)),o=s.substring(s.indexOf("<"),s.length),l=(new DOMParser).parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(l){var c=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(c){var u=G(c).subarray(0,16);!function(e){var t=function(e,t,r){var n=e[t];e[t]=e[r],e[r]=n};t(e,0,3),t(e,1,2),t(e,4,5),t(e,6,7)}(u),this.keyId=u}}break;default:var d=n.subarray(0,16);if(16!==d.length){var h=new Uint8Array(16);h.set(d,16-d.length),d=h}this.keyId=d}if(!this.keyId||16!==this.keyId.byteLength){var f=Be[this.uri];if(!f){var p=Object.keys(Be).length%Number.MAX_SAFE_INTEGER;f=new Uint8Array(16),new DataView(f.buffer,12,4).setUint32(0,p),Be[this.uri]=f}this.keyId=f}return this},e}(),Me=/\{\$([a-zA-Z0-9-_]+)\}/g;function Oe(e){return Me.test(e)}function Fe(e,t,r){if(null!==e.variableList||e.hasVariableRefs)for(var n=r.length;n--;){var i=r[n],a=t[i];a&&(t[i]=Ne(e,a))}}function Ne(e,t){if(null!==e.variableList||e.hasVariableRefs){var r=e.variableList;return t.replace(Me,(function(t){var n=t.substring(2,t.length-1),i=null==r?void 0:r[n];return void 0===i?(e.playlistParsingError||(e.playlistParsingError=new Error('Missing preceding EXT-X-DEFINE tag for Variable Reference: "'+n+'"')),t):i}))}return t}function Ue(e,t,r){var n,i,a=e.variableList;if(a||(e.variableList=a={}),"QUERYPARAM"in t){n=t.QUERYPARAM;try{var s=new self.URL(r).searchParams;if(!s.has(n))throw new Error('"'+n+'" does not match any query parameter in URI: "'+r+'"');i=s.get(n)}catch(t){e.playlistParsingError||(e.playlistParsingError=new Error("EXT-X-DEFINE QUERYPARAM: "+t.message))}}else n=t.NAME,i=t.VALUE;n in a?e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE duplicate Variable Name declarations: "'+n+'"')):a[n]=i||""}function Ge(e,t,r){var n=t.IMPORT;if(r&&n in r){var i=e.variableList;i||(e.variableList=i={}),i[n]=r[n]}else e.playlistParsingError||(e.playlistParsingError=new Error('EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "'+n+'"'))}function He(){if("undefined"!=typeof self)return self.MediaSource||self.WebKitMediaSource}var Ve={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},ze=He();function je(e,t){var r;return null!=(r=null==ze?void 0:ze.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"'))&&r}var Ke=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,qe=/#EXT-X-MEDIA:(.*)/g,We=/^#EXT(?:INF|-X-TARGETDURATION):/m,Ye=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),$e=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Qe=function(){function e(){}return e.findGroup=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.id===t)return n}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var r=t.shift()+".";return(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e},e.resolve=function(e,t){return A.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.isMediaPlaylist=function(e){return We.test(e)},e.parseMasterPlaylist=function(t,r){var n,i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Oe(t)},a=[];for(Ke.lastIndex=0;null!=(n=Ke.exec(t));)if(n[1]){var s,o=new L(n[1]);Fe(i,o,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);var l=Ne(i,n[2]),c={attrs:o,bitrate:o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),name:o.NAME,url:e.resolve(l,r)},u=o.decimalResolution("RESOLUTION");u&&(c.width=u.width,c.height=u.height),Ze((o.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),c),c.videoCodec&&-1!==c.videoCodec.indexOf("avc1")&&(c.videoCodec=e.convertAVC1ToAVCOTI(c.videoCodec)),null!=(s=c.unknownCodecs)&&s.length||a.push(c),i.levels.push(c)}else if(n[3]){var d=n[3],h=n[4];switch(d){case"SESSION-DATA":var f=new L(h);Fe(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);var p=f["DATA-ID"];p&&(null===i.sessionData&&(i.sessionData={}),i.sessionData[p]=f);break;case"SESSION-KEY":var g=Xe(h,r,i);g.encrypted&&g.isSupported()?(null===i.sessionKeys&&(i.sessionKeys=[]),i.sessionKeys.push(g)):E.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+h+'"');break;case"DEFINE":var m=new L(h);Fe(i,m,["NAME","VALUE","QUERYPARAM"]),Ue(i,m,r);break;case"CONTENT-STEERING":var A=new L(h);Fe(i,A,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:e.resolve(A["SERVER-URI"],r),pathwayId:A["PATHWAY-ID"]||"."};break;case"START":i.startTimeOffset=Je(h)}}var v=a.length>0&&a.length<i.levels.length;return i.levels=v?a:i.levels,0===i.levels.length&&(i.playlistParsingError=new Error("no levels found in manifest")),i},e.parseMasterPlaylistMedia=function(t,r,n){var i,a={},s=n.levels,o={AUDIO:s.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),SUBTITLES:s.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),"CLOSED-CAPTIONS":[]},l=0;for(qe.lastIndex=0;null!==(i=qe.exec(t));){var c=new L(i[1]),u=c.TYPE;if(u){var d=o[u],h=a[u]||[];a[u]=h,Fe(n,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);var f={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",instreamId:c["INSTREAM-ID"],name:c.NAME||c.LANGUAGE||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:c.LANGUAGE,url:c.URI?e.resolve(c.URI,r):""};if(null!=d&&d.length){var p=e.findGroup(d,f.groupId)||d[0];et(f,p,"audioCodec"),et(f,p,"textCodec")}h.push(f)}}return a},e.parseLevelPlaylist=function(e,t,r,n,i,a){var s,l,c,u=new U(t),d=u.fragments,h=null,f=0,p=0,g=0,m=0,A=null,y=new F(n,t),b=-1,C=!1;for(Ye.lastIndex=0,u.m3u8=e,u.hasVariableRefs=Oe(e);null!==(s=Ye.exec(e));){C&&(C=!1,(y=new F(n,t)).start=g,y.sn=f,y.cc=m,y.level=r,h&&(y.initSegment=h,y.rawProgramDateTime=h.rawProgramDateTime,h.rawProgramDateTime=null));var _=s[1];if(_){y.duration=parseFloat(_);var k=(" "+s[2]).slice(1);y.title=k||null,y.tagList.push(k?["INF",_,k]:["INF",_])}else if(s[3]){if(v(y.duration)){y.start=g,c&&nt(y,c,u),y.sn=f,y.level=r,y.cc=m,y.urlId=i,d.push(y);var T=(" "+s[3]).slice(1);y.relurl=Ne(u,T),tt(y,A),A=y,g+=y.duration,f++,p=0,C=!0}}else if(s[4]){var x=(" "+s[4]).slice(1);A?y.setByteRange(x,A):y.setByteRange(x)}else if(s[5])y.rawProgramDateTime=(" "+s[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),-1===b&&(b=d.length);else{if(!(s=s[0].match($e))){E.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<s.length&&void 0===s[l];l++);var w=(" "+s[l]).slice(1),S=(" "+s[l+1]).slice(1),R=s[l+2]?(" "+s[l+2]).slice(1):"";switch(w){case"PLAYLIST-TYPE":u.type=S.toUpperCase();break;case"MEDIA-SEQUENCE":f=u.startSN=parseInt(S);break;case"SKIP":var I=new L(S);Fe(u,I,["RECENTLY-REMOVED-DATERANGES"]);var B=I.decimalInteger("SKIPPED-SEGMENTS");if(v(B)){u.skippedSegments=B;for(var P=B;P--;)d.unshift(null);f+=B}var M=I.enumeratedString("RECENTLY-REMOVED-DATERANGES");M&&(u.recentlyRemovedDateranges=M.split("\t"));break;case"TARGETDURATION":u.targetduration=Math.max(parseInt(S),1);break;case"VERSION":u.version=parseInt(S);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"#":(S||R)&&y.tagList.push(R?[S,R]:[S]);break;case"DISCONTINUITY":m++,y.tagList.push(["DIS"]);break;case"GAP":y.gap=!0,y.tagList.push([w]);break;case"BITRATE":y.tagList.push([w,S]);break;case"DATERANGE":var O=new L(S);Fe(u,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Fe(u,O,O.clientAttrs);var G=new D(O,u.dateRanges[O.ID]);G.isValid||u.skippedSegments?u.dateRanges[G.id]=G:E.warn('Ignoring invalid DATERANGE tag: "'+S+'"'),y.tagList.push(["EXT-X-DATERANGE",S]);break;case"DEFINE":var H=new L(S);Fe(u,H,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in H?Ge(u,H,a):Ue(u,H,t);break;case"DISCONTINUITY-SEQUENCE":m=parseInt(S);break;case"KEY":var V=Xe(S,t,u);if(V.isSupported()){if("NONE"===V.method){c=void 0;break}c||(c={}),c[V.keyFormat]&&(c=o({},c)),c[V.keyFormat]=V}else E.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+S+'"');break;case"START":u.startTimeOffset=Je(S);break;case"MAP":var z=new L(S);if(Fe(u,z,["BYTERANGE","URI"]),y.duration){var j=new F(n,t);rt(j,z,r,c),h=j,y.initSegment=h,h.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=h.rawProgramDateTime)}else rt(y,z,r,c),h=y,C=!0;break;case"SERVER-CONTROL":var K=new L(S);u.canBlockReload=K.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=K.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&K.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=K.optionalFloat("PART-HOLD-BACK",0),u.holdBack=K.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var q=new L(S);u.partTarget=q.decimalFloatingPoint("PART-TARGET");break;case"PART":var W=u.partList;W||(W=u.partList=[]);var Y=p>0?W[W.length-1]:void 0,$=p++,Q=new L(S);Fe(u,Q,["BYTERANGE","URI"]);var X=new N(Q,y,t,$,Y);W.push(X),y.duration+=X.duration;break;case"PRELOAD-HINT":var J=new L(S);Fe(u,J,["URI"]),u.preloadHint=J;break;case"RENDITION-REPORT":var Z=new L(S);Fe(u,Z,["URI"]),u.renditionReports=u.renditionReports||[],u.renditionReports.push(Z);break;default:E.warn("line parsed but not handled: "+s)}}}A&&!A.relurl?(d.pop(),g-=A.duration,u.partList&&(u.fragmentHint=A)):u.partList&&(tt(y,A),y.cc=m,u.fragmentHint=y,c&&nt(y,c,u));var ee=d.length,te=d[0],re=d[ee-1];if((g+=u.skippedSegments*u.targetduration)>0&&ee&&re){u.averagetargetduration=g/ee;var ne=re.sn;u.endSN="initSegment"!==ne?ne:0,u.live||(re.endList=!0),te&&(u.startCC=te.cc)}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(g+=u.fragmentHint.duration),u.totalduration=g,u.endCC=m,b>0&&function(e,t){for(var r=e[t],n=t;n--;){var i=e[n];if(!i)return;i.programDateTime=r.programDateTime-1e3*i.duration,r=i}}(d,b),u},e}();function Xe(e,t,r){var n,i,a=new L(e);Fe(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);var s=null!=(n=a.METHOD)?n:"",o=a.URI,l=a.hexadecimalInteger("IV"),c=a.KEYFORMATVERSIONS,u=null!=(i=a.KEYFORMAT)?i:"identity";o&&a.IV&&!l&&E.error("Invalid IV: "+a.IV);var d=o?Qe.resolve(o,t):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Pe(s,d,u,h,l)}function Je(e){var t=new L(e).decimalFloatingPoint("TIME-OFFSET");return v(t)?t:null}function Ze(e,t){["video","audio","text"].forEach((function(r){var n=e.filter((function(e){return function(e,t){var r=Ve[t];return!!r&&!0===r[e.slice(0,4)]}(e,r)}));if(n.length){var i=n.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=i.length>0?i[0]:n[0],e=e.filter((function(e){return-1===n.indexOf(e)}))}})),t.unknownCodecs=e}function et(e,t,r){var n=t[r];n&&(e[r]=n)}function tt(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!=t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),v(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function rt(e,t,r,n){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=r,e.sn="initSegment",n&&(e.levelkeys=n),e.initSegment=null}function nt(e,t,r){e.levelkeys=t;var n=r.encryptedFragments;n.length&&n[n.length-1].levelkeys===t||!Object.keys(t).some((function(e){return t[e].isCommonEncryption}))||n.push(e)}var it="manifest",at="level",st="audioTrack",ot="subtitleTrack",lt="main",ct="audio",ut="subtitle";function dt(e){switch(e.type){case st:return ct;case ot:return ut;default:return lt}}function ht(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r}var ft=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}var t=e.prototype;return t.startLoad=function(e){},t.stopLoad=function(){this.destroyInternalLoaders()},t.registerListeners=function(){var e=this.hls;e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.LEVEL_LOADING,this.onLevelLoading,this),e.on(y.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(y.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.LEVEL_LOADING,this.onLevelLoading,this),e.off(y.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(y.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,n=t.loader,i=new(r||n)(t);return this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var r=t.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:it,url:r,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var r=t.id,n=t.level,i=t.url,a=t.deliveryDirectives;this.load({id:r,level:n,responseType:"text",type:at,url:i,deliveryDirectives:a})},t.onAudioTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:st,url:i,deliveryDirectives:a})},t.onSubtitleTrackLoading=function(e,t){var r=t.id,n=t.groupId,i=t.url,a=t.deliveryDirectives;this.load({id:r,groupId:n,level:null,responseType:"text",type:ot,url:i,deliveryDirectives:a})},t.load=function(e){var t,r,n,i=this,a=this.hls.config,s=this.getInternalLoader(e);if(s){var l=s.context;if(l&&l.url===e.url)return void E.trace("[playlist-loader]: playlist request ongoing");E.log("[playlist-loader]: aborting previous loader for type: "+e.type),s.abort()}if(r=e.type===it?a.manifestLoadPolicy.default:o({},a.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),null!=(t=e.deliveryDirectives)&&t.part&&(e.type===at&&null!==e.level?n=this.hls.levels[e.level].details:e.type===st&&null!==e.id?n=this.hls.audioTracks[e.id].details:e.type===ot&&null!==e.id&&(n=this.hls.subtitleTracks[e.id].details),n)){var c=n.partTarget,u=n.targetduration;if(c&&u){var d=1e3*Math.max(3*c,.8*u);r=o({},r,{maxTimeToFirstByteMs:Math.min(d,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,r.maxTimeToFirstByteMs)})}}var h=r.errorRetry||r.timeoutRetry||{},f={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:h.maxNumRetry||0,retryDelay:h.retryDelayMs||0,maxRetryDelay:h.maxRetryDelayMs||0},p={onSuccess:function(e,t,r,n){var a=i.getInternalLoader(r);i.resetInternalLoader(r.type);var s=e.data;0===s.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),Qe.isMediaPlaylist(s)?i.handleTrackOrLevelPlaylist(e,t,r,n||null,a):i.handleMasterPlaylist(e,t,r,n)):i.handleManifestParsingError(e,r,new Error("no EXTM3U delimiter"),n||null,t)},onError:function(e,t,r,n){i.handleNetworkError(t,r,!1,e,n)},onTimeout:function(e,t,r){i.handleNetworkError(t,r,!0,void 0,e)}};s.load(e,f,p)},t.handleMasterPlaylist=function(e,t,r,n){var i=this.hls,a=e.data,s=ht(e,r),o=Qe.parseMasterPlaylist(a,s);if(o.playlistParsingError)this.handleManifestParsingError(e,r,o.playlistParsingError,n,t);else{var l=o.contentSteering,c=o.levels,u=o.sessionData,d=o.sessionKeys,h=o.startTimeOffset,f=o.variableList;this.variableList=f;var p=Qe.parseMasterPlaylistMedia(a,s,o),g=p.AUDIO,m=void 0===g?[]:g,A=p.SUBTITLES,v=p["CLOSED-CAPTIONS"];m.length&&(m.some((function(e){return!e.url}))||!c[0].audioCodec||c[0].attrs.AUDIO||(E.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new L({}),bitrate:0,url:""}))),i.trigger(y.MANIFEST_LOADED,{levels:c,audioTracks:m,subtitles:A,captions:v,contentSteering:l,url:s,stats:t,networkDetails:n,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f})}},t.handleTrackOrLevelPlaylist=function(e,t,r,n,i){var a=this.hls,s=r.id,o=r.level,l=r.type,c=ht(e,r),u=v(s)?s:0,d=v(o)?o:u,h=dt(r),f=Qe.parseLevelPlaylist(e.data,c,d,h,u,this.variableList);if(l===it){var p={attrs:new L({}),bitrate:0,details:f,name:"",url:c};a.trigger(y.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:c,stats:t,networkDetails:n,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),r.levelDetails=f,this.handlePlaylistLoaded(f,e,t,r,n,i)},t.handleManifestParsingError=function(e,t,r,n,i){this.hls.trigger(y.ERROR,{type:b.NETWORK_ERROR,details:C.MANIFEST_PARSING_ERROR,fatal:t.type===it,url:e.url,err:r,error:r,reason:r.message,response:e,context:t,networkDetails:n,stats:i})},t.handleNetworkError=function(e,t,r,i,a){void 0===r&&(r=!1);var s="A network "+(r?"timeout":"error"+(i?" (status "+i.code+")":""))+" occurred while loading "+e.type;e.type===at?s+=": "+e.level+" id: "+e.id:e.type!==st&&e.type!==ot||(s+=" id: "+e.id+' group-id: "'+e.groupId+'"');var o=new Error(s);E.warn("[playlist-loader]: "+s);var l=C.UNKNOWN,c=!1,u=this.getInternalLoader(e);switch(e.type){case it:l=r?C.MANIFEST_LOAD_TIMEOUT:C.MANIFEST_LOAD_ERROR,c=!0;break;case at:l=r?C.LEVEL_LOAD_TIMEOUT:C.LEVEL_LOAD_ERROR,c=!1;break;case st:l=r?C.AUDIO_TRACK_LOAD_TIMEOUT:C.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case ot:l=r?C.SUBTITLE_TRACK_LOAD_TIMEOUT:C.SUBTITLE_LOAD_ERROR,c=!1}u&&this.resetInternalLoader(e.type);var d={type:b.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:o,networkDetails:t,stats:a};if(i){var h=(null==t?void 0:t.url)||e.url;d.response=n({url:h,data:void 0},i)}this.hls.trigger(y.ERROR,d)},t.handlePlaylistLoaded=function(e,t,r,n,i,a){var s=this.hls,o=n.type,l=n.level,c=n.id,u=n.groupId,d=n.deliveryDirectives,h=ht(t,n),f=dt(n),p="number"==typeof n.level&&f===lt?l:void 0;if(e.fragments.length){e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));var g=e.playlistParsingError;if(g)s.trigger(y.ERROR,{type:b.NETWORK_ERROR,details:C.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:t,context:n,level:p,parent:f,networkDetails:i,stats:r});else switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),a.getCacheAge&&!isNaN(e.ageHeader)||(e.ageHeader=0)),o){case it:case at:s.trigger(y.LEVEL_LOADED,{details:e,level:p||0,id:c||0,stats:r,networkDetails:i,deliveryDirectives:d});break;case st:s.trigger(y.AUDIO_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:r,networkDetails:i,deliveryDirectives:d});break;case ot:s.trigger(y.SUBTITLE_TRACK_LOADED,{details:e,id:c||0,groupId:u||"",stats:r,networkDetails:i,deliveryDirectives:d})}}else{var m=new Error("No Segments found in Playlist");s.trigger(y.ERROR,{type:b.NETWORK_ERROR,details:C.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:m,reason:m.message,response:t,context:n,level:p,parent:f,networkDetails:i,stats:r})}},e}();function pt(e,t){var r;try{r=new Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)}function gt(e,t){var r=e.mode;if("disabled"===r&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(r){E.debug("[texttrack-utils]: "+r);try{var n=new self.TextTrackCue(t.startTime,t.endTime,t.text);n.id=t.id,e.addCue(n)}catch(e){E.debug("[texttrack-utils]: Legacy TextTrackCue fallback failed: "+e)}}"disabled"===r&&(e.mode=r)}function mt(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);"disabled"===t&&(e.mode=t)}function At(e,t,r,n){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var a=function(e,t,r){var n=[],i=function(e,t){if(t<e[0].startTime)return 0;var r=e.length-1;if(t>e[r].endTime)return-1;for(var n=0,i=r;n<=i;){var a=Math.floor((i+n)/2);if(t<e[a].startTime)i=a-1;else{if(!(t>e[a].startTime&&n<r))return a;n=a+1}}return e[n].startTime-t<t-e[i].startTime?n:i}(e,t);if(i>-1)for(var a=i,s=e.length;a<s;a++){var o=e[a];if(o.startTime>=t&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}(e.cues,t,r),s=0;s<a.length;s++)n&&!n(a[s])||e.removeCue(a[s]);"disabled"===i&&(e.mode=i)}var vt="org.id3",yt="https://aomedia.org/emsg/ID3";function bt(){if("undefined"!=typeof self)return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}var Ct=function(){var e=bt();try{new e(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function _t(e,t){return e.getTime()/1e3-t}var kt=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(y.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(y.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(mt(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return pt(r,this.media),r}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var r=this.hls.config,n=r.enableEmsgMetadataCues,i=r.enableID3MetadataCues;if(n||i){var a=t.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var s=bt(),o=0;o<a.length;o++){var l=a[o].type;if((l!==yt||n)&&i){var c=oe(a[o].data);if(c){var u=a[o].pts,d=u+a[o].duration;d>Ct&&(d=Ct),d-u<=0&&(d=u+.25);for(var h=0;h<c.length;h++){var f=c[h];if(!ae(f)){this.updateId3CueEnds(u,l);var p=new s(u,d,"");p.value=f,l&&(p.type=l),this.id3Track.addCue(p)}}}}}}}},t.updateId3CueEnds=function(e,t){var r,n=null==(r=this.id3Track)?void 0:r.cues;if(n)for(var i=n.length;i--;){var a=n[i];a.type===t&&a.startTime<e&&a.endTime===Ct&&(a.endTime=e)}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,i=t.type,a=this.id3Track,s=this.hls;if(s){var o=s.config,l=o.enableEmsgMetadataCues,c=o.enableID3MetadataCues;a&&(l||c)&&At(a,r,n,"audio"===i?function(e){return e.type===vt&&c}:"video"===i?function(e){return e.type===yt&&l}:function(e){return e.type===vt&&c||e.type===yt&&l})}},t.onLevelUpdated=function(e,t){var r=this,n=t.details;if(this.media&&n.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var i=this.dateRangeCuesAppended,a=this.id3Track,s=n.dateRanges,o=Object.keys(s);if(a)for(var l=Object.keys(i).filter((function(e){return!o.includes(e)})),c=function(){var e=l[u];Object.keys(i[e].cues).forEach((function(t){a.removeCue(i[e].cues[t])})),delete i[e]},u=l.length;u--;)c();var d=n.fragments[n.fragments.length-1];if(0!==o.length&&v(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var h=d.programDateTime/1e3-d.start,f=bt(),p=function(){var e=o[g],t=s[e],n=i[e],a=(null==n?void 0:n.cues)||{},l=(null==n?void 0:n.durationKnown)||!1,c=_t(t.startDate,h),u=Ct,d=t.endDate;if(d)u=_t(d,h),l=!0;else if(t.endOnNext&&!l){var p=o.reduce((function(e,r){var n=s[r];return n.class===t.class&&n.id!==r&&n.startDate>t.startDate&&e.push(n),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];p&&(u=_t(p.startDate,h),l=!0)}for(var m,A,v=Object.keys(t.attr),y=0;y<v.length;y++){var b=v[y];if("ID"!==(A=b)&&"CLASS"!==A&&"START-DATE"!==A&&"DURATION"!==A&&"END-DATE"!==A&&"END-ON-NEXT"!==A){var C=a[b];if(C)l&&!n.durationKnown&&(C.endTime=u);else{var _=t.attr[b];C=new f(c,u,""),R(b)&&(m=_,_=Uint8Array.from(m.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),C.value={key:b,data:_},C.type="com.apple.quicktime.HLS",C.id=e,r.id3Track.addCue(C),a[b]=C}}}i[e]={cues:a,dateRange:t,durationKnown:l}},g=0;g<o.length;g++)p()}}},e}(),Tt=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},t.registerListeners=function(){this.hls.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(y.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(y.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(y.ERROR,this.onError,this)},t.unregisterListeners=function(){this.hls.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(y.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(y.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(y.ERROR,this.onError,this)},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},t.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},t.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},t.onLevelUpdated=function(e,t){var r=t.details;this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},t.onError=function(e,t){var r;t.details===C.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(r=this.levelDetails)&&r.live&&E.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},t.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var r=this.computeLatency();if(null!==r){this._latency=r;var n=this.config,i=n.lowLatencyMode,a=n.maxLiveSyncPlaybackRate;if(i&&1!==a){var s=this.targetLatency;if(null!==s){var o=r-s,l=o<Math.min(this.maxLatency,s+t.targetduration);if(t.live&&l&&o>.05&&this.forwardBufferLength>1){var c=Math.min(2,Math.max(1,a)),u=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(c,Math.max(1,u))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},t.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},t.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},a(e,[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,r=e.partHoldBack,n=e.targetduration,i=this.config,a=i.liveSyncDuration,s=i.liveSyncDurationCount,o=i.lowLatencyMode,l=this.hls.userConfig,c=o&&r||t;(l.liveSyncDuration||l.liveSyncDurationCount||0===c)&&(c=void 0!==a?a:s*n);var u=n;return c+Math.min(1*this.stallCount,u)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(null===e||null===t||null===r)return null;var n=r.edge,i=e-t-this.edgeStalled,a=n-r.totalduration,s=n-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(a,i),s)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}}]),e}(),xt=["NONE","TYPE-0","TYPE-1",null],Et=function(){function e(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href},e}(),wt=function(){function e(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}return e.prototype.addFallback=function(e){this.url.push(e.url),this._attrs.push(e.attrs)},a(e,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"attrs",get:function(){return this._attrs[this._urlId]}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=t)}},{key:"audioGroupId",get:function(){var e;return null==(e=this.audioGroupIds)?void 0:e[this.urlId]}},{key:"textGroupId",get:function(){var e;return null==(e=this.textGroupIds)?void 0:e[this.urlId]}}]),e}();function St(e,t){var r=t.startPTS;if(v(r)){var n,i=0;t.sn>e.sn?(i=r-e.start,n=e):(i=e.start-r,n=t),n.duration!==i&&(n.duration=i)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function Lt(e,t,r,n,i,a){n-r<=0&&(E.warn("Fragment should have a positive duration",t),n=r+t.duration,a=i+t.duration);var s=r,o=n,l=t.startPTS,c=t.endPTS;if(v(l)){var u=Math.abs(l-r);v(t.deltaPTS)?t.deltaPTS=Math.max(u,t.deltaPTS):t.deltaPTS=u,s=Math.max(r,l),r=Math.min(r,l),i=Math.min(i,t.startDTS),o=Math.min(n,c),n=Math.max(n,c),a=Math.max(a,t.endDTS)}var d=r-t.start;0!==t.start&&(t.start=r),t.duration=n-t.start,t.startPTS=r,t.maxStartPTS=s,t.startDTS=i,t.endPTS=n,t.minEndPTS=o,t.endDTS=a;var h,f=t.sn;if(!e||f<e.startSN||f>e.endSN)return 0;var p=f-e.startSN,g=e.fragments;for(g[p]=t,h=p;h>0;h--)St(g[h],g[h-1]);for(h=p;h<g.length-1;h++)St(g[h],g[h+1]);return e.fragmentHint&&St(g[g.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,d}function Rt(e,t){for(var r=null,n=e.fragments,i=n.length-1;i>=0;i--){var a=n[i].initSegment;if(a){r=a;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var s,l,c,u,d,h=0;if(function(e,t,r){for(var n=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,a=(e.fragmentHint?1:0)+(n?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,s=t.startSN-e.startSN,o=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=i;c<=a;c++){var u=l[s+c],d=o[c];n&&!d&&c<n&&(d=t.fragments[c]=u),u&&d&&r(u,d)}}(e,t,(function(e,n){e.relurl&&(h=e.cc-n.cc),v(e.startPTS)&&v(e.endPTS)&&(n.start=n.startPTS=e.startPTS,n.startDTS=e.startDTS,n.maxStartPTS=e.maxStartPTS,n.endPTS=e.endPTS,n.endDTS=e.endDTS,n.minEndPTS=e.minEndPTS,n.duration=e.endPTS-e.startPTS,n.duration&&(s=n),t.PTSKnown=t.alignedSliding=!0),n.elementaryStreams=e.elementaryStreams,n.loader=e.loader,n.stats=e.stats,n.urlId=e.urlId,e.initSegment&&(n.initSegment=e.initSegment,r=e.initSegment)})),r&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null==(t=r)?void 0:t.relurl)||(e.initSegment=r)})),t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){E.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var f=t.skippedSegments;f--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=(l=e.dateRanges,c=t.dateRanges,u=t.recentlyRemovedDateranges,d=o({},l),u&&u.forEach((function(e){delete d[e]})),Object.keys(c).forEach((function(e){var t=new D(c[e].attr,d[e]);t.isValid?d[e]=t:E.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(c[e].attr)+'"')})),d));var p=t.fragments;if(h){E.warn("discontinuity sliding from playlist, take drift into account");for(var g=0;g<p.length;g++)p[g].cc+=h}t.skippedSegments&&(t.startCC=t.fragments[0].cc),function(e,t,r){if(e&&t)for(var n=0,i=0,a=e.length;i<=a;i++){var s=e[i],o=t[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),s?Lt(t,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):Dt(e,t),p.length&&(t.totalduration=t.edge-p[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var m=t.advancedDateTime;if(t.advanced&&m){var A=t.edge;t.driftStart||(t.driftStartTime=m,t.driftStart=A),t.driftEndTime=m,t.driftEnd=A}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function Dt(e,t){var r=t.startSN+t.skippedSegments-e.startSN,n=e.fragments;r<0||r>=n.length||It(t,n[r].start)}function It(e,t){if(t){for(var r=e.fragments,n=e.skippedSegments;n<r.length;n++)r[n].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function Bt(e,t,r){var n;return null!=e&&e.details?Pt(null==(n=e.details)?void 0:n.partList,t,r):null}function Pt(e,t,r){if(e)for(var n=e.length;n--;){var i=e[n];if(i.index===r&&i.fragment.sn===t)return i}return null}function Mt(e){switch(e.details){case C.FRAG_LOAD_TIMEOUT:case C.KEY_LOAD_TIMEOUT:case C.LEVEL_LOAD_TIMEOUT:case C.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Ot(e,t){var r=Mt(t);return e.default[(r?"timeout":"error")+"Retry"]}function Ft(e,t){var r="linear"===e.backoff?1:Math.pow(2,t);return Math.min(r*e.retryDelayMs,e.maxRetryDelayMs)}function Nt(e){return n(n({},e),{errorRetry:null,timeoutRetry:null})}function Ut(e,t,r,n){return!!e&&t<e.maxNumRetry&&(function(e){return 0===e&&!1===navigator.onLine||!!e&&(e<400||e>499)}(n)||!!r)}var Gt=function(e,t){for(var r=0,n=e.length-1,i=null,a=null;r<=n;){var s=t(a=e[i=(r+n)/2|0]);if(s>0)r=i+1;else{if(!(s<0))return a;n=i-1}}return null};function Ht(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var i=null;if(e?i=t[e.sn-t[0].sn+1]||null:0===r&&0===t[0].start&&(i=t[0]),i&&0===Vt(r,n,i))return i;var a=Gt(t,Vt.bind(null,r,n));return!a||a===e&&i?i:a}function Vt(e,t,r){if(void 0===e&&(e=0),void 0===t&&(t=0),r.start<=e&&r.start+r.duration>e)return 0;var n=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=e?1:r.start-n>e&&r.start?-1:0}function zt(e,t,r){var n=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return(r.endProgramDateTime||0)-n>e}var jt,Kt=function(){function e(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=E.log.bind(E,"[info]:"),this.warn=E.warn.bind(E,"[warning]:"),this.error=E.error.bind(E,"[error]:"),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(y.ERROR,this.onError,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.LEVEL_UPDATED,this.onLevelUpdated,this)},t.unregisterListeners=function(){var e=this.hls;e&&(e.off(y.ERROR,this.onError,this),e.off(y.ERROR,this.onErrorOut,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.LEVEL_UPDATED,this.onLevelUpdated,this))},t.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},t.startLoad=function(e){this.playlistError=0},t.stopLoad=function(){},t.getVariantLevelIndex=function(e){return(null==e?void 0:e.type)===lt?e.level:this.hls.loadLevel},t.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},t.onLevelUpdated=function(){this.playlistError=0},t.onError=function(e,t){var r,n;if(!t.fatal){var i=this.hls,a=t.context;switch(t.details){case C.FRAG_LOAD_ERROR:case C.FRAG_LOAD_TIMEOUT:case C.KEY_LOAD_ERROR:case C.KEY_LOAD_TIMEOUT:return void(t.errorAction=this.getFragRetryOrSwitchAction(t));case C.FRAG_PARSING_ERROR:if(null!=(r=t.frag)&&r.gap)return void(t.errorAction={action:0,flags:0});case C.FRAG_GAP:case C.FRAG_DECRYPT_ERROR:return t.errorAction=this.getFragRetryOrSwitchAction(t),void(t.errorAction.action=2);case C.LEVEL_EMPTY_ERROR:case C.LEVEL_PARSING_ERROR:var s,o,l=t.parent===lt?t.level:i.loadLevel;return void(t.details===C.LEVEL_EMPTY_ERROR&&null!=(s=t.context)&&null!=(o=s.levelDetails)&&o.live?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,l):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,l)));case C.LEVEL_LOAD_ERROR:case C.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==a?void 0:a.level)&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,a.level)));case C.AUDIO_TRACK_LOAD_ERROR:case C.AUDIO_TRACK_LOAD_TIMEOUT:case C.SUBTITLE_LOAD_ERROR:case C.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){var c=i.levels[i.loadLevel];if(c&&(a.type===st&&a.groupId===c.audioGroupId||a.type===ot&&a.groupId===c.textGroupId))return t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=2,void(t.errorAction.flags=1)}return;case C.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var u=i.levels[i.loadLevel],d=null==u?void 0:u.attrs["HDCP-LEVEL"];return void(d&&(t.errorAction={action:2,flags:2,hdcpLevel:d}));case C.BUFFER_ADD_CODEC_ERROR:case C.REMUX_ALLOC_ERROR:return void(t.errorAction=this.getLevelSwitchAction(t,null!=(n=t.level)?n:i.loadLevel));case C.INTERNAL_EXCEPTION:case C.BUFFER_APPENDING_ERROR:case C.BUFFER_APPEND_ERROR:case C.BUFFER_FULL_ERROR:case C.LEVEL_SWITCH_ERROR:case C.BUFFER_STALLED_ERROR:case C.BUFFER_SEEK_OVER_HOLE:case C.BUFFER_NUDGE_ON_STALL:return void(t.errorAction={action:0,flags:0})}if(t.type===b.KEY_SYSTEM_ERROR){var h=this.getVariantLevelIndex(t.frag);return t.levelRetry=!1,void(t.errorAction=this.getLevelSwitchAction(t,h))}}},t.getPlaylistRetryOrSwitchAction=function(e,t){var r,n=Ot(this.hls.config.playlistLoadPolicy,e),i=this.playlistError++,a=null==(r=e.response)?void 0:r.code;if(Ut(n,i,Mt(e),a))return{action:5,flags:0,retryConfig:n,retryCount:i};var s=this.getLevelSwitchAction(e,t);return n&&(s.retryConfig=n,s.retryCount=i),s},t.getFragRetryOrSwitchAction=function(e){var t=this.hls,r=this.getVariantLevelIndex(e.frag),n=t.levels[r],i=t.config,a=i.fragLoadPolicy,s=i.keyLoadPolicy,o=Ot(e.details.startsWith("key")?s:a,e),l=t.levels.reduce((function(e,t){return e+t.fragmentError}),0);if(n){var c;e.details!==C.FRAG_GAP&&n.fragmentError++;var u=null==(c=e.response)?void 0:c.code;if(Ut(o,l,Mt(e),u))return{action:5,flags:0,retryConfig:o,retryCount:l}}var d=this.getLevelSwitchAction(e,r);return o&&(d.retryConfig=o,d.retryCount=l),d},t.getLevelSwitchAction=function(e,t){var r=this.hls;null==t&&(t=r.loadLevel);var n=this.hls.levels[t];if(n&&(n.loadError++,r.autoLevelEnabled)){for(var i,a,s=-1,o=r.levels,l=r.loadLevel,c=r.minAutoLevel,u=r.maxAutoLevel,d=null==(i=e.frag)?void 0:i.type,h=null!=(a=e.context)?a:{},f=h.type,p=h.groupId,g=o.length;g--;){var m=(g+l)%o.length;if(m!==l&&m>=c&&m<=u&&0===o[m].loadError){var A=o[m];if(e.details===C.FRAG_GAP&&e.frag){var v=o[m].details;if(v){var y=Ht(e.frag,v.fragments,e.frag.start);if(null!=y&&y.gap)continue}}else{if(f===st&&p===A.audioGroupId||f===ot&&p===A.textGroupId)continue;if(d===ct&&n.audioGroupId===A.audioGroupId||d===ut&&n.textGroupId===A.textGroupId)continue}s=m;break}}if(s>-1&&r.loadLevel!==s)return e.levelRetry=!0,this.playlistError=0,{action:2,flags:0,nextAutoLevel:s}}return{action:2,flags:1}},t.onErrorOut=function(e,t){var r;switch(null==(r=t.errorAction)?void 0:r.action){case 0:break;case 2:this.sendAlternateToPenaltyBox(t),t.errorAction.resolved||t.details===C.FRAG_GAP||(t.fatal=!0)}t.fatal&&this.hls.stopLoad()},t.sendAlternateToPenaltyBox=function(e){var t=this.hls,r=e.errorAction;if(r){var n=r.flags,i=r.hdcpLevel,a=r.nextAutoLevel;switch(n){case 0:this.switchLevel(e,a);break;case 1:r.resolved||(r.resolved=this.redundantFailover(e));break;case 2:i&&(t.maxHdcpLevel=xt[xt.indexOf(i)-1],r.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+t.maxHdcpLevel+'" or lower')}r.resolved||this.switchLevel(e,a)}},t.switchLevel=function(e,t){void 0!==t&&e.errorAction&&(this.warn("switching to level "+t+" after "+e.details),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)},t.redundantFailover=function(e){var t=this,r=this.hls,n=this.penalizedRenditions,i=e.parent===lt?e.level:r.loadLevel,a=r.levels[i],s=a.url.length,o=e.frag?e.frag.urlId:a.urlId;a.urlId!==o||e.frag&&!a.details||this.penalizeRendition(a,e);for(var l=function(){var l=(o+c)%s,u=n[l];if(!u||function(e,t,r){if(performance.now()-e.lastErrorPerfMs>3e5)return!0;var n=e.details;if(t.details===C.FRAG_GAP&&n&&t.frag){var i=t.frag.start,a=Ht(null,n.fragments,i);if(a&&!a.gap)return!0}if(r&&e.errors.length<r.errors.length){var s=e.errors[e.errors.length-1];if(n&&s.frag&&t.frag&&Math.abs(s.frag.start-t.frag.start)>3*n.targetduration)return!0}return!1}(u,e,n[o]))return t.warn("Switching to Redundant Stream "+(l+1)+"/"+s+': "'+a.url[l]+'" after '+e.details),t.playlistError=0,r.levels.forEach((function(e){e.urlId=l})),r.nextLoadLevel=i,{v:!0}},c=1;c<s;c++){var u=l();if("object"==typeof u)return u.v}return!1},t.penalizeRendition=function(e,t){var r=this.penalizedRenditions,n=r[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};n.lastErrorPerfMs=performance.now(),n.errors.push(t),n.details=e.details,r[e.urlId]=n},e}(),qt=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=E.log.bind(E,t+":"),this.warn=E.warn.bind(E,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var r=null==t?void 0:t.renditionReports;if(r){for(var n=-1,i=0;i<r.length;i++){var a=r[i],s=void 0;try{s=new self.URL(a.URI,t.url).href}catch(e){E.warn("Could not construct new URL for Rendition Report: "+e),s=a.URI||""}if(s===e){n=i;break}s===e.substring(0,s.length)&&(n=i)}if(-1!==n){var o=r[n],l=parseInt(o["LAST-MSN"])||(null==t?void 0:t.lastPartSn),c=parseInt(o["LAST-PART"])||(null==t?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){var u=Math.min(t.age-t.partTarget,t.targetduration);c>=0&&u>t.partTarget&&(c+=1)}return new Et(l,c>=0?c:void 0,"")}}},t.loadPlaylist=function(e){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())},t.shouldLoadPlaylist=function(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)},t.shouldReloadPlaylist=function(e){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(e)},t.playlistLoaded=function(e,t,r){var n=this,i=t.details,a=t.stats,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||null!=r&&r.live){if(i.reloaded(r),r&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED")),r&&i.fragments.length>0&&Rt(r,i),!this.canLoad||!i.live)return;var l,c=void 0,u=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var d=this.hls.config.lowLatencyMode,h=i.lastPartSn,f=i.endSN,p=i.lastPartIndex,g=h===f;-1!==p?(c=g?f+1:h,u=g?d?0:p:p+1):c=f+1;var m=i.age,A=m+i.ageHeader,v=Math.min(A-i.partTarget,1.5*i.targetduration);if(v>0){if(r&&v>r.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+r.tuneInGoal+" to: "+v+" with playlist age: "+i.age),v=0;else{var y=Math.floor(v/i.targetduration);c+=y,void 0!==u&&(u+=Math.round(v%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+m.toFixed(2)+"s goal: "+v+" skip sn "+y+" to part "+u)}i.tuneInGoal=v}if(l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,u),d||!g)return void this.loadPlaylist(l)}else(i.canBlockReload||i.canSkipUntil)&&(l=this.getDeliveryDirectives(i,t.deliveryDirectives,c,u));var b=this.hls.mainForwardBufferInfo,C=b?b.end-b.len:0,_=function(e,t){void 0===t&&(t=1/0);var r=1e3*e.targetduration;if(e.updated){var n=e.fragments;if(n.length&&4*r>t){var i=1e3*n[n.length-1].duration;i<r&&(r=i)}}else r/=2;return Math.round(r)}(i,1e3*(i.edge-C));i.updated&&s>this.requestScheduled+_&&(this.requestScheduled=a.loading.start),void 0!==c&&i.canBlockReload?this.requestScheduled=a.loading.first+_-(1e3*i.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+_<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=_);var k=this.requestScheduled-s;k=Math.max(0,k),this.log("reload live playlist "+e+" in "+Math.round(k)+" ms"),this.timer=self.setTimeout((function(){return n.loadPlaylist(l)}),k)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,r,n){var i=function(e,t){var r=e.canSkipUntil,n=e.canSkipDateRanges,i=e.endSN;return r&&(void 0!==t?t-i:0)<r?n?"v2":"YES":""}(e,r);return null!=t&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,n=t.part,i=""),new Et(r,n,i)},t.checkRetry=function(e){var t=this,r=e.details,n=Mt(e),i=e.errorAction,a=i||{},s=a.action,o=a.retryCount,l=void 0===o?0:o,c=a.retryConfig,u=!!i&&!!c&&(5===s||!i.resolved&&2===s);if(u){var d;if(this.requestScheduled=-1,l>=c.maxNumRetry)return!1;if(n&&null!=(d=e.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading "+(l+1)+"/"+c.maxNumRetry+' after "'+r+'" without delivery-directives'),this.loadPlaylist();else{var h=Ft(c,l);this.timer=self.setTimeout((function(){return t.loadPlaylist()}),h),this.warn("Retrying playlist loading "+(l+1)+"/"+c.maxNumRetry+' after "'+r+'" in '+h+"ms")}e.levelRetry=!0,i.resolved=!0}return u},e}(),Wt=function(e){function t(t,r){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevel=null,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.steering=void 0,n.onParsedComplete=void 0,n.steering=r,n._registerListeners(),n}l(t,e);var r=t.prototype;return r._registerListeners=function(){var e=this.hls;e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(y.LEVEL_LOADED,this.onLevelLoaded,this),e.on(y.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(y.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(y.FRAG_LOADED,this.onFragLoaded,this),e.on(y.ERROR,this.onError,this)},r._unregisterListeners=function(){var e=this.hls;e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(y.LEVEL_LOADED,this.onLevelLoaded,this),e.off(y.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(y.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(y.FRAG_LOADED,this.onFragLoaded,this),e.off(y.ERROR,this.onError,this)},r.destroy=function(){this._unregisterListeners(),this.steering=null,this.resetLevels(),e.prototype.destroy.call(this)},r.startLoad=function(){this._levels.forEach((function(e){e.loadError=0,e.fragmentError=0})),e.prototype.startLoad.call(this)},r.resetLevels=function(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]},r.onManifestLoading=function(e,t){this.resetLevels()},r.onManifestLoaded=function(e,t){var r,n=[],i={};t.levels.forEach((function(e){var t,a=e.attrs;-1!==(null==(t=e.audioCodec)?void 0:t.indexOf("mp4a.40.34"))&&(jt||(jt=/chrome|firefox/i.test(navigator.userAgent)),jt&&(e.audioCodec=void 0));var s=a.AUDIO,o=a.CODECS,l=a["FRAME-RATE"],c=a["PATHWAY-ID"],u=a.RESOLUTION,d=a.SUBTITLES,h=(c||".")+"-"+e.bitrate+"-"+u+"-"+l+"-"+o;(r=i[h])?r.addFallback(e):(r=new wt(e),i[h]=r,n.push(r)),Yt(r,"audio",s),Yt(r,"text",d)})),this.filterAndSortMediaOptions(n,t)},r.filterAndSortMediaOptions=function(e,t){var r=this,n=[],i=[],a=!1,s=!1,o=!1,l=e.filter((function(e){var t=e.audioCodec,r=e.videoCodec,n=e.width,i=e.height,l=e.unknownCodecs;return a||(a=!(!n||!i)),s||(s=!!r),o||(o=!!t),!(null!=l&&l.length)&&(!t||je(t,"audio"))&&(!r||je(r,"video"))}));if((a||s)&&o&&(l=l.filter((function(e){var t=e.videoCodec,r=e.width,n=e.height;return!!t||!(!r||!n)}))),0!==l.length){t.audioTracks&&$t(n=t.audioTracks.filter((function(e){return!e.audioCodec||je(e.audioCodec,"audio")}))),t.subtitles&&$t(i=t.subtitles);var c=l.slice(0);l.sort((function(e,t){return e.attrs["HDCP-LEVEL"]!==t.attrs["HDCP-LEVEL"]?(e.attrs["HDCP-LEVEL"]||"")>(t.attrs["HDCP-LEVEL"]||"")?1:-1:e.bitrate!==t.bitrate?e.bitrate-t.bitrate:e.attrs["FRAME-RATE"]!==t.attrs["FRAME-RATE"]?e.attrs.decimalFloatingPoint("FRAME-RATE")-t.attrs.decimalFloatingPoint("FRAME-RATE"):e.attrs.SCORE!==t.attrs.SCORE?e.attrs.decimalFloatingPoint("SCORE")-t.attrs.decimalFloatingPoint("SCORE"):a&&e.height!==t.height?e.height-t.height:0}));var u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l)).length!==c.length)for(var d=0;d<c.length;d++)if(c[d].pathwayId===l[0].pathwayId){u=c[d];break}this._levels=l;for(var h=0;h<l.length;h++)if(l[h]===u){this._firstLevel=h,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+u.bitrate);break}var f=o&&!s,p={levels:l,audioTracks:n,subtitleTracks:i,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:o,video:s,altAudio:!f&&n.some((function(e){return!!e.url}))};this.hls.trigger(y.MANIFEST_PARSED,p),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else Promise.resolve().then((function(){if(r.hls){var e=new Error("no level with compatible codecs found in manifest");r.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:e,reason:e.message})}}))},r.onError=function(e,t){!t.fatal&&t.context&&t.context.type===at&&t.context.level===this.level&&this.checkRetry(t)},r.onFragLoaded=function(e,t){var r=t.frag;if(void 0!==r&&r.type===lt){var n=this._levels[r.level];void 0!==n&&(n.loadError=0)}},r.onLevelLoaded=function(e,t){var r,n,i=t.level,a=t.details,s=this._levels[i];if(!s)return this.warn("Invalid level index "+i),void(null!=(n=t.deliveryDirectives)&&n.skip&&(a.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===s.fragmentError&&(s.loadError=0),this.playlistLoaded(i,t,s.details)):null!=(r=t.deliveryDirectives)&&r.skip&&(a.deltaUpdateFailed=!0)},r.onAudioTrackSwitched=function(e,t){var r=this.currentLevel;if(r){var n=this.hls.audioTracks[t.id].groupId;if(r.audioGroupIds&&r.audioGroupId!==n){for(var i=-1,a=0;a<r.audioGroupIds.length;a++)if(r.audioGroupIds[a]===n){i=a;break}-1!==i&&i!==r.urlId&&(r.urlId=i,this.canLoad&&this.startLoad())}}},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){var i=n.urlId,a=n.uri;if(t)try{a=t.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}var s=n.attrs["PATHWAY-ID"];this.log("Loading level index "+r+(void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:"")+" with"+(s?" Pathway "+s:"")+" URI "+(i+1)+"/"+n.url.length+" "+a),this.clearTimer(),this.hls.trigger(y.LEVEL_LOADING,{url:a,level:r,id:i,deliveryDirectives:t||null})}},r.removeLevel=function(e,t){var r=this,n=function(e,r){return r!==t},i=this._levels.filter((function(i,a){return a!==e||(i.url.length>1&&void 0!==t?(i.url=i.url.filter(n),i.audioGroupIds&&(i.audioGroupIds=i.audioGroupIds.filter(n)),i.textGroupIds&&(i.textGroupIds=i.textGroupIds.filter(n)),i.urlId=0,!0):(r.steering&&r.steering.removeLevel(i),!1))}));this.hls.trigger(y.LEVELS_UPDATED,{levels:i})},r.onLevelsUpdated=function(e,t){var r=t.levels;r.forEach((function(e,t){var r=e.details;null!=r&&r.fragments&&r.fragments.forEach((function(e){e.level=t}))})),this._levels=r},a(t,[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;if(0!==t.length){if(e<0||e>=t.length){var r=new Error("invalid level idx"),n=e<0;if(this.hls.trigger(y.ERROR,{type:b.OTHER_ERROR,details:C.LEVEL_SWITCH_ERROR,level:e,fatal:n,error:r,reason:r.message}),n)return;e=Math.min(e,t.length-1)}var i=this.currentLevelIndex,a=this.currentLevel,s=a?a.attrs["PATHWAY-ID"]:void 0,l=t[e],c=l.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=l,i!==e||!l.details||!a||s!==c){this.log("Switching to level "+e+(c?" with Pathway "+c:"")+" from level "+i+(s?" with Pathway "+s:""));var u=o({},l,{level:e,maxBitrate:l.maxBitrate,attrs:l.attrs,uri:l.uri,urlId:l.urlId});delete u._attrs,delete u._urlId,this.hls.trigger(y.LEVEL_SWITCHING,u);var d=l.details;if(!d||d.live){var h=this.switchParams(l.uri,null==a?void 0:a.details);this.loadPlaylist(h)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(qt);function Yt(e,t,r){r&&("audio"===t?(e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds[e.url.length-1]=r):"text"===t&&(e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds[e.url.length-1]=r))}function $t(e){var t={};e.forEach((function(e){var r=e.groupId||"";e.id=t[r]=t[r]||0,t[r]++}))}var Qt="NOT_LOADED",Xt="APPENDING",Jt="PARTIAL",Zt="OK",er=function(){function e(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(y.BUFFER_APPENDED,this.onBufferAppended,this),e.on(y.FRAG_BUFFERED,this.onFragBuffered,this),e.on(y.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(y.BUFFER_APPENDED,this.onBufferAppended,this),e.off(y.FRAG_BUFFERED,this.onFragBuffered,this),e.off(y.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){var r=this.activePartLists[t];if(r)for(var n=r.length;n--;){var i=r[n];if(!i)break;var a=i.end;if(i.start<=e&&null!==a&&e<=a)return i}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var r=this.fragments,n=Object.keys(r),i=n.length;i--;){var a=r[n[i]];if((null==a?void 0:a.body.type)===t&&a.buffered){var s=a.body;if(s.start<=e&&e<=s.end)return s}}return null},t.detectEvictedFragments=function(e,t,r,n){var i=this;this.timeRanges&&(this.timeRanges[e]=t);var a=(null==n?void 0:n.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(n){var s=i.fragments[n];if(s&&!(a>=s.body.sn))if(s.buffered||s.loaded){var o=s.range[e];o&&o.time.some((function(e){var r=!i.isTimeBuffered(e.startPTS,e.endPTS,t);return r&&i.removeFragment(s.body),r}))}else s.body.type===r&&i.removeFragment(s.body)}))},t.detectPartialFragments=function(e){var t=this,r=this.timeRanges,n=e.frag,i=e.part;if(r&&"initSegment"!==n.sn){var a=rr(n),s=this.fragments[a];if(!(!s||s.buffered&&n.gap)){var o=!n.relurl;Object.keys(r).forEach((function(e){var a=n.elementaryStreams[e];if(a){var l=r[e],c=o||!0===a.partial;s.range[e]=t.getBufferedTimes(n,i,c,l)}})),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=n.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),tr(s)||this.removeParts(n.sn-1,n.type)):this.removeFragment(s.body)}}},t.removeParts=function(e,t){var r=this.activePartLists[t];r&&(this.activePartLists[t]=r.filter((function(t){return t.fragment.sn>=e})))},t.fragBuffered=function(e,t){var r=rr(e),n=this.fragments[r];!n&&t&&(n=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),n&&(n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,r,n){for(var i={time:[],partial:r},a=e.start,s=e.end,o=e.minEndPTS||s,l=e.maxStartPTS||a,c=0;c<n.length;c++){var u=n.start(c)-this.bufferPadding,d=n.end(c)+this.bufferPadding;if(l>=u&&o<=d){i.time.push({startPTS:Math.max(a,n.start(c)),endPTS:Math.min(s,n.end(c))});break}if(a<d&&s>u)i.partial=!0,i.time.push({startPTS:Math.max(a,n.start(c)),endPTS:Math.min(s,n.end(c))});else if(s<=u)break}return i},t.getPartialFragment=function(e){var t,r,n,i=null,a=0,s=this.bufferPadding,o=this.fragments;return Object.keys(o).forEach((function(l){var c=o[l];c&&tr(c)&&(r=c.body.start-s,n=c.body.end+s,e>=r&&e<=n&&(t=Math.min(e-r,n-e),a<=t&&(i=c.body,a=t)))})),i},t.isEndListAppended=function(e){var t=this.endListFragments[e];return void 0!==t&&(t.buffered||tr(t))},t.getState=function(e){var t=rr(e),r=this.fragments[t];return r?r.buffered?tr(r)?Jt:Zt:Xt:Qt},t.isTimeBuffered=function(e,t,r){for(var n,i,a=0;a<r.length;a++){if(n=r.start(a)-this.bufferPadding,i=r.end(a)+this.bufferPadding,e>=n&&t<=i)return!0;if(t<=n)return!1}return!1},t.onFragLoaded=function(e,t){var r=t.frag,n=t.part;if("initSegment"!==r.sn&&!r.bitrateTest){var i=n?null:t,a=rr(r);this.fragments[a]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var r=this,n=t.frag,i=t.part,a=t.timeRanges;if("initSegment"!==n.sn){var s=n.type;if(i){var o=this.activePartLists[s];o||(this.activePartLists[s]=o=[]),o.push(i)}this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];r.detectEvictedFragments(e,t,s,i)}))}},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=rr(e);return!!this.fragments[t]},t.hasParts=function(e){var t;return!(null==(t=this.activePartLists[e])||!t.length)},t.removeFragmentsInRange=function(e,t,r,n,i){var a=this;n&&!this.hasGaps||Object.keys(this.fragments).forEach((function(s){var o=a.fragments[s];if(o){var l=o.body;l.type!==r||n&&!l.gap||l.start<t&&l.end>e&&(o.buffered||i)&&a.removeFragment(l)}}))},t.removeFragment=function(e){var t=rr(e);e.stats.loaded=0,e.clearElementaryStreamInfo();var r=this.activePartLists[e.type];if(r){var n=e.sn;this.activePartLists[e.type]=r.filter((function(e){return e.fragment.sn!==n}))}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1},e}();function tr(e){var t,r,n;return e.buffered&&(e.body.gap||(null==(t=e.range.video)?void 0:t.partial)||(null==(r=e.range.audio)?void 0:r.partial)||(null==(n=e.range.audiovideo)?void 0:n.partial))}function rr(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}var nr=Math.pow(2,17),ir=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var r=this,i=e.url;if(!i)return Promise.reject(new or({type:b.NETWORK_ERROR,details:C.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error("Fragment does not have a "+(i?"part list":"url")),networkDetails:null}));this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(l,c){if(r.loader&&r.loader.destroy(),e.gap){if(e.tagList.some((function(e){return"GAP"===e[0]})))return void c(sr(e));e.gap=!1}var u=r.loader=e.loader=s?new s(a):new o(a),d=ar(e),h=Nt(a.fragLoadPolicy.default),f={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===e.sn?1/0:nr};e.stats=u.stats,u.load(d,f,{onSuccess:function(t,n,i,a){r.resetLoader(e,u);var s=t.data;i.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(s.slice(0,16)),s=s.slice(16)),l({frag:e,part:null,payload:s,networkDetails:a})},onError:function(t,a,s,o){r.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:n({url:i,data:void 0},t),error:new Error("HTTP Error "+t.code+" "+t.text),networkDetails:s,stats:o}))},onAbort:function(t,n,i){r.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:i,stats:t}))},onTimeout:function(t,n,i){r.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:i,stats:t}))},onProgress:function(r,n,i,a){t&&t({frag:e,part:null,payload:i,networkDetails:a})}})}))},t.loadPart=function(e,t,r){var i=this;this.abort();var a=this.config,s=a.fLoader,o=a.loader;return new Promise((function(l,c){if(i.loader&&i.loader.destroy(),e.gap||t.gap)c(sr(e,t));else{var u=i.loader=e.loader=s?new s(a):new o(a),d=ar(e,t),h=Nt(a.fragLoadPolicy.default),f={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:nr};t.stats=u.stats,u.load(d,f,{onSuccess:function(n,a,s,o){i.resetLoader(e,u),i.updateStatsFromPart(e,t);var c={frag:e,part:t,payload:n.data,networkDetails:o};r(c),l(c)},onError:function(r,a,s,o){i.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n({url:d.url,data:void 0},r),error:new Error("HTTP Error "+r.code+" "+r.text),networkDetails:s,stats:o}))},onAbort:function(r,n,a){e.stats.aborted=t.stats.aborted,i.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:a,stats:r}))},onTimeout:function(r,n,a){i.resetLoader(e,u),c(new or({type:b.NETWORK_ERROR,details:C.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error("Timeout after "+f.timeout+"ms"),networkDetails:a,stats:r}))}})}}))},t.updateStatsFromPart=function(e,t){var r=e.stats,n=t.stats,i=n.total;if(r.loaded+=n.loaded,i){var a=Math.round(e.duration/t.duration),s=Math.min(Math.round(r.loaded/i),a),o=(a-s)*Math.round(r.loaded/s);r.total=r.loaded+o}else r.total=Math.max(r.loaded,r.total);var l=r.loading,c=n.loading;l.start?l.first+=c.first-c.start:(l.start=c.start,l.first=c.first),l.end=c.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function ar(e,t){void 0===t&&(t=null);var r=t||e,n={frag:e,part:t,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(v(i)&&v(a)){var s,o=i,l=a;if("initSegment"===e.sn&&"AES-128"===(null==(s=e.decryptdata)?void 0:s.method)){var c=a-i;c%16&&(l=a+(16-c%16)),0!==i&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=l}return n}function sr(e,t){var r=new Error("GAP "+(e.gap?"tag":"attribute")+" found"),n={type:b.MEDIA_ERROR,details:C.FRAG_GAP,fatal:!1,frag:e,error:r,networkDetails:null};return t&&(n.part=t),(t||e).stats.aborted=!0,new or(n)}var or=function(e){function t(t){var r;return(r=e.call(this,t.error.message)||this).data=void 0,r.data=t,r}return l(t,e),t}(h(Error)),lr=function(){function e(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}var t=e.prototype;return t.abort=function(e){for(var t in this.keyUriToKeyInfo){var r=this.keyUriToKeyInfo[t].loader;if(r){if(e&&e!==r.context.frag.type)return;r.abort()}}},t.detach=function(){for(var e in this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}},t.destroy=function(){for(var e in this.detach(),this.keyUriToKeyInfo){var t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}},t.createKeyLoadError=function(e,t,r,n,i){return void 0===t&&(t=C.KEY_LOAD_ERROR),new or({type:b.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:i,error:r,networkDetails:n})},t.loadClear=function(e,t){var r=this;if(this.emeController&&this.config.emeEnabled)for(var n=e.sn,i=e.cc,a=function(){var e=t[s];if(i<=e.cc&&("initSegment"===n||"initSegment"===e.sn||n<e.sn))return r.emeController.selectKeySystemFormat(e).then((function(t){e.setKeyFormat(t)})),"break"},s=0;s<t.length&&"break"!==a();s++);},t.load=function(e){var t=this;return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then((function(r){return t.loadInternal(e,r)})):this.loadInternal(e)},t.loadInternal=function(e,t){var r,n;t&&e.setKeyFormat(t);var i=e.decryptdata;if(!i){var a=new Error(t?"Expected frag.decryptdata to be defined after setting format "+t:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,C.KEY_LOAD_ERROR,a))}var s=i.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,C.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+s+'"')));var o,l=this.keyUriToKeyInfo[s];if(null!=(r=l)&&r.decryptdata.key)return i.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if(null!=(n=l)&&n.keyLoadPromise)switch(null==(o=l.mediaKeySessionContext)?void 0:o.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then((function(t){return i.key=t.keyInfo.decryptdata.key,{frag:e,keyInfo:l}}))}switch(l=this.keyUriToKeyInfo[s]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,C.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+i.method+'"')))}},t.loadKeyEME=function(e,t){var r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){var n=this.emeController.loadKey(r);if(n)return(e.keyLoadPromise=n.then((function(t){return e.mediaKeySessionContext=t,r}))).catch((function(t){throw e.keyLoadPromise=null,t}))}return Promise.resolve(r)},t.loadKeyHTTP=function(e,t){var r=this,i=this.config,a=new(0,i.loader)(i);return t.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((function(s,o){var l={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},c=i.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:function(e,t,n,i){var a=n.frag,l=n.keyInfo,c=n.url;if(!a.decryptdata||l!==r.keyUriToKeyInfo[c])return o(r.createKeyLoadError(a,C.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),i));l.decryptdata.key=a.decryptdata.key=new Uint8Array(e.data),a.keyLoader=null,l.loader=null,s({frag:a,keyInfo:l})},onError:function(e,i,a,s){r.resetLoader(i),o(r.createKeyLoadError(t,C.KEY_LOAD_ERROR,new Error("HTTP Error "+e.code+" loading key "+e.text),a,n({url:l.url,data:void 0},e)))},onTimeout:function(e,n,i){r.resetLoader(n),o(r.createKeyLoadError(t,C.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),i))},onAbort:function(e,n,i){r.resetLoader(n),o(r.createKeyLoadError(t,C.INTERNAL_ABORTED,new Error("key loading aborted"),i))}};a.load(l,u,d)}))},t.resetLoader=function(e){var t=e.frag,r=e.keyInfo,n=e.url,i=r.loader;t.keyLoader===i&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[n],i&&i.destroy()},e}(),cr=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}(),ur={length:0,start:function(){return 0},end:function(){return 0}},dr=function(){function e(){}return e.isBuffered=function(t,r){try{if(t)for(var n=e.getBuffered(t),i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(t,r,n){try{if(t){var i,a=e.getBuffered(t),s=[];for(i=0;i<a.length;i++)s.push({start:a.start(i),end:a.end(i)});return this.bufferedInfo(s,r,n)}}catch(e){}return{len:0,start:r,end:r,nextStart:void 0}},e.bufferedInfo=function(e,t,r){t=Math.max(0,t),e.sort((function(e,t){return e.start-t.start||t.end-e.end}));var n=[];if(r)for(var i=0;i<e.length;i++){var a=n.length;if(a){var s=n[a-1].end;e[i].start-s<r?e[i].end>s&&(n[a-1].end=e[i].end):n.push(e[i])}else n.push(e[i])}else n=e;for(var o,l=0,c=t,u=t,d=0;d<n.length;d++){var h=n[d].start,f=n[d].end;if(t+r>=h&&t<f)c=h,l=(u=f)-t;else if(t+r<h){o=h;break}}return{len:l,start:c||0,end:u||0,nextStart:o}},e.getBuffered=function(e){try{return e.buffered}catch(e){return E.log("failed to get media.buffered",e),ur}},e}(),hr=function(e,t,r,n,i,a){void 0===n&&(n=0),void 0===i&&(i=-1),void 0===a&&(a=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=r,this.size=n,this.part=i,this.partial=a};function fr(e,t){for(var r=null,n=0,i=e.length;n<i;n++){var a=e[n];if(a&&a.cc===t){r=a;break}}return r}function pr(e,t){if(e){var r=e.start+t;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function gr(e,t){for(var r=t.fragments,n=0,i=r.length;n<i;n++)pr(r[n],e);t.fragmentHint&&pr(t.fragmentHint,e),t.alignedSliding=!0}function mr(e,t){if(e.hasProgramDateTime&&t.hasProgramDateTime){var r=e.fragments,n=t.fragments;if(r.length&&n.length){var i=n[Math.round(n.length/2)-1],a=fr(r,i.cc)||r[Math.round(r.length/2)-1],s=i.programDateTime,o=a.programDateTime;null!==s&&null!==o&&gr((o-s)/1e3-(a.start-i.start),e)}}}var Ar=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),vr=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),yr=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},t.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],a=r[2],s=r[3],o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],h=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,e[f]=m,t[m]=f;var A=h[f],v=h[A],y=h[v],b=257*h[m]^16843008*m;n[f]=b<<24|b>>>8,i[f]=b<<16|b>>>16,a[f]=b<<8|b>>>24,s[f]=b,b=16843009*y^65537*v^257*A^16843008*f,l[m]=b<<24|b>>>8,c[m]=b<<16|b>>>16,u[m]=b<<8|b>>>24,d[m]=b,f?(f=A^h[h[h[y^A]]],p^=h[h[p]]):f=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var a,s,o,l,c=this.ksRows=4*(i+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),h=this.sBox,f=this.rcon,p=this.invSubMix,g=p[0],m=p[1],A=p[2],v=p[3];for(a=0;a<c;a++)a<i?o=u[a]=t[a]:(l=o,a%i==0?(l=h[(l=l<<8|l>>>24)>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[a/i|0]<<24):i>6&&a%i==4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),u[a]=o=(u[a-i]^l)>>>0);for(s=0;s<c;s++)a=c-s,l=3&s?u[a]:u[a-4],d[s]=s<4||a<=4?l:g[h[l>>>24]]^m[h[l>>>16&255]]^A[h[l>>>8&255]]^v[h[255&l]],d[s]=d[s]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,r){for(var n,i,a,s,o,l,c,u,d,h,f,p,g,m,A=this.keySize+6,v=this.invKeySchedule,y=this.invSBox,b=this.invSubMix,C=b[0],_=b[1],k=b[2],T=b[3],x=this.uint8ArrayToUint32Array_(r),E=x[0],w=x[1],S=x[2],L=x[3],R=new Int32Array(e),D=new Int32Array(R.length),I=this.networkToHostOrderSwap;t<R.length;){for(d=I(R[t]),h=I(R[t+1]),f=I(R[t+2]),p=I(R[t+3]),o=d^v[0],l=p^v[1],c=f^v[2],u=h^v[3],g=4,m=1;m<A;m++)n=C[o>>>24]^_[l>>16&255]^k[c>>8&255]^T[255&u]^v[g],i=C[l>>>24]^_[c>>16&255]^k[u>>8&255]^T[255&o]^v[g+1],a=C[c>>>24]^_[u>>16&255]^k[o>>8&255]^T[255&l]^v[g+2],s=C[u>>>24]^_[o>>16&255]^k[l>>8&255]^T[255&c]^v[g+3],o=n,l=i,c=a,u=s,g+=4;n=y[o>>>24]<<24^y[l>>16&255]<<16^y[c>>8&255]<<8^y[255&u]^v[g],i=y[l>>>24]<<24^y[c>>16&255]<<16^y[u>>8&255]<<8^y[255&o]^v[g+1],a=y[c>>>24]<<24^y[u>>16&255]<<16^y[o>>8&255]<<8^y[255&l]^v[g+2],s=y[u>>>24]<<24^y[o>>16&255]<<16^y[l>>8&255]<<8^y[255&c]^v[g+3],D[t]=I(n^E),D[t+1]=I(s^w),D[t+2]=I(a^S),D[t+3]=I(i^L),E=d,w=h,S=f,L=p,t+=4}return D.buffer},e}(),br=function(){function e(e,t){var r=(void 0===t?{}:t).removePKCS7Padding,n=void 0===r||r;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{var i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch(e){}null===this.subtle&&(this.useSoftware=!0)}var t=e.prototype;return t.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},t.isSync=function(){return this.useSoftware},t.flush=function(){var e=this.currentResult,t=this.remainderData;if(!e||t)return this.reset(),null;var r,n,i,a=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?(i=(n=(r=a).byteLength)&&new DataView(r.buffer).getUint8(n-1))?J(r,0,n-i):r:a},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,r){var n=this;return this.useSoftware?new Promise((function(i,a){n.softwareDecrypt(new Uint8Array(e),t,r);var s=n.flush();s?i(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(e),t,r)},t.softwareDecrypt=function(e,t,r){var n=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Se(a,e),this.remainderData=null);var s=this.getValidChunk(e);if(!s.length)return null;n&&(r=n);var o=this.softwareDecrypter;o||(o=this.softwareDecrypter=new yr),o.expandKey(t);var l=i;return this.currentResult=o.decrypt(s.buffer,0,r),this.currentIV=J(s,-16).buffer,l||null},t.webCryptoDecrypt=function(e,t,r){var n=this,i=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new vr(i,t)),this.fastAesKey.expandKey().then((function(t){return i?(n.logOnce("WebCrypto AES decrypt"),new Ar(i,new Uint8Array(r)).decrypt(e.buffer,t)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(i){return E.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+i.name+": "+i.message),n.onWebCryptoError(e,t,r)}))},t.onWebCryptoError=function(e,t,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r);var n=this.flush();if(n)return n.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")},t.getValidChunk=function(e){var t=e,r=e.length-e.length%16;return r!==e.length&&(t=J(e,0,r),this.remainderData=J(e,r)),t},t.logOnce=function(e){this.logEnabled&&(E.log("[decrypter]: "+e),this.logEnabled=!1)},e}(),Cr="STOPPED",_r="IDLE",kr="KEY_LOADING",Tr="FRAG_LOADING",xr="FRAG_LOADING_WAITING_RETRY",Er="WAITING_TRACK",wr="PARSING",Sr="PARSED",Lr="ENDED",Rr="ERROR",Dr="WAITING_INIT_PTS",Ir="WAITING_LEVEL",Br=function(e){function t(t,r,n,i,a){var s;return(s=e.call(this)||this).hls=void 0,s.fragPrevious=null,s.fragCurrent=null,s.fragmentTracker=void 0,s.transmuxer=null,s._state=Cr,s.playlistType=void 0,s.media=null,s.mediaBuffer=null,s.config=void 0,s.bitrateTest=!1,s.lastCurrentTime=0,s.nextLoadPosition=0,s.startPosition=0,s.startTimeOffset=null,s.loadedmetadata=!1,s.retryDate=0,s.levels=null,s.fragmentLoader=void 0,s.keyLoader=void 0,s.levelLastLoaded=null,s.startFragRequested=!1,s.decrypter=void 0,s.initPTS=[],s.onvseeking=null,s.onvended=null,s.logPrefix="",s.log=void 0,s.warn=void 0,s.playlistType=a,s.logPrefix=i,s.log=E.log.bind(E,i+":"),s.warn=E.warn.bind(E,i+":"),s.hls=t,s.fragmentLoader=new ir(t.config),s.keyLoader=n,s.fragmentTracker=r,s.config=t.config,s.decrypter=new br(t.config),t.on(y.MANIFEST_LOADED,s.onManifestLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(s)),s}l(t,e);var r=t.prototype;return r.doTick=function(){this.onTickEnd()},r.onTickEnd=function(){},r.startLoad=function(e){},r.stopLoad=function(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var e=this.fragCurrent;null!=e&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Cr},r._streamEnded=function(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;var r=t.partList;if(null!=r&&r.length){var n=r[r.length-1];return dr.isBuffered(this.media,n.start+n.duration/2)}var i=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)},r.getLevelDetails=function(){var e;if(this.levels&&null!==this.levelLastLoaded)return null==(e=this.levels[this.levelLastLoaded])?void 0:e.details},r.onMediaAttached=function(e,t){var r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.state===Cr&&this.startLoad(n.startPosition)},r.onMediaDetaching=function(){var e=this.media;null!=e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},r.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,r=this.media,n=this.mediaBuffer,i=this.state,a=r?r.currentTime:0,s=dr.bufferInfo(n||r,a,e.maxBufferHole);if(this.log("media seeking to "+(v(a)?a.toFixed(3):a)+", state: "+i),this.state===Lr)this.resetLoadingState();else if(t){var o=e.maxFragLookUpTolerance,l=t.start-o,c=t.start+t.duration+o;if(!s.len||c<s.start||l>s.end){var u=a>c;(a<l||u)&&(u&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),this.loadedmetadata||s.len||(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onManifestLoaded=function(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]},r.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state=Cr,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},r.loadFragment=function(e,t,r){this._loadFragForPlayback(e,t,r)},r._loadFragForPlayback=function(e,t,r){var n=this;this._doFragLoad(e,t,r,(function(t){if(n.fragContextChanged(e))return n.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void n.fragmentTracker.removeFragment(e);e.stats.chunkCount++,n._handleFragmentLoadProgress(t)})).then((function(t){if(t){var r=n.state;n.fragContextChanged(e)?(r===Tr||!n.fragCurrent&&r===wr)&&(n.fragmentTracker.removeFragment(e),n.state=_r):("payload"in t&&(n.log("Loaded fragment "+e.sn+" of level "+e.level),n.hls.trigger(y.FRAG_LOADED,t)),n._handleFragmentLoadComplete(t))}})).catch((function(t){n.state!==Cr&&n.state!==Rr&&(n.warn(t),n.resetFragmentLoading(e))}))},r.clearTrackerIfNeeded=function(e){var t,r=this.fragmentTracker;if(r.getState(e)===Xt){var n=e.type,i=this.getFwdBufferInfo(this.mediaBuffer,n),a=Math.max(e.duration,i?i.len:this.config.maxBufferLength);this.reduceMaxBufferLength(a)&&r.removeFragment(e)}else 0===(null==(t=this.mediaBuffer)?void 0:t.buffered.length)?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Jt&&r.removeFragment(e))},r.checkLiveUpdate=function(e){if(e.updated&&!e.live){var t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)},r.flushMainBuffer=function(e,t,r){if(void 0===r&&(r=null),e-t){var n={startOffset:e,endOffset:t,type:r};this.hls.trigger(y.BUFFER_FLUSHING,n)}},r._loadInitSegment=function(e,t){var r=this;this._doFragLoad(e,t).then((function(t){if(!t||r.fragContextChanged(e)||!r.levels)throw new Error("init load aborted");return t})).then((function(t){var n=r.hls,i=t.payload,a=e.decryptdata;if(i&&i.byteLength>0&&a&&a.key&&a.iv&&"AES-128"===a.method){var s=self.performance.now();return r.decrypter.decrypt(new Uint8Array(i),a.key.buffer,a.iv.buffer).catch((function(t){throw n.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((function(r){var i=self.performance.now();return n.trigger(y.FRAG_DECRYPTED,{frag:e,payload:r,stats:{tstart:s,tdecrypt:i}}),t.payload=r,t}))}return t})).then((function(n){var i=r.fragCurrent,a=r.hls;if(!r.levels)throw new Error("init load aborted, missing levels");var s=e.stats;r.state=_r,t.fragmentError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===i&&a.trigger(y.FRAG_BUFFERED,{stats:s,frag:i,part:null,id:e.type}),r.tick()})).catch((function(t){r.state!==Cr&&r.state!==Rr&&(r.warn(t),r.resetFragmentLoading(e))}))},r.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},r.fragBufferedComplete=function(e,t){var r,n,i,a,s=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+(this.playlistType===lt?"level":"track")+" "+e.level+" (frag:["+(null!=(r=e.startPTS)?r:NaN).toFixed(3)+"-"+(null!=(n=e.endPTS)?n:NaN).toFixed(3)+"] > buffer:"+(s?function(e){for(var t="",r=e.length,n=0;n<r;n++)t+="["+e.start(n).toFixed(3)+"-"+e.end(n).toFixed(3)+"]";return t}(dr.getBuffered(s)):"(detached)")+")"),this.state=_r,s&&(!this.loadedmetadata&&e.type==lt&&s.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(a=this.fragPrevious)?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())},r.seekToStartPos=function(){},r._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var r=e.frag,n=e.part,i=e.partsLoaded,a=!i||0===i.length||i.some((function(e){return!e})),s=new hr(r.level,r.sn,r.stats.chunkCount+1,0,n?n.index:-1,!a);t.flush(s)}},r._handleFragmentLoadProgress=function(e){},r._doFragLoad=function(e,t,r,n){var i,a=this;void 0===r&&(r=null);var s=null==t?void 0:t.details;if(!this.levels||!s)throw new Error("frag load aborted, missing level"+(s?"":" detail")+"s");var o=null;if(!e.encrypted||null!=(i=e.decryptdata)&&i.key?!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments):(this.log("Loading key for "+e.sn+" of ["+s.startSN+"-"+s.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=kr,this.fragCurrent=e,o=this.keyLoader.load(e).then((function(e){if(!a.fragContextChanged(e.frag))return a.hls.trigger(y.KEY_LOADED,e),a.state===kr&&(a.state=_r),e})),this.hls.trigger(y.KEY_LOADING,{frag:e}),null===this.fragCurrent&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&"initSegment"!==e.sn){var l=s.partList;if(l&&n){r>e.end&&s.fragmentHint&&(e=s.fragmentHint);var c=this.getNextPart(l,e,r);if(c>-1){var u,d=l[c];return this.log("Loading part sn: "+e.sn+" p: "+d.index+" cc: "+e.cc+" of playlist ["+s.startSN+"-"+s.endSN+"] parts [0-"+c+"-"+(l.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),this.nextLoadPosition=d.start+d.duration,this.state=Tr,u=o?o.then((function(r){return!r||a.fragContextChanged(r.frag)?null:a.doFragPartsLoad(e,d,t,n)})).catch((function(e){return a.handleFragLoadError(e)})):this.doFragPartsLoad(e,d,t,n).catch((function(e){return a.handleFragLoadError(e)})),this.hls.trigger(y.FRAG_LOADING,{frag:e,part:d,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):u}if(!e.url||this.loadedEndOfParts(l,r))return Promise.resolve(null)}}this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(s?"of ["+s.startSN+"-"+s.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(r.toFixed(3))),v(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Tr;var h,f=this.config.progressive;return h=f&&o?o.then((function(t){return!t||a.fragContextChanged(null==t?void 0:t.frag)?null:a.fragmentLoader.load(e,n)})).catch((function(e){return a.handleFragLoadError(e)})):Promise.all([this.fragmentLoader.load(e,f?n:void 0),o]).then((function(e){var t=e[0];return!f&&t&&n&&n(t),t})).catch((function(e){return a.handleFragLoadError(e)})),this.hls.trigger(y.FRAG_LOADING,{frag:e,targetBufferTime:r}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h},r.doFragPartsLoad=function(e,t,r,n){var i=this;return new Promise((function(a,s){var o,l=[],c=null==(o=r.details)?void 0:o.partList;!function t(o){i.fragmentLoader.loadPart(e,o,n).then((function(n){l[o.index]=n;var s=n.part;i.hls.trigger(y.FRAG_LOADED,n);var u=Bt(r,e.sn,o.index+1)||Pt(c,e.sn,o.index+1);if(!u)return a({frag:e,part:s,partsLoaded:l});t(u)})).catch(s)}(t)}))},r.handleFragLoadError=function(e){if("data"in e){var t=e.data;e.data&&t.details===C.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(y.ERROR,t)}else this.hls.trigger(y.ERROR,{type:b.OTHER_ERROR,details:C.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null},r._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===wr){var r=t.frag,n=t.part,i=t.level,a=self.performance.now();r.stats.parsing.end=a,n&&(n.stats.parsing.end=a),this.updateLevelTiming(r,n,i,e.partial)}else this.fragCurrent||this.state===Cr||this.state===Rr||(this.state=_r)},r.getCurrentContext=function(e){var t=this.levels,r=this.fragCurrent,n=e.level,i=e.sn,a=e.part;if(null==t||!t[n])return this.warn("Levels object was unset while buffering fragment "+i+" of level "+n+". The current chunk will not be buffered."),null;var s=t[n],o=a>-1?Bt(s,i,a):null,l=o?o.fragment:function(e,t,r){if(null==e||!e.details)return null;var n=e.details,i=n.fragments[t-n.startSN];return i||((i=n.fragmentHint)&&i.sn===t?i:t<n.startSN&&r&&r.sn===t?r:null)}(s,i,r);return l?(r&&r!==l&&(l.stats=r.stats),{frag:l,part:o,level:s}):null},r.bufferFragmentData=function(e,t,r,n,i){var a;if(e&&this.state===wr){var s=e.data1,o=e.data2,l=s;if(s&&o&&(l=Se(s,o)),null!=(a=l)&&a.length){var c={type:e.type,frag:t,part:r,chunkMeta:n,parent:t.type,data:l};if(this.hls.trigger(y.BUFFER_APPENDING,c),e.dropped&&e.independent&&!r){if(i)return;this.flushBufferGap(t)}}}},r.flushBufferGap=function(e){var t=this.media;if(t)if(dr.isBuffered(t,t.currentTime)){var r=t.currentTime,n=dr.bufferInfo(t,r,0),i=e.duration,a=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-a,n.end-a),r+a);e.start-s>a&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},r.getFwdBufferInfo=function(e,t){var r=this.getLoadPosition();return v(r)?this.getFwdBufferInfoAtPos(e,r,t):null},r.getFwdBufferInfoAtPos=function(e,t,r){var n=this.config.maxBufferHole,i=dr.bufferInfo(e,t,n);if(0===i.len&&void 0!==i.nextStart){var a=this.fragmentTracker.getBufferedFrag(t,r);if(a&&i.nextStart<a.end)return dr.bufferInfo(e,t,Math.max(i.nextStart,n))}return i},r.getMaxBufferLength=function(e){var t,r=this.config;return t=e?Math.max(8*r.maxBufferSize/e,r.maxBufferLength):r.maxBufferLength,Math.min(t,r.maxMaxBufferLength)},r.reduceMaxBufferLength=function(e){var t=this.config,r=e||t.maxBufferLength;return t.maxMaxBufferLength>=r&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.getAppendedFrag=function(e,t){var r=this.fragmentTracker.getAppendedFrag(e,lt);return r&&"fragment"in r?r.fragment:r},r.getNextFragment=function(e,t){var r=t.fragments,n=r.length;if(!n)return null;var i,a=this.config,s=r[0].start;if(t.live){var o=a.initialLiveManifestSize;if(n<o)return this.warn("Not enough fragments to start playback (have: "+n+", need: "+o+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(i=this.getInitialLiveFragment(t,r),this.startPosition=i?this.hls.liveSyncPosition||i.start:e)}else e<=s&&(i=r[0]);if(!i){var l=a.lowLatencyMode?t.partEnd:t.fragmentEnd;i=this.getFragmentAtPosition(e,l,t)}return this.mapToInitFragWhenRequired(i)},r.isLoopLoading=function(e,t){var r=this.fragmentTracker.getState(e);return(r===Zt||r===Jt&&!!e.gap)&&this.nextLoadPosition>t},r.getNextFragmentLoopLoading=function(e,t,r,n,i){var a=e.gap,s=this.getNextFragment(this.nextLoadPosition,t);if(null===s)return s;if(e=s,a&&e&&!e.gap&&r.nextStart){var o=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,n);if(null!==o&&r.len+o.len>=i)return this.log('buffer full after gaps in "'+n+'" playlist starting at sn: '+e.sn),null}return e},r.mapToInitFragWhenRequired=function(e){return null==e||!e.initSegment||null!=e&&e.initSegment.data||this.bitrateTest?e:e.initSegment},r.getNextPart=function(e,t,r){for(var n=-1,i=!1,a=!0,s=0,o=e.length;s<o;s++){var l=e[s];if(a=a&&!l.independent,n>-1&&r<l.start)break;var c=l.loaded;c?n=-1:(i||l.independent||a)&&l.fragment===t&&(n=s),i=c}return n},r.loadedEndOfParts=function(e,t){var r=e[e.length-1];return r&&t>r.start&&r.loaded},r.getInitialLiveFragment=function(e,t){var r=this.fragPrevious,n=null;if(r){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),n=function(e,t,r){if(null===t||!Array.isArray(e)||!e.length||!v(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;r=r||0;for(var n=0;n<e.length;++n){var i=e[n];if(zt(t,r,i))return i}return null}(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!n){var i=r.sn+1;if(i>=e.startSN&&i<=e.endSN){var a=t[i-e.startSN];r.cc===a.cc&&(n=a,this.log("Live playlist, switching playlist, load frag with next SN: "+n.sn))}n||(n=function(e,t){return Gt(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}(t,r.cc),n&&this.log("Live playlist, switching playlist, load frag with same CC: "+n.sn))}}else{var s=this.hls.liveSyncPosition;null!==s&&(n=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return n},r.getFragmentAtPosition=function(e,t,r){var n,i=this.config,a=this.fragPrevious,s=r.fragments,o=r.endSN,l=r.fragmentHint,c=i.maxFragLookUpTolerance,u=r.partList,d=!!(i.lowLatencyMode&&null!=u&&u.length&&l);if(d&&l&&!this.bitrateTest&&(s=s.concat(l),o=l.sn),n=e<t?Ht(a,s,e,e>t-c?0:c):s[s.length-1]){var h=n.sn-r.startSN,f=this.fragmentTracker.getState(n);if((f===Zt||f===Jt&&n.gap)&&(a=n),a&&n.sn===a.sn&&(!d||u[0].fragment.sn>n.sn)&&a&&n.level===a.level){var p=s[h+1];n=n.sn<o&&this.fragmentTracker.getState(p)!==Zt?p:null}}return n},r.synchronizeToLiveEdge=function(e){var t=this.config,r=this.media;if(r){var n=this.hls.liveSyncPosition,i=r.currentTime,a=e.fragments[0].start,s=e.edge,o=i>=a-t.maxFragLookUpTolerance&&i<=s;if(null!==n&&r.duration>n&&(i<n||!o)){var l=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!o&&r.readyState<4||i<s-l)&&(this.loadedmetadata||(this.nextLoadPosition=n),r.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+s+", reset currentTime to : "+n.toFixed(3)),r.currentTime=n))}}},r.alignPlaylists=function(e,t){var r=this.levels,n=this.levelLastLoaded,i=this.fragPrevious,a=null!==n?r[n]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var o=e.fragments[0].start,l=!t,c=e.alignedSliding&&v(o);if(l||!c&&!o){!function(e,t,r){t&&(function(e,t,r){if(function(e,t,r){return!(!t.details||!(r.endCC>r.startCC||e&&e.cc<r.startCC))}(e,r,t)){var n=function(e,t,r){var n=e.fragments,i=t.fragments;if(i.length&&n.length){var a=fr(n,i[0].cc);if(a&&(!a||a.startPTS))return a;E.log("No frag in previous level to align on")}else E.log("No fragments to align")}(r.details,t);n&&v(n.start)&&(E.log("Adjusting PTS using last level due to CC increase within current level "+t.url),gr(n.start,t))}}(e,r,t),!r.alignedSliding&&t.details&&function(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var r=t.fragments[0].programDateTime,n=e.fragments[0].programDateTime,i=(n-r)/1e3+t.fragments[0].start;i&&v(i)&&(E.log("Adjusting PTS using programDateTime delta "+(n-r)+"ms, sliding:"+i.toFixed(3)+" "+e.url+" "),gr(i,e))}}(r,t.details),r.alignedSliding||!t.details||r.skippedSegments||Dt(t.details,r))}(i,a,e);var u=e.fragments[0].start;return this.log("Live playlist sliding: "+u.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(i?i.sn:"na")+" fragments: "+s),u}return o},r.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},r.setStartPosition=function(e,t){var r=this.startPosition;if(r<t&&(r=-1),-1===r||-1===this.lastCurrentTime){var n=null!==this.startTimeOffset,i=n?this.startTimeOffset:e.startTimeOffset;null!==i&&v(i)?(r=t+i,i<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log("Start time offset "+i+" found in "+(n?"multivariant":"media")+" playlist, adjust startPosition to "+r),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r},r.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},r.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},r.resetFragmentLoading=function(e){this.fragCurrent&&(this.fragContextChanged(e)||this.state===xr)||(this.state=_r)},r.onFragmentOrKeyLoadError=function(e,t){if(t.chunkMeta&&!t.frag){var r=this.getCurrentContext(t.chunkMeta);r&&(t.frag=r.frag)}var n=t.frag;if(n&&n.type===e&&this.levels)if(this.fragContextChanged(n)){var i;this.warn("Frag load error must match current frag to retry "+n.url+" > "+(null==(i=this.fragCurrent)?void 0:i.url))}else{var a=t.details===C.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);var s=t.errorAction,o=s||{},l=o.action,c=o.retryCount,u=void 0===c?0:c,d=o.retryConfig;if(s&&5===l&&d){var h;this.resetStartWhenNotLoaded(null!=(h=this.levelLastLoaded)?h:n.level);var f=Ft(d,u);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" errored with "+t.details+", retrying loading "+(u+1)+"/"+d.maxNumRetry+" in "+f+"ms"),s.resolved=!0,this.retryDate=self.performance.now()+f,this.state=xr}else d&&s?(this.resetFragmentErrors(e),u<d.maxNumRetry?a||(s.resolved=!0):E.warn(t.details+" reached or exceeded max retry ("+u+")")):2===(null==s?void 0:s.action)?this.state=Ir:this.state=Rr;this.tickImmediate()}},r.reduceLengthAndFlushBuffer=function(e){if(this.state===wr||this.state===Sr){var t=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,t),n=r&&r.len>.5;n&&this.reduceMaxBufferLength(r.len);var i=!n;return i&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+t+" buffer"),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),i}return!1},r.resetFragmentErrors=function(e){e===ct&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Cr&&(this.state=_r)},r.afterBufferFlushed=function(e,t,r){if(e){var n=dr.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,n,r),this.state===Lr&&this.resetLoadingState()}},r.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=_r},r.resetStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;null!=t&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},r.resetWhenMissingContext=function(e){var t;this.warn("The loading context changed while buffering fragment "+e.sn+" of level "+e.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(null!=(t=this.levelLastLoaded)?t:e.level),this.resetLoadingState()},r.removeUnbufferedFrags=function(e){void 0===e&&(e=0),this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)},r.updateLevelTiming=function(e,t,r,n){var i,a=this,s=r.details;if(s){if(Object.keys(e.elementaryStreams).reduce((function(t,i){var o=e.elementaryStreams[i];if(o){var l=o.endPTS-o.startPTS;if(l<=0)return a.warn("Could not parse fragment "+e.sn+" "+i+" duration reliably ("+l+")"),t||!1;var c=n?0:Lt(s,e,o.startPTS,o.endPTS,o.startDTS,o.endDTS);return a.hls.trigger(y.LEVEL_PTS_UPDATED,{details:s,level:r,drift:c,type:i,frag:e,start:o.startPTS,end:o.endPTS}),!0}return t}),!1))r.fragmentError=0;else if(null===(null==(i=this.transmuxer)?void 0:i.error)){var o=new Error("Found no media in fragment "+e.sn+" of level "+e.level+" resetting transmuxer to fallback to playlist timing");if(0===r.fragmentError&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(o.message),this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,fatal:!1,error:o,frag:e,reason:"Found no media in msn "+e.sn+' of level "'+r.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=Sr,this.hls.trigger(y.FRAG_PARSED,{frag:e,part:t})}else this.warn("level.details undefined")},r.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},r.recoverWorkerError=function(e){var t,r,n;"demuxerWorker"===e.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(null!=(t=null!=(r=this.levelLastLoaded)?r:null==(n=this.fragCurrent)?void 0:n.level)?t:0),this.resetLoadingState())},a(t,[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}]),t}(cr);function Pr(){return self.SourceBuffer||self.WebKitSourceBuffer}function Mr(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}var Or=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,r,n){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(e){this.initPTS=e,this.resetContiguity()},t.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,r){},t.demux=function(e,t){this.cachedData&&(e=Se(this.cachedData,e),this.cachedData=null);var r,n=re(e,0),i=n?n.length:0,a=this._audioTrack,s=this._id3Track,o=n?function(e){for(var t=oe(e),r=0;r<t.length;r++){var n=t[r];if(ae(n))return he(n)}}(n):void 0,l=e.length;for((null===this.basePTS||0===this.frameIndex&&v(o))&&(this.basePTS=Fr(o,t,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),n&&n.length>0&&s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vt,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){var c=this.appendFrame(a,e,i);c?(this.frameIndex++,this.lastPTS=c.sample.pts,r=i+=c.length):i=l}else ie(e,i)?(n=re(e,i),s.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vt,duration:Number.POSITIVE_INFINITY}),r=i+=n.length):i++;if(i===l&&r!==l){var u=J(e,r);this.cachedData?this.cachedData=Se(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:Mr(),id3Track:s,textTrack:Mr()}},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Mr(),id3Track:this._id3Track,textTrack:Mr()}},t.destroy=function(){},e}(),Fr=function(e,t,r){return v(e)?90*e:9e4*t+(r?9e4*r.baseTime/r.timescale:0)};function Nr(e,t){return 255===e[t]&&240==(246&e[t+1])}function Ur(e,t){return 1&e[t+1]?7:9}function Gr(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function Hr(e,t){return t+1<e.length&&Nr(e,t)}function Vr(e,t){if(Hr(e,t)){var r=Ur(e,t);if(t+r>=e.length)return!1;var n=Gr(e,t);if(n<=r)return!1;var i=t+n;return i===e.length||Hr(e,i)}return!1}function zr(e,t,r,n,i){if(!e.samplerate){var a=function(e,t,r,n){var i,a,s,o,l=navigator.userAgent.toLowerCase(),c=n,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&t[r+2])>>>6);var d=(60&t[r+2])>>>2;if(!(d>u.length-1))return s=(1&t[r+2])<<2,s|=(192&t[r+3])>>>6,E.log("manifest codec:"+n+", ADTS type:"+i+", samplingIndex:"+d),/firefox/i.test(l)?d>=6?(i=5,o=new Array(4),a=d-3):(i=2,o=new Array(2),a=d):-1!==l.indexOf("android")?(i=2,o=new Array(2),a=d):(i=5,o=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&d>=6?a=d-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(d>=6&&1===s||/vivaldi/i.test(l))||!n&&1===s)&&(i=2,o=new Array(2)),a=d)),o[0]=i<<3,o[0]|=(14&d)>>1,o[1]|=(1&d)<<7,o[1]|=s<<3,5===i&&(o[1]|=(14&a)>>1,o[2]=(1&a)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:s,codec:"mp4a.40."+i,manifestCodec:c};e.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+d})}(t,r,n,i);if(!a)return;e.config=a.config,e.samplerate=a.samplerate,e.channelCount=a.channelCount,e.codec=a.codec,e.manifestCodec=a.manifestCodec,E.log("parsed codec:"+e.codec+", rate:"+a.samplerate+", channels:"+a.channelCount)}}function jr(e){return 9216e4/e}function Kr(e,t,r,n,i){var a,s=n+i*jr(e.samplerate),o=function(e,t){var r=Ur(e,t);if(t+r<=e.length){var n=Gr(e,t)-r;if(n>0)return{headerLength:r,frameLength:n}}}(t,r);if(o){var l=o.frameLength,c=o.headerLength,u=c+l,d=Math.max(0,r+u-t.length);d?(a=new Uint8Array(u-c)).set(t.subarray(r+c,t.length),0):a=t.subarray(r+c,r+u);var h={unit:a,pts:s};return d||e.samples.push(h),{sample:h,length:u,missing:d}}var f=t.length-r;return(a=new Uint8Array(f)).set(t.subarray(r,t.length),0),{sample:{unit:a,pts:s},length:f,missing:-1}}var qr=function(e){function t(t,r){var n;return(n=e.call(this)||this).observer=void 0,n.config=void 0,n.observer=t,n.config=r,n}l(t,e);var r=t.prototype;return r.resetInitSegment=function(t,r,n,i){e.prototype.resetInitSegment.call(this,t,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=(re(e,0)||[]).length,r=e.length;t<r;t++)if(Vr(e,t))return E.log("ADTS sync word found !"),!0;return!1},r.canParse=function(e,t){return function(e,t){return function(e,t){return t+5<e.length}(e,t)&&Nr(e,t)&&Gr(e,t)<=e.length-t}(e,t)},r.appendFrame=function(e,t,r){zr(e,this.observer,t,r,e.manifestCodec);var n=Kr(e,t,r,this.basePTS,this.frameIndex);if(n&&0===n.missing)return n},t}(Or),Wr=/\/emsg[-/]ID3/i,Yr=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,r,n){var i=this.videoTrack=Mr("video",1),a=this.audioTrack=Mr("audio",1),s=this.txtTrack=Mr("text",1);if(this.id3Track=Mr("id3",1),this.timeOffset=0,null!=e&&e.byteLength){var o=xe(e);if(o.video){var l=o.video,c=l.id,u=l.timescale,d=l.codec;i.id=c,i.timescale=s.timescale=u,i.codec=d}if(o.audio){var h=o.audio,f=h.id,p=h.timescale,g=h.codec;a.id=f,a.timescale=p,a.codec=g}s.id=Ae.text,i.sampleDuration=0,i.duration=a.duration=n}},t.resetContiguity=function(){this.remainderData=null},e.probe=function(e){return ke(e=e.length>16384?e.subarray(0,16384):e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var r=e,n=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Se(this.remainderData,e));var a=function(e){var t={valid:null,remainder:null},r=ke(e,["moof"]);if(!r)return t;if(r.length<2)return t.remainder=e,t;var n=r[r.length-1];return t.valid=J(e,0,n.byteOffset-8),t.remainder=J(e,n.byteOffset-8),t}(r);this.remainderData=a.remainder,n.samples=a.valid||new Uint8Array}else n.samples=r;var s=this.extractID3Track(n,t);return i.samples=Le(t,n),{videoTrack:n,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var n=this.extractID3Track(t,this.timeOffset);return r.samples=Le(e,t),{videoTrack:t,audioTrack:Mr(),id3Track:n,textTrack:Mr()}},t.extractID3Track=function(e,t){var r=this.id3Track;if(e.samples.length){var n=ke(e.samples,["emsg"]);n&&n.forEach((function(e){var n=function(e){var t=e[0],r="",n="",i=0,a=0,s=0,o=0,l=0,c=0;if(0===t){for(;"\0"!==ve(e.subarray(c,c+1));)r+=ve(e.subarray(c,c+1)),c+=1;for(r+=ve(e.subarray(c,c+1)),c+=1;"\0"!==ve(e.subarray(c,c+1));)n+=ve(e.subarray(c,c+1)),c+=1;n+=ve(e.subarray(c,c+1)),c+=1,i=be(e,12),a=be(e,16),o=be(e,20),l=be(e,24),c=28}else if(1===t){i=be(e,c+=4);var u=be(e,c+=4),d=be(e,c+=4);for(c+=4,s=Math.pow(2,32)*u+d,Number.isSafeInteger(s)||(s=Number.MAX_SAFE_INTEGER,E.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=be(e,c),l=be(e,c+=4),c+=4;"\0"!==ve(e.subarray(c,c+1));)r+=ve(e.subarray(c,c+1)),c+=1;for(r+=ve(e.subarray(c,c+1)),c+=1;"\0"!==ve(e.subarray(c,c+1));)n+=ve(e.subarray(c,c+1)),c+=1;n+=ve(e.subarray(c,c+1)),c+=1}return{schemeIdUri:r,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:l,payload:e.subarray(c,e.byteLength)}}(e);if(Wr.test(n.schemeIdUri)){var i=v(n.presentationTime)?n.presentationTime/n.timeScale:t+n.presentationTimeDelta/n.timeScale,a=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;a<=.001&&(a=Number.POSITIVE_INFINITY);var s=n.payload;r.samples.push({data:s,len:s.byteLength,dts:i,pts:i,type:yt,duration:a})}}))}return r},t.demuxSampleAes=function(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}(),$r=null,Qr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Xr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Jr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Zr=[0,1,1,4];function en(e,t,r,n,i){if(!(r+24>t.length)){var a=tn(t,r);if(a&&r+a.frameLength<=t.length){var s=n+i*(9e4*a.samplesPerFrame/a.sampleRate),o={unit:t.subarray(r,r+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(o),{sample:o,length:a.frameLength,missing:0}}}}function tn(e,t){var r=e[t+1]>>3&3,n=e[t+1]>>1&3,i=e[t+2]>>4&15,a=e[t+2]>>2&3;if(1!==r&&0!==i&&15!==i&&3!==a){var s=e[t+2]>>1&1,o=e[t+3]>>6,l=1e3*Qr[14*(3===r?3-n:3===n?3:4)+i-1],c=Xr[3*(3===r?0:2===r?1:2)+a],u=3===o?1:2,d=Jr[r][n],h=Zr[n],f=8*d*h,p=Math.floor(d*l/c+s)*h;if(null===$r){var g=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);$r=g?parseInt(g[1]):0}return!!$r&&$r<=87&&2===n&&l>=224e3&&0===o&&(e[t+3]=128|e[t+3]),{sampleRate:c,channelCount:u,frameLength:p,samplesPerFrame:f}}}function rn(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])}function nn(e,t){return t+1<e.length&&rn(e,t)}function an(e,t){if(t+1<e.length&&rn(e,t)){var r=tn(e,t),n=4;null!=r&&r.frameLength&&(n=r.frameLength);var i=t+n;return i===e.length||nn(e,i)}return!1}var sn=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");n.set(e.subarray(r,r+i)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;e=Math.min(e,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;if(e>32&&E.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,r=8,n=0;n<e;n++)0!==r&&(r=(t+this.readEG()+256)%256),t=0===r?t:r},t.readSPS=function(){var e,t,r,n=0,i=0,a=0,s=0,o=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);o();var g=o();if(l(5),d(3),o(),f(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var m=c();if(3===m&&d(1),f(),f(),d(1),u())for(t=3!==m?8:12,r=0;r<t;r++)u()&&p(r<6?16:64)}f();var A=c();if(0===A)c();else if(1===A)for(d(1),h(),h(),e=c(),r=0;r<e;r++)h();f(),d(1);var v=c(),y=c(),b=l(1);0===b&&d(1),d(1),u()&&(n=c(),i=c(),a=c(),s=c());var C=[1,1];if(u()&&u())switch(o()){case 1:C=[1,1];break;case 2:C=[12,11];break;case 3:C=[10,11];break;case 4:C=[16,11];break;case 5:C=[40,33];break;case 6:C=[24,11];break;case 7:C=[20,11];break;case 8:C=[32,11];break;case 9:C=[80,33];break;case 10:C=[18,11];break;case 11:C=[15,11];break;case 12:C=[64,33];break;case 13:C=[160,99];break;case 14:C=[4,3];break;case 15:C=[3,2];break;case 16:C=[2,1];break;case 255:C=[o()<<8|o(),o()<<8|o()]}return{width:Math.ceil(16*(v+1)-2*n-2*i),height:(2-b)*(y+1)*16-(b?2:4)*(a+s),pixelRatio:C}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),on=function(){function e(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new br(t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)},t.decryptAacSample=function(e,t,r){var n=this,i=e[t].unit;if(!(i.length<=16)){var a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then((function(a){var s=new Uint8Array(a);i.set(s,16),n.decrypter.isSync()||n.decryptAacSamples(e,t+1,r)}))}},t.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32||(this.decryptAacSample(e,t,r),this.decrypter.isSync())))return}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)r.set(e.subarray(i,i+16),n);return r},t.getAvcDecryptedUnit=function(e,t){for(var r=new Uint8Array(t),n=0,i=32;i<e.length-16;i+=160,n+=16)e.set(r.subarray(n,n+16),i);return e},t.decryptAvcSample=function(e,t,r,n,i){var a=this,s=Ie(i.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then((function(o){i.data=a.getAvcDecryptedUnit(s,o),a.decrypter.isSync()||a.decryptAvcSamples(e,t,r+1,n)}))},t.decryptAvcSamples=function(e,t,r,n){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length)return void n();for(var i=e[t].units;!(r>=i.length);r++){var a=i[r];if(!(a.data.length<=48||1!==a.type&&5!==a.type||(this.decryptAvcSample(e,t,r,n,a),this.decrypter.isSync())))return}}},e}(),ln=188,cn=function(){function e(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=r}e.probe=function(t){var r=e.syncOffset(t);return r>0&&E.warn("MPEG2-TS detected but first sync word found @ offset "+r),-1!==r},e.syncOffset=function(e){for(var t=e.length,r=Math.min(940,e.length-ln)+1,n=0;n<r;){for(var i=!1,a=-1,s=0,o=n;o<t;o+=ln){if(71!==e[o]){if(s)return-1;break}if(s++,-1===a&&0!==(a=o)&&(r=Math.min(a+18612,e.length-ln)+1),i||(i=0===dn(e,o)),i&&s>1&&(0===a&&s>2||o+ln>r))return a}n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:Ae[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,r=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null},t.demux=function(t,r,n,i){var a;void 0===n&&(n=!1),void 0===i&&(i=!1),n||(this.sampleAes=null);var s=this._avcTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack,u=s.pid,d=s.pesData,h=o.pid,f=l.pid,p=o.pesData,g=l.pesData,m=null,A=this.pmtParsed,v=this._pmtId,_=t.length;if(this.remainderData&&(_=(t=Se(this.remainderData,t)).length,this.remainderData=null),_<ln&&!i)return this.remainderData=t,{audioTrack:o,videoTrack:s,id3Track:l,textTrack:c};var k=Math.max(0,e.syncOffset(t));(_-=(_-k)%ln)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,_,t.buffer.byteLength-_));for(var T=0,x=k;x<_;x+=ln)if(71===t[x]){var w=!!(64&t[x+1]),S=dn(t,x),L=void 0;if((48&t[x+3])>>4>1){if((L=x+5+t[x+4])===x+ln)continue}else L=x+4;switch(S){case u:w&&(d&&(a=pn(d))&&this.parseAVCPES(s,c,a,!1),d={data:[],size:0}),d&&(d.data.push(t.subarray(L,x+ln)),d.size+=x+ln-L);break;case h:if(w){if(p&&(a=pn(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a)}p={data:[],size:0}}p&&(p.data.push(t.subarray(L,x+ln)),p.size+=x+ln-L);break;case f:w&&(g&&(a=pn(g))&&this.parseID3PES(l,a),g={data:[],size:0}),g&&(g.data.push(t.subarray(L,x+ln)),g.size+=x+ln-L);break;case 0:w&&(L+=t[L]+1),v=this._pmtId=hn(t,L);break;case v:w&&(L+=t[L]+1);var R=fn(t,L,this.typeSupported,n);(u=R.avc)>0&&(s.pid=u),(h=R.audio)>0&&(o.pid=h,o.segmentCodec=R.segmentCodec),(f=R.id3)>0&&(l.pid=f),null===m||A||(E.warn("MPEG-TS PMT found at "+x+" after unknown PID '"+m+"'. Backtracking to sync byte @"+k+" to parse all TS packets."),m=null,x=k-188),A=this.pmtParsed=!0;break;case 17:case 8191:break;default:m=S}}else T++;if(T>0){var D=new Error("Found "+T+" TS packet/s that do not start with 0x47");this.observer.emit(y.ERROR,y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,fatal:!1,error:D,reason:D.message})}s.pesData=d,o.pesData=p,l.pesData=g;var I={audioTrack:o,videoTrack:s,id3Track:l,textTrack:c};return i&&this.extractRemainingSamples(I),I},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,r=e.audioTrack,n=e.videoTrack,i=e.id3Track,a=e.textTrack,s=n.pesData,o=r.pesData,l=i.pesData;if(s&&(t=pn(s))?(this.parseAVCPES(n,a,t,!0),n.pesData=null):n.pesData=s,o&&(t=pn(o))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,t);break;case"mp3":this.parseMPEGPES(r,t)}r.pesData=null}else null!=o&&o.size&&E.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;l&&(t=pn(l))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=l},t.demuxSampleAes=function(e,t,r){var n=this.demux(e,r,!0,!this.config.progressive),i=this.sampleAes=new on(this.observer,this.config,t);return this.decrypt(n,i)},t.decrypt=function(e,t){return new Promise((function(r){var n=e.audioTrack,i=e.videoTrack;n.samples&&"aac"===n.segmentCodec?t.decryptAacSamples(n.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){r(e)})):r(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){r(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,r,n){var i,a=this,s=this.parseAVCNALu(e,r.data),o=this.avcSample,l=!1;r.data=null,o&&s.length&&!e.audFound&&(gn(o,e),o=this.avcSample=un(!1,r.pts,r.dts,"")),s.forEach((function(n){var s;switch(n.type){case 1:var c=!1;i=!0;var u,d=n.data;if(l&&d.length>4){var h=new sn(d).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(c=!0)}c&&null!=(u=o)&&u.frame&&!o.key&&(gn(o,e),o=a.avcSample=null),o||(o=a.avcSample=un(!0,r.pts,r.dts,"")),o.frame=!0,o.key=c;break;case 5:i=!0,null!=(s=o)&&s.frame&&!o.key&&(gn(o,e),o=a.avcSample=null),o||(o=a.avcSample=un(!0,r.pts,r.dts,"")),o.key=!0,o.frame=!0;break;case 6:i=!0,De(n.data,1,r.pts,t.samples);break;case 7:if(i=!0,l=!0,!e.sps){var f=n.data,p=new sn(f).readSPS();e.width=p.width,e.height=p.height,e.pixelRatio=p.pixelRatio,e.sps=[f],e.duration=a._duration;for(var g=f.subarray(1,4),m="avc1.",A=0;A<3;A++){var v=g[A].toString(16);v.length<2&&(v="0"+v),m+=v}e.codec=m}break;case 8:i=!0,e.pps||(e.pps=[n.data]);break;case 9:i=!1,e.audFound=!0,o&&gn(o,e),o=a.avcSample=un(!1,r.pts,r.dts,"");break;case 12:i=!0;break;default:i=!1,o&&(o.debug+="unknown NAL "+n.type+" ")}o&&i&&o.units.push(n)})),n&&o&&(gn(o,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,r,n=this.avcSample;if(n&&0!==n.units.length||(n=e[e.length-1]),null!=(t=n)&&t.units){var i=n.units;r=i[i.length-1]}return r},t.parseAVCNALu=function(e,t){var r,n,i=t.byteLength,a=e.naluState||0,s=a,o=[],l=0,c=-1,u=0;for(-1===a&&(c=0,u=31&t[0],a=0,l=1);l<i;)if(r=t[l++],a)if(1!==a)if(r)if(1===r){if(c>=0){var d={data:t.subarray(c,l-a-1),type:u};o.push(d)}else{var h=this.getLastNalUnit(e.samples);if(h&&(s&&l<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),(n=l-a-1)>0)){var f=new Uint8Array(h.data.byteLength+n);f.set(h.data,0),f.set(t.subarray(0,n),h.data.byteLength),h.data=f,h.state=0}}l<i?(c=l,u=31&t[l],a=0):a=-1}else a=0;else a=3;else a=r?0:2;else a=r?0:1;if(c>=0&&a>=0){var p={data:t.subarray(c,i),type:u,state:a};o.push(p)}if(0===o.length){var g=this.getLastNalUnit(e.samples);if(g){var m=new Uint8Array(g.data.byteLength+t.byteLength);m.set(g.data,0),m.set(t,g.data.byteLength),g.data=m}}return e.naluState=a,o},t.parseAACPES=function(e,t){var r,n,i,a=0,s=this.aacOverFlow,o=t.data;if(s){this.aacOverFlow=null;var l=s.missing,c=s.sample.unit.byteLength;if(-1===l){var u=new Uint8Array(c+o.byteLength);u.set(s.sample.unit,0),u.set(o,c),o=u}else{var d=c-l;s.sample.unit.set(o.subarray(0,l),d),e.samples.push(s.sample),a=s.missing}}for(r=a,n=o.length;r<n-1&&!Hr(o,r);r++);if(r!==a){var h,f=r<n-1;h=f?"AAC PES did not start with ADTS header,offset:"+r:"No ADTS header found in AAC PES";var p=new Error(h);if(E.warn("parsing error: "+h),this.observer.emit(y.ERROR,y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,fatal:!1,levelRetry:f,error:p,reason:h}),!f)return}if(zr(e,this.observer,o,r,this.audioCodec),void 0!==t.pts)i=t.pts;else{if(!s)return void E.warn("[tsdemuxer]: AAC PES unknown PTS");var g=jr(e.samplerate);i=s.sample.pts+g}for(var m,A=0;r<n;){if(r+=(m=Kr(e,o,r,i,A)).length,m.missing){this.aacOverFlow=m;break}for(A++;r<n-1&&!Hr(o,r);r++);}},t.parseMPEGPES=function(e,t){var r=t.data,n=r.length,i=0,a=0,s=t.pts;if(void 0!==s)for(;a<n;)if(nn(r,a)){var o=en(e,r,a,s,i);if(!o)break;a+=o.length,i++}else a++;else E.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var r=o({},t,{type:this._avcTrack?yt:vt,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}else E.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function un(e,t,r,n){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:n,length:0}}function dn(e,t){return((31&e[t+1])<<8)+e[t+2]}function hn(e,t){return(31&e[t+10])<<8|e[t+11]}function fn(e,t,r,n){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){var s=dn(e,t);switch(e[t]){case 207:if(!n){E.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=s);break;case 21:-1===i.id3&&(i.id3=s);break;case 219:if(!n){E.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=s);break;case 3:case 4:!0!==r.mpeg&&!0!==r.mp3?E.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=s,i.segmentCodec="mp3");break;case 36:E.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function pn(e){var t,r,n,i,a,s=0,o=e.data;if(!e||0===e.size)return null;for(;o[0].length<19&&o.length>1;){var l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(1===((t=o[0])[0]<<16)+(t[1]<<8)+t[2]){if((r=(t[4]<<8)+t[5])&&r>e.size-6)return null;var c=t[7];192&c&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?i-(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(E.warn(Math.round((i-a)/9e4)+"s delta between PTS and DTS, align them"),i=a):a=i);var u=(n=t[8])+9;if(e.size<=u)return null;e.size-=u;for(var d=new Uint8Array(e.size),h=0,f=o.length;h<f;h++){var p=(t=o[h]).byteLength;if(u){if(u>p){u-=p;continue}t=t.subarray(u),p-=u,u=0}d.set(t,s),s+=p}return r&&(r-=n+3),{data:d,pts:i,dts:a,len:r}}return null}function gn(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var r=t.samples,n=r.length;if(!n)return void t.dropped++;var i=r[n-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&E.log(e.pts+"/"+e.dts+":"+e.debug)}var mn=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var r=t.prototype;return r.resetInitSegment=function(t,r,n,i){e.prototype.resetInitSegment.call(this,t,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}},t.probe=function(e){if(!e)return!1;for(var t=(re(e,0)||[]).length,r=e.length;t<r;t++)if(an(e,t))return E.log("MPEG Audio sync word found !"),!0;return!1},r.canParse=function(e,t){return function(e,t){return rn(e,t)&&4<=e.length-t}(e,t)},r.appendFrame=function(e,t,r){if(null!==this.basePTS)return en(e,t,r,this.basePTS,this.frameIndex)},t}(Or),An=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}(),vn=Math.pow(2,32)-1,yn=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:n};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(var a=n.length,s=a;a--;)t+=n[a].byteLength;var o=new Uint8Array(t);for(o[0]=t>>24&255,o[1]=t>>16&255,o[2]=t>>8&255,o[3]=255&t,o.set(e,4),a=0,t=8;a<s;a++)o.set(n[a],t),t+=n[a].byteLength;return o},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var n=Math.floor(r/(vn+1)),i=Math.floor(r%(vn+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,r))},e.moov=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,n=[];r--;)n[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(n))},e.mvhd=function(t,r){r*=t;var n=Math.floor(r/(vn+1)),i=Math.floor(r%(vn+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,i>>24,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var r,n,i=t.samples||[],a=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,a[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,n,i,a=[],s=[];for(r=0;r<t.sps.length;r++)i=(n=t.sps[r]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(n));for(r=0;r<t.pps.length;r++)i=(n=t.pps[r]).byteLength,s.push(i>>>8&255),s.push(255&i),s=s.concat(Array.prototype.slice.call(n));var o=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(s))),l=t.width,c=t.height,u=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,n=t.duration*t.timescale,i=t.width,a=t.height,s=Math.floor(n/(vn+1)),o=Math.floor(n%(vn+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,r){var n=e.sdtp(t),i=t.id,a=Math.floor(r/(vn+1)),s=Math.floor(r%(vn+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,n.length+16+20+8+16+8+8),n)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var n,i,a,s,o,l,c=t.samples||[],u=c.length,d=12+16*u,h=new Uint8Array(d);for(r+=8+d,h.set(["video"===t.type?1:0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),n=0;n<u;n++)a=(i=c[n]).duration,s=i.size,o=i.flags,l=i.cts,h.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,h)},e.initSegment=function(t){e.types||e.init();var r=e.moov(t),n=new Uint8Array(e.FTYP.byteLength+r.byteLength);return n.set(e.FTYP),n.set(r,e.FTYP.byteLength),n},e}();function bn(e,t,r,n){void 0===r&&(r=1),void 0===n&&(n=!1);var i=e*t*r;return n?Math.round(i):i}function Cn(e,t){return void 0===t&&(t=!1),bn(e,1e3,1/9e4,t)}yn.types=void 0,yn.HDLR_TYPES=void 0,yn.STTS=void 0,yn.STSC=void 0,yn.STCO=void 0,yn.STSZ=void 0,yn.VMHD=void 0,yn.SMHD=void 0,yn.STSD=void 0,yn.FTYP=void 0,yn.DINF=void 0;var _n=null,kn=null,Tn=function(){function e(e,t,r,n){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,null===_n){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);_n=i?parseInt(i[1]):0}if(null===kn){var a=navigator.userAgent.match(/Safari\/(\d+)/i);kn=a?parseInt(a[1]):0}}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){E.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){E.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){E.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,r=e.reduce((function(e,r){var n=r.pts-e;return n<-4294967296?(t=!0,xn(e,r.pts)):n>0?e:r.pts}),e[0].pts);return t&&E.debug("PTS rollover detected"),r},t.remux=function(e,t,r,n,i,a,s,o){var l,c,u,d,h,f,p=i,g=i,m=e.pid>-1,A=t.pid>-1,v=t.samples.length,y=e.samples.length>0,b=s&&v>0||v>1;if((!m||y)&&(!A||b)||this.ISGenerated||s){this.ISGenerated||(u=this.generateIS(e,t,i,a));var C,_=this.isVideoContiguous,k=-1;if(b&&(k=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!_&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,k>0){E.warn("[mp4-remuxer]: Dropped "+k+" out of "+v+" video samples due to a missing keyframe");var T=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(k),t.dropped+=k,C=g+=(t.samples[0].pts-T)/t.inputTimeScale}else-1===k&&(E.warn("[mp4-remuxer]: No keyframe found out of "+v+" video samples"),f=!1);if(this.ISGenerated){if(y&&b){var x=this.getVideoStartPts(t.samples),w=(xn(e.samples[0].pts,x)-x)/t.inputTimeScale;p+=Math.max(0,w),g+=Math.max(0,-w)}if(y){if(e.samplerate||(E.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(e,t,i,a)),c=this.remuxAudio(e,p,this.isAudioContiguous,a,A||b||o===ct?g:void 0),b){var S=c?c.endPTS-c.startPTS:0;t.inputTimeScale||(E.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(e,t,i,a)),l=this.remuxVideo(t,g,_,S)}}else b&&(l=this.remuxVideo(t,g,_,0));l&&(l.firstKeyFrame=k,l.independent=-1!==k,l.firstKeyFramePTS=C)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(h=En(r,i,this._initPTS,this._initDTS)),n.samples.length&&(d=wn(n,i,this._initPTS))),{audio:c,video:l,initSegment:u,independent:f,text:d,id3:h}},t.generateIS=function(e,t,r,n){var i,a,s,o=e.samples,l=t.samples,c=this.typeSupported,u={},d=this._initPTS,h=!d||n,f="audio/mp4";if(h&&(i=a=1/0),e.config&&o.length&&(e.timescale=e.samplerate,"mp3"===e.segmentCodec&&(c.mpeg?(f="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),u.audio={id:"audio",container:f,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&c.mpeg?new Uint8Array(0):yn.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(s=e.inputTimeScale,d&&s===d.timescale?h=!1:i=a=o[0].pts-Math.round(s*r))),t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:yn.initSegment([t]),metadata:{width:t.width,height:t.height}},h))if(s=t.inputTimeScale,d&&s===d.timescale)h=!1;else{var p=this.getVideoStartPts(l),g=Math.round(s*r);a=Math.min(a,xn(l[0].dts,p)-g),i=Math.min(i,p-g)}if(Object.keys(u).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:i,timescale:s},this._initDTS={baseTime:a,timescale:s}):i=s=void 0,{tracks:u,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,r,n){var i,a,s=e.inputTimeScale,l=e.samples,c=[],u=l.length,d=this._initPTS,h=this.nextAvcDts,f=8,p=this.videoSampleDuration,g=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,A=!1;r&&null!==h||(h=t*s-(l[0].pts-xn(l[0].dts,l[0].pts)));for(var v=d.baseTime*s/d.timescale,_=0;_<u;_++){var k=l[_];k.pts=xn(k.pts-v,h),k.dts=xn(k.dts-v,h),k.dts<l[_>0?_-1:_].dts&&(A=!0)}A&&l.sort((function(e,t){var r=e.dts-t.dts,n=e.pts-t.pts;return r||n})),i=l[0].dts;var T=l[l.length-1].dts-i,x=T?Math.round(T/(u-1)):p||e.inputTimeScale/30;if(r){var w=i-h,S=w>x,L=w<-1;if((S||L)&&(S?E.warn("AVC: "+Cn(w,!0)+" ms ("+w+"dts) hole between fragments detected, filling it"):E.warn("AVC: "+Cn(-w,!0)+" ms ("+w+"dts) overlapping between fragments detected"),!L||h>=l[0].pts)){i=h;var R=l[0].pts-w;l[0].dts=i,l[0].pts=R,E.log("Video: First PTS/DTS adjusted: "+Cn(R,!0)+"/"+Cn(i,!0)+", delta: "+Cn(w,!0)+" ms")}}i=Math.max(0,i);for(var D=0,I=0,B=0;B<u;B++){for(var P=l[B],M=P.units,O=M.length,F=0,N=0;N<O;N++)F+=M[N].data.length;I+=F,D+=O,P.length=F,P.dts=Math.max(P.dts,i),g=Math.min(P.pts,g),m=Math.max(P.pts,m)}a=l[u-1].dts;var U,G=I+4*D+8;try{U=new Uint8Array(G)}catch(e){return void this.observer.emit(y.ERROR,y.ERROR,{type:b.MUX_ERROR,details:C.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:G,reason:"fail allocating video mdat "+G})}var H=new DataView(U.buffer);H.setUint32(0,G),U.set(yn.types.mdat,4);for(var V=!1,z=Number.POSITIVE_INFINITY,j=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,q=Number.NEGATIVE_INFINITY,W=0;W<u;W++){for(var Y=l[W],$=Y.units,Q=0,X=0,J=$.length;X<J;X++){var Z=$[X],ee=Z.data,te=Z.data.byteLength;H.setUint32(f,te),f+=4,U.set(ee,f),f+=te,Q+=4+te}var re=void 0;if(W<u-1)p=l[W+1].dts-Y.dts,re=l[W+1].pts-Y.pts;else{var ne=this.config,ie=W>0?Y.dts-l[W-1].dts:x;if(re=W>0?Y.pts-l[W-1].pts:x,ne.stretchShortVideoTrack&&null!==this.nextAudioPts){var ae=Math.floor(ne.maxBufferHole*s),se=(n?g+n*s:this.nextAudioPts)-Y.pts;se>ae?((p=se-ie)<0?p=ie:V=!0,E.log("[mp4-remuxer]: It is approximately "+se/90+" ms to the next segment; using duration "+p/90+" ms for the last video frame.")):p=ie}else p=ie}var oe=Math.round(Y.pts-Y.dts);z=Math.min(z,p),K=Math.max(K,p),j=Math.min(j,re),q=Math.max(q,re),c.push(new Ln(Y.key,p,Q,oe))}if(c.length)if(_n){if(_n<70){var le=c[0].flags;le.dependsOn=2,le.isNonSync=0}}else if(kn&&q-j<K-z&&x/K<.025&&0===c[0].cts){E.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var ce=i,ue=0,de=c.length;ue<de;ue++){var he=ce+c[ue].duration,fe=ce+c[ue].cts;if(ue<de-1){var pe=he+c[ue+1].cts;c[ue].duration=pe-fe}else c[ue].duration=ue?c[ue-1].duration:x;c[ue].cts=0,ce=he}}p=V||!p?x:p,this.nextAvcDts=h=a+p,this.videoSampleDuration=p,this.isVideoContiguous=!0;var ge={data1:yn.moof(e.sequenceNumber++,i,o({},e,{samples:c})),data2:U,startPTS:g/s,endPTS:(m+p)/s,startDTS:i/s,endDTS:h/s,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ge},t.remuxAudio=function(e,t,r,n,i){var a=e.inputTimeScale,s=a/(e.samplerate?e.samplerate:a),l="aac"===e.segmentCodec?1024:1152,c=l*s,u=this._initPTS,d="mp3"===e.segmentCodec&&this.typeSupported.mpeg,h=[],f=void 0!==i,p=e.samples,g=d?0:8,m=this.nextAudioPts||-1,A=t*a,v=u.baseTime*a/u.timescale;if(this.isAudioContiguous=r=r||p.length&&m>0&&(n&&Math.abs(A-m)<9e3||Math.abs(xn(p[0].pts-v,A)-m)<20*c),p.forEach((function(e){e.pts=xn(e.pts-v,A)})),!r||m<0){if(p=p.filter((function(e){return e.pts>=0})),!p.length)return;m=0===i?0:n&&!f?Math.max(0,A):p[0].pts}if("aac"===e.segmentCodec)for(var _=this.config.maxAudioFramesDrift,k=0,T=m;k<p.length;k++){var x=p[k],w=x.pts,S=w-T,L=Math.abs(1e3*S/a);if(S<=-_*c&&f)0===k&&(E.warn("Audio frame @ "+(w/a).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*S/a)+" ms."),this.nextAudioPts=m=T=w);else if(S>=_*c&&L<1e4&&f){var R=Math.round(S/c);(T=w-R*c)<0&&(R--,T+=c),0===k&&(this.nextAudioPts=m=T),E.warn("[mp4-remuxer]: Injecting "+R+" audio frame @ "+(T/a).toFixed(3)+"s due to "+Math.round(1e3*S/a)+" ms gap.");for(var D=0;D<R;D++){var I=Math.max(T,0),B=An.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);B||(E.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),B=x.unit.subarray()),p.splice(k,0,{unit:B,pts:I}),T+=c,k++}}x.pts=T,T+=c}for(var P,M=null,O=null,F=0,N=p.length;N--;)F+=p[N].unit.byteLength;for(var U=0,G=p.length;U<G;U++){var H=p[U],V=H.unit,z=H.pts;if(null!==O)h[U-1].duration=Math.round((z-O)/s);else{if(r&&"aac"===e.segmentCodec&&(z=m),M=z,!(F>0))return;F+=g;try{P=new Uint8Array(F)}catch(e){return void this.observer.emit(y.ERROR,y.ERROR,{type:b.MUX_ERROR,details:C.REMUX_ALLOC_ERROR,fatal:!1,error:e,bytes:F,reason:"fail allocating audio mdat "+F})}d||(new DataView(P.buffer).setUint32(0,F),P.set(yn.types.mdat,4))}P.set(V,g);var j=V.byteLength;g+=j,h.push(new Ln(!0,l,j,0)),O=z}var K=h.length;if(K){var q=h[h.length-1];this.nextAudioPts=m=O+s*q.duration;var W=d?new Uint8Array(0):yn.moof(e.sequenceNumber++,M/s,o({},e,{samples:h}));e.samples=[];var Y=M/a,$=m/a,Q={data1:W,data2:P,startPTS:Y,endPTS:$,startDTS:Y,endDTS:$,type:"audio",hasAudio:!0,hasVideo:!1,nb:K};return this.isAudioContiguous=!0,Q}},t.remuxEmptyAudio=function(e,t,r,n){var i=e.inputTimeScale,a=i/(e.samplerate?e.samplerate:i),s=this.nextAudioPts,o=this._initDTS,l=9e4*o.baseTime/o.timescale,c=(null!==s?s:n.startDTS*i)+l,u=n.endDTS*i+l,d=1024*a,h=Math.ceil((u-c)/d),f=An.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(E.warn("[mp4-remuxer]: remux empty Audio"),f){for(var p=[],g=0;g<h;g++){var m=c+g*d;p.push({unit:f,pts:m,dts:m})}return e.samples=p,this.remuxAudio(e,t,r,!1)}E.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function xn(e,t){var r;if(null===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e}function En(e,t,r,n){var i=e.samples.length;if(i){for(var a=e.inputTimeScale,s=0;s<i;s++){var o=e.samples[s];o.pts=xn(o.pts-r.baseTime*a/r.timescale,t*a)/a,o.dts=xn(o.dts-n.baseTime*a/n.timescale,t*a)/a}var l=e.samples;return e.samples=[],{samples:l}}}function wn(e,t,r){var n=e.samples.length;if(n){for(var i=e.inputTimeScale,a=0;a<n;a++){var s=e.samples[a];s.pts=xn(s.pts-r.baseTime*i/r.timescale,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var o=e.samples;return e.samples=[],{samples:o}}}var Sn,Ln=function(e,t,r,n){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=n,this.flags=new Rn(e)},Rn=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1},Dn=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndTime=null},t.resetNextTimestamp=function(){this.lastEndTime=null},t.resetInitSegment=function(e,t,r,n){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(function(e,t){if(!e||!t)return e;var r=t.keyId;return r&&t.isCommonEncryption&&ke(e,["moov","trak"]).forEach((function(e){var t=ke(e,["mdia","minf","stbl","stsd"])[0].subarray(8),n=ke(t,["enca"]),i=n.length>0;i||(n=ke(t,["encv"])),n.forEach((function(e){ke(i?e.subarray(28):e.subarray(78),["sinf"]).forEach((function(e){var t=Ee(e);if(t){var n=t.subarray(8,24);n.some((function(e){return 0!==e}))||(E.log("[eme] Patching keyId in 'enc"+(i?"a":"v")+">sinf>>tenc' box: "+pe(n)+" -> "+pe(r)),t.set(r,8))}}))}))})),e}(e,n)),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,r=this.videoCodec;if(null==e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var n=this.initData=xe(e);t||(t=In(n.audio,B)),r||(r=In(n.video,P));var i={};n.audio&&n.video?i.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:n.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:n.video?i.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:E.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,r,n,i,a){var s,o,l=this.initPTS,c=this.lastEndTime,u={audio:void 0,video:void 0,text:n,id3:r,initSegment:void 0};v(c)||(c=this.lastEndTime=i||0);var d=t.samples;if(null==d||!d.length)return u;var h={initPTS:void 0,timescale:1},f=this.initData;if(null!=(s=f)&&s.length||(this.generateInitSegment(d),f=this.initData),null==(o=f)||!o.length)return E.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);var p=function(e,t){for(var r=0,n=0,i=0,a=ke(e,["moof","traf"]),s=0;s<a.length;s++){var o=a[s],l=ke(o,["tfhd"])[0],c=t[be(l,4)];if(c){var u=c.default,d=be(l,0)|(null==u?void 0:u.flags),h=null==u?void 0:u.duration;8&d&&(h=be(l,2&d?12:8));for(var f=c.timescale||9e4,p=ke(o,["trun"]),g=0;g<p.length;g++)!(r=we(p[g]))&&h&&(r=h*be(p[g],4)),c.type===P?n+=r/f:c.type===B&&(i+=r/f)}}if(0===n&&0===i){for(var m=0,A=ke(e,["sidx"]),v=0;v<A.length;v++){var y=Te(A[v]);null!=y&&y.references&&(m+=y.references.reduce((function(e,t){return e+t.info.duration||0}),0))}return m}return n||i}(d,f),g=function(e,t){return ke(t,["moof","traf"]).reduce((function(t,r){var n=ke(r,["tfdt"])[0],i=n[0],a=ke(r,["tfhd"]).reduce((function(t,r){var a=be(r,4),s=e[a];if(s){var o=be(n,4);if(1===i){if(o===ge)return E.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),t;o*=ge+1,o+=be(n,8)}var l=o/(s.timescale||9e4);if(isFinite(l)&&(null===t||l<t))return l}return t}),null);return null!==a&&isFinite(a)&&(null===t||a<t)?a:t}),null)}(f,d),m=null===g?i:g;(function(e,t,r,n){if(null===e)return!0;var i=Math.max(n,1),a=t-e.baseTime/e.timescale;return Math.abs(a-r)>i}(l,m,i,p)||h.timescale!==l.timescale&&a)&&(h.initPTS=m-i,l&&1===l.timescale&&E.warn("Adjusting initPTS by "+(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});var A=e?m-l.baseTime/l.timescale:c,y=A+p;!function(e,t,r){ke(t,["moof","traf"]).forEach((function(t){ke(t,["tfhd"]).forEach((function(n){var i=be(n,4),a=e[i];if(a){var s=a.timescale||9e4;ke(t,["tfdt"]).forEach((function(e){var t=e[0],n=be(e,4);if(0===t)n-=r*s,_e(e,4,n=Math.max(n,0));else{n*=Math.pow(2,32),n+=be(e,8),n-=r*s,n=Math.max(n,0);var i=Math.floor(n/(ge+1)),a=Math.floor(n%(ge+1));_e(e,4,i),_e(e,8,a)}}))}}))}))}(f,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(E.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!f.audio,C=!!f.video,_="";b&&(_+="audio"),C&&(_+="video");var k={data1:d,startPTS:A,startDTS:A,endPTS:y,endDTS:y,type:_,hasAudio:b,hasVideo:C,nb:1,dropped:0};return u.audio="audio"===k.type?k:void 0,u.video="audio"!==k.type?k:void 0,u.initSegment=h,u.id3=En(r,i,l,l),n.samples.length&&(u.text=wn(n,i,l)),u},e}();function In(e,t){var r=null==e?void 0:e.codec;return r&&r.length>4?r:"hvc1"===r||"hev1"===r?"hvc1.1.6.L120.90":"av01"===r?"av01.0.04M.08":"avc1"===r||t===P?"avc1.42e01e":"mp4a.40.5"}try{Sn=self.performance.now.bind(self.performance)}catch(e){E.debug("Unable to use Performance API on this environment"),Sn="undefined"!=typeof self&&self.Date.now}var Bn=[{demux:Yr,remux:Dn},{demux:cn,remux:Tn},{demux:qr,remux:Tn},{demux:mn,remux:Tn}],Pn=function(){function e(e,t,r,n,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=n,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,r,n){var i=this,a=r.transmuxing;a.executeStart=Sn();var s=new Uint8Array(e),o=this.currentTransmuxState,l=this.transmuxConfig;n&&(this.currentTransmuxState=n);var c=n||o,u=c.contiguous,d=c.discontinuity,h=c.trackSwitch,f=c.accurateTimeOffset,p=c.timeOffset,g=c.initSegmentChange,m=l.audioCodec,A=l.videoCodec,v=l.defaultInitPts,_=l.duration,k=l.initSegmentData,T=function(e,t){var r=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(r=t),r}(s,t);if(T&&"AES-128"===T.method){var x=this.getDecrypter();if(!x.isSync())return this.decryptionPromise=x.webCryptoDecrypt(s,T.key.buffer,T.iv.buffer).then((function(e){var t=i.push(e,null,r);return i.decryptionPromise=null,t})),this.decryptionPromise;var w=x.softwareDecrypt(s,T.key.buffer,T.iv.buffer);if(r.part>-1&&(w=x.flush()),!w)return a.executeEnd=Sn(),Mn(r);s=new Uint8Array(w)}var S=this.needsProbing(d,h);if(S){var L=this.configureTransmuxer(s);if(L)return E.warn("[transmuxer] "+L.message),this.observer.emit(y.ERROR,y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,fatal:!1,error:L,reason:L.message}),a.executeEnd=Sn(),Mn(r)}(d||h||g||S)&&this.resetInitSegment(k,m,A,_,t),(d||g||S)&&this.resetInitialTimestamp(v),u||this.resetContiguity();var R=this.transmux(s,T,p,f,r),D=this.currentTransmuxState;return D.contiguous=!0,D.discontinuity=!1,D.trackSwitch=!1,a.executeEnd=Sn(),R},t.flush=function(e){var t=this,r=e.transmuxing;r.executeStart=Sn();var n=this.decrypter,i=this.currentTransmuxState,a=this.decryptionPromise;if(a)return a.then((function(){return t.flush(e)}));var s=[],o=i.timeOffset;if(n){var l=n.flush();l&&s.push(this.push(l,null,e))}var c=this.demuxer,u=this.remuxer;if(!c||!u)return r.executeEnd=Sn(),[Mn(e)];var d=c.flush(o);return On(d)?d.then((function(r){return t.flushRemux(s,r,e),s})):(this.flushRemux(s,d,e),s)},t.flushRemux=function(e,t,r){var n=t.audioTrack,i=t.videoTrack,a=t.id3Track,s=t.textTrack,o=this.currentTransmuxState,l=o.accurateTimeOffset,c=o.timeOffset;E.log("[transmuxer.ts]: Flushed fragment "+r.sn+(r.part>-1?" p: "+r.part:"")+" of level "+r.level);var u=this.remuxer.remux(n,i,a,s,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:r}),r.transmuxing.executeEnd=Sn()},t.resetInitialTimestamp=function(e){var t=this.demuxer,r=this.remuxer;t&&r&&(t.resetTimeStamp(e),r.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,r,n,i){var a=this.demuxer,s=this.remuxer;a&&s&&(a.resetInitSegment(e,t,r,n),s.resetInitSegment(e,t,r,i))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,r,n,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,r,n,i):this.transmuxUnencrypted(e,r,n,i)},t.transmuxUnencrypted=function(e,t,r,n){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),a=i.audioTrack,s=i.videoTrack,o=i.id3Track,l=i.textTrack;return{remuxResult:this.remuxer.remux(a,s,o,l,t,r,!1,this.id),chunkMeta:n}},t.transmuxSampleAes=function(e,t,r,n,i){var a=this;return this.demuxer.demuxSampleAes(e,t,r).then((function(e){return{remuxResult:a.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,r,n,!1,a.id),chunkMeta:i}}))},t.configureTransmuxer=function(e){for(var t,r=this.config,n=this.observer,i=this.typeSupported,a=this.vendor,s=0,o=Bn.length;s<o;s++)if(Bn[s].demux.probe(e)){t=Bn[s];break}if(!t)return new Error("Failed to find demuxer by probing fragment data");var l=this.demuxer,c=this.remuxer,u=t.remux,d=t.demux;c&&c instanceof u||(this.remuxer=new u(n,r,i,a)),l&&l instanceof d||(this.demuxer=new d(n,r,i),this.probe=d.probe)},t.needsProbing=function(e,t){return!this.demuxer||!this.remuxer||e||t},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new br(this.config)),e},e}(),Mn=function(e){return{remuxResult:{},chunkMeta:e}};function On(e){return"then"in e&&e.then instanceof Function}var Fn=function(e,t,r,n,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=n,this.defaultInitPts=i||null},Nn=function(e,t,r,n,i,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=n,this.timeOffset=i,this.initSegmentChange=a},Un={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,a||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(Un);var Gn=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Un.exports);function Hn(e,t){if(!((r=t.remuxResult).audio||r.video||r.text||r.id3||r.initSegment))return!1;var r,n=[],i=t.remuxResult,a=i.audio,s=i.video;return a&&Vn(n,a),s&&Vn(n,s),e.postMessage({event:"transmuxComplete",data:t},n),!0}function Vn(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function zn(e,t,r){t.reduce((function(t,r){return Hn(e,r)||t}),!1)||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:r})}void 0!==r&&r&&function(e){var t=new Gn,r=function(t,r){e.postMessage({event:t,data:r})};t.on(y.FRAG_DECRYPTED,r),t.on(y.ERROR,r);e.addEventListener("message",(function(n){var i=n.data;switch(i.cmd){case"init":var a=JSON.parse(i.config);e.transmuxer=new Pn(t,i.typeSupported,a,i.vendor,i.id),x(a.debug,i.id),function(){var e=function(e){E[e]=function(t){r("workerLog",{logType:e,message:t})}};for(var t in E)e(t)}(),r("init",null);break;case"configure":e.transmuxer.configure(i.config);break;case"demux":var s=e.transmuxer.push(i.data,i.decryptdata,i.chunkMeta,i.state);On(s)?(e.transmuxer.async=!0,s.then((function(t){Hn(e,t)})).catch((function(e){r(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker push error"})}))):(e.transmuxer.async=!1,Hn(e,s));break;case"flush":var o=i.chunkMeta,l=e.transmuxer.flush(o);On(l)||e.transmuxer.async?(On(l)||(l=Promise.resolve(l)),l.then((function(t){zn(e,t,o)})).catch((function(e){r(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:e,err:e,reason:"transmuxer-worker flush error"})}))):zn(e,l,o)}}))}(self);var jn=He()||{isTypeSupported:function(){return!1}},Kn=function(){function e(e,r,n,i){var a=this;this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;var s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;var o=function(e,t){(t=t||{}).frag=a.frag,t.id=a.id,e===y.ERROR&&(a.error=t.error),a.hls.trigger(e,t)};this.observer=new Gn,this.observer.on(y.FRAG_DECRYPTED,o),this.observer.on(y.ERROR,o);var l,c,u,d,h={mp4:jn.isTypeSupported("video/mp4"),mpeg:jn.isTypeSupported("audio/mpeg"),mp3:jn.isTypeSupported('audio/mp4; codecs="mp3"')},f=navigator.vendor;if(!this.useWorker||"undefined"==typeof Worker||(s.workerPath,0))this.transmuxer=new Pn(this.observer,h,s,f,r);else try{s.workerPath?(E.log("loading Web Worker "+s.workerPath+' for "'+r+'"'),this.workerContext=(u=s.workerPath,d=new self.URL(u,self.location.href).href,{worker:new self.Worker(d),scriptURL:d})):(E.log('injecting Web Worker for "'+r+'"'),this.workerContext=(l=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+t.toString()+")(true);"],{type:"text/javascript"}),c=self.URL.createObjectURL(l),{worker:new self.Worker(c),objectURL:c})),this.onwmsg=function(e){return a.onWorkerMessage(e)};var p=this.workerContext.worker;p.addEventListener("message",this.onwmsg),p.onerror=function(e){var t=new Error(e.message+"  ("+e.filename+":"+e.lineno+")");s.enableWorker=!1,E.warn('Error in "'+r+'" Web Worker, fallback to inline'),a.hls.trigger(y.ERROR,{type:b.OTHER_ERROR,details:C.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:t})},p.postMessage({cmd:"init",typeSupported:h,vendor:f,id:r,config:JSON.stringify(s)})}catch(e){E.warn('Error setting up "'+r+'" Web Worker, fallback to inline',e),this.resetWorker(),this.error=null,this.transmuxer=new Pn(this.observer,h,s,f,r)}}var r=e.prototype;return r.resetWorker=function(){if(this.workerContext){var e=this.workerContext,t=e.worker,r=e.objectURL;r&&self.URL.revokeObjectURL(r),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}},r.destroy=function(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{var e=this.transmuxer;e&&(e.destroy(),this.transmuxer=null)}var t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},r.push=function(e,t,r,n,i,a,s,o,l,c){var u,d,h=this;l.transmuxing.start=self.performance.now();var f=this.transmuxer,p=a?a.start:i.start,g=i.decryptdata,m=this.frag,A=!(m&&i.cc===m.cc),v=!(m&&l.level===m.level),y=m?l.sn-m.sn:-1,b=this.part?l.part-this.part.index:-1,C=0===y&&l.id>1&&l.id===(null==m?void 0:m.stats.chunkCount),_=!v&&(1===y||0===y&&(1===b||C&&b<=0)),k=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=k),!a||!b&&_||(a.stats.parsing.start=k);var T=!(m&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=m.initSegment)?void 0:d.url)),x=new Nn(A,_,o,v,p,T);if(!_||A||T){E.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+l.sn+" p: "+l.part+" level: "+l.level+" id: "+l.id+"\n        discontinuity: "+A+"\n        trackSwitch: "+v+"\n        contiguous: "+_+"\n        accurateTimeOffset: "+o+"\n        timeOffset: "+p+"\n        initSegmentChange: "+T);var w=new Fn(r,n,t,s,c);this.configureTransmuxer(w)}if(this.frag=i,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:g,chunkMeta:l,state:x},e instanceof ArrayBuffer?[e]:[]);else if(f){var S=f.push(e,g,l,x);On(S)?(f.async=!0,S.then((function(e){h.handleTransmuxComplete(e)})).catch((function(e){h.transmuxerError(e,l,"transmuxer-interface push error")}))):(f.async=!1,this.handleTransmuxComplete(S))}},r.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var r=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){var n=r.flush(e);On(n)||r.async?(On(n)||(n=Promise.resolve(n)),n.then((function(r){t.handleFlushResult(r,e)})).catch((function(r){t.transmuxerError(r,e,"transmuxer-interface flush error")}))):this.handleFlushResult(n,e)}},r.transmuxerError=function(e,t,r){this.hls&&(this.error=e,this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_PARSING_ERROR,chunkMeta:t,fatal:!1,error:e,err:e,reason:r}))},r.handleFlushResult=function(e,t){var r=this;e.forEach((function(e){r.handleTransmuxComplete(e)})),this.onFlush(t)},r.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":var n,i=null==(n=this.workerContext)?void 0:n.objectURL;i&&self.URL.revokeObjectURL(i);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;case"workerLog":E[t.data.logType]&&E[t.data.logType](t.data.message);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},r.configureTransmuxer=function(e){var t=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)},r.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}(),qn=function(){function e(e,t,r,n){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=n}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var r=this.config,n=this.media,i=this.stalled;if(null!==n){var a=n.currentTime,s=n.seeking,o=this.seeking&&!s,l=!this.seeking&&s;if(this.seeking=s,a===e){if(l||o)this.stalled=null;else if(!(n.paused&&!s||n.ended||0===n.playbackRate)&&dr.getBuffered(n).length){var c=dr.bufferInfo(n,a,0),u=c.len>0,d=c.nextStart||0;if(u||d){if(s){var h=c.len>2,f=!d||t&&t.start<=a||d-a>2&&!this.fragmentTracker.getPartialFragment(a);if(h||f)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var p,g=Math.max(d,c.start||0)-a,m=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,A=(null==m||null==(p=m.details)?void 0:p.live)?2*m.details.targetduration:2,v=this.fragmentTracker.getPartialFragment(a);if(g>0&&(g<=A||v))return void this._trySkipBufferHole(v)}var y=self.performance.now();if(null!==i){var b=y-i;if(s||!(b>=250)||(this._reportStall(c),this.media)){var C=dr.bufferInfo(n,a,r.maxBufferHole);this._tryFixBufferStall(C,b)}}else this.stalled=y}}}else if(this.moved=!0,null!==i){if(this.stallReported){var _=self.performance.now()-i;E.warn("playback not stuck anymore @"+a+", after "+Math.round(_)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},t._tryFixBufferStall=function(e,t){var r=this.config,n=this.fragmentTracker,i=this.media;if(null!==i){var a=i.currentTime,s=n.getPartialFragment(a);if(s&&(this._trySkipBufferHole(s)||!this.media))return;(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-a<r.maxBufferHole)&&t>1e3*r.highBufferWatchdogPeriod&&(E.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,r=this.media;if(!this.stallReported&&r){this.stallReported=!0;var n=new Error("Playback stalling at @"+r.currentTime+" due to low buffer ("+JSON.stringify(e)+")");E.warn(n.message),t.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_STALLED_ERROR,fatal:!1,error:n,buffer:e.len})}},t._trySkipBufferHole=function(e){var t=this.config,r=this.hls,n=this.media;if(null===n)return 0;var i=n.currentTime,a=dr.bufferInfo(n,i,0),s=i<a.start?a.start:a.nextStart;if(s){var o=a.len<=t.maxBufferHole,l=a.len>0&&a.len<1&&n.readyState<3,c=s-i;if(c>0&&(o||l)){if(c>t.maxBufferHole){var u=this.fragmentTracker,d=!1;if(0===i){var h=u.getAppendedFrag(0,lt);h&&s<h.end&&(d=!0)}if(!d){var f=e||u.getAppendedFrag(i,lt);if(f){for(var p=!1,g=f.end;g<s;){var m=u.getPartialFragment(g);if(!m){p=!0;break}g+=m.duration}if(p)return 0}}}var A=Math.max(s+.05,i+.1);if(E.warn("skipping hole, adjusting currentTime from "+i+" to "+A),this.moved=!0,this.stalled=null,n.currentTime=A,e&&!e.gap){var v=new Error("fragment loaded with buffer holes, seeking from "+i+" to "+A);r.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:v,reason:v.message,frag:e})}return A}}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,n=this.nudgeRetry;if(null!==r){var i=r.currentTime;if(this.nudgeRetry++,n<e.nudgeMaxRetry){var a=i+(n+1)*e.nudgeOffset,s=new Error("Nudging 'currentTime' from "+i+" to "+a);E.warn(s.message),r.currentTime=a,t.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_NUDGE_ON_STALL,error:s,fatal:!1})}else{var o=new Error("Playhead still not moving while enough data buffered @"+i+" after "+e.nudgeMaxRetry+" nudges");E.error(o.message),t.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}},e}(),Wn=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n,"[stream-controller]",lt)||this).audioCodecSwap=!1,i.gapController=null,i.level=-1,i._forceStartLoad=!1,i.altAudio=!1,i.audioOnly=!1,i.fragPlaying=null,i.onvplaying=null,i.onvseeked=null,i.fragLastKbps=0,i.couldBacktrack=!1,i.backtrackFragment=null,i.audioCodecSwitch=!1,i.videoBuffer=null,i._registerListeners(),i}l(t,e);var r=t.prototype;return r._registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.LEVEL_LOADING,this.onLevelLoading,this),e.on(y.LEVEL_LOADED,this.onLevelLoaded,this),e.on(y.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(y.ERROR,this.onError,this),e.on(y.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(y.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(y.BUFFER_CREATED,this.onBufferCreated,this),e.on(y.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(y.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(y.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.LEVEL_LOADED,this.onLevelLoaded,this),e.off(y.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(y.ERROR,this.onError,this),e.off(y.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(y.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(y.BUFFER_CREATED,this.onBufferCreated,this),e.off(y.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(y.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(y.FRAG_BUFFERED,this.onFragBuffered,this)},r.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},r.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){var n=r.startLevel;-1===n&&(r.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=r.nextAutoLevel),this.level=r.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=_r,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Cr},r.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},r.doTick=function(){switch(this.state){case Ir:var e,t=this.levels,r=this.level,n=null==t||null==(e=t[r])?void 0:e.details;if(n&&(!n.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(n))break;this.state=_r;break}if(this.hls.nextLoadLevel!==this.level){this.state=_r;break}break;case xr:var i,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!=(i=this.media)&&i.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=_r)}this.state===_r&&this.doTickIdle(),this.onTickEnd()},r.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},r.doTickIdle=function(){var e=this.hls,t=this.levelLastLoaded,r=this.levels,n=this.media,i=e.config,a=e.nextLoadLevel;if(null!==t&&(n||!this.startFragRequested&&i.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&null!=r&&r[a]){var s=r[a],o=this.getMainFwdBufferInfo();if(null!==o){var l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){var c={};return this.altAudio&&(c.type="video"),this.hls.trigger(y.BUFFER_EOS,c),void(this.state=Lr)}e.loadLevel!==a&&-1===e.manualLevel&&this.log("Adapting to level "+a+" from level "+this.level),this.level=e.nextLoadLevel=a;var u=s.details;if(!u||this.state===Ir||u.live&&this.levelLastLoaded!==a)return this.level=a,void(this.state=Ir);var d=o.len,h=this.getMaxBufferLength(s.maxBitrate);if(!(d>=h)){this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);var f=this.backtrackFragment?this.backtrackFragment.start:o.end,p=this.getNextFragment(f,u);if(this.couldBacktrack&&!this.fragPrevious&&p&&"initSegment"!==p.sn&&this.fragmentTracker.getState(p)!==Zt){var g,m=(null!=(g=this.backtrackFragment)?g:p).sn-u.startSN,A=u.fragments[m-1];A&&p.cc===A.cc&&(p=A,this.fragmentTracker.removeFragment(A))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,f)){if(!p.gap){var v=this.audioOnly&&!this.altAudio?B:P,b=(v===P?this.videoBuffer:this.mediaBuffer)||this.media;b&&this.afterBufferFlushed(b,v,lt)}p=this.getNextFragmentLoopLoading(p,u,o,lt,h)}p&&(!p.initSegment||p.initSegment.data||this.bitrateTest||(p=p.initSegment),this.loadFragment(p,s,f))}}}},r.loadFragment=function(t,r,n){var i=this.fragmentTracker.getState(t);this.fragCurrent=t,i===Qt||i===Jt?"initSegment"===t.sn?this._loadInitSegment(t,r):this.bitrateTest?(this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t,r)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n)):this.clearTrackerIfNeeded(t)},r.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,lt)},r.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},r.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},r.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!=t&&t.readyState){var r,n=this.getAppendedFrag(t.currentTime);n&&n.start>1&&this.flushMainBuffer(0,n.start-1);var i=this.getLevelDetails();if(null!=i&&i.live){var a=this.getMainFwdBufferInfo();if(!a||a.len<2*i.targetduration)return}if(!t.paused&&e){var s=e[this.hls.nextLoadLevel],o=this.fragLastKbps;r=o&&this.fragCurrent?this.fragCurrent.duration*s.maxBitrate/(1e3*o)+1:0}else r=0;var l=this.getBufferedFrag(t.currentTime+r);if(l){var c=this.followingBufferedFrag(l);if(c){this.abortCurrentFrag();var u=c.maxStartPTS?c.maxStartPTS:c.start,d=c.duration,h=Math.max(l.end,u+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,.5*d),.75*d));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}},r.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case kr:case Tr:case xr:case wr:case Sr:this.state=_r}this.nextLoadPosition=this.getLoadPosition()},r.flushMainBuffer=function(t,r){e.prototype.flushMainBuffer.call(this,t,r,this.altAudio?"video":null)},r.onMediaAttached=function(t,r){e.prototype.onMediaAttached.call(this,t,r);var n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new qn(this.config,n,this.fragmentTracker,this.hls)},r.onMediaDetaching=function(){var t=this.media;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},r.onMediaPlaying=function(){this.tick()},r.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;v(t)&&this.log("Media seeked to "+t.toFixed(3));var r=this.getMainFwdBufferInfo();null!==r&&0!==r.len?this.tick():this.warn('Main forward buffer length on "seeked" event '+(r?r.len:"empty")+")")},r.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(y.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1},r.onManifestParsed=function(e,t){var r,n,i,a=!1,s=!1;t.levels.forEach((function(e){(r=e.audioCodec)&&(-1!==r.indexOf("mp4a.40.2")&&(a=!0),-1!==r.indexOf("mp4a.40.5")&&(s=!0))})),this.audioCodecSwitch=a&&s&&!("function"==typeof(null==(i=Pr())||null==(n=i.prototype)?void 0:n.changeType)),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},r.onLevelLoading=function(e,t){var r=this.levels;if(r&&this.state===_r){var n=r[t.level];(!n.details||n.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(n.details))&&(this.state=Ir)}},r.onLevelLoaded=function(e,t){var r,n=this.levels,i=t.level,a=t.details,s=a.totalduration;if(n){this.log("Level "+i+" loaded ["+a.startSN+","+a.endSN+"]"+(a.lastPartSn?"[part-"+a.lastPartSn+"-"+a.lastPartIndex+"]":"")+", cc ["+a.startCC+", "+a.endCC+"] duration:"+s);var o=n[i],l=this.fragCurrent;!l||this.state!==Tr&&this.state!==xr||l.level===t.level&&l.urlId===o.urlId||!l.loader||this.abortCurrentFrag();var c=0;if(a.live||null!=(r=o.details)&&r.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;c=this.alignPlaylists(a,o.details)}if(o.details=a,this.levelLastLoaded=i,this.hls.trigger(y.LEVEL_UPDATED,{details:a,level:i}),this.state===Ir){if(this.waitForCdnTuneIn(a))return;this.state=_r}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,c),this.tick()}else this.warn("Levels were reset while loading level "+i)},r._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,i=e.payload,a=this.levels;if(a){var s=a[r.level],o=s.details;if(!o)return this.warn("Dropping fragment "+r.sn+" of level "+r.level+" after level details were reset"),void this.fragmentTracker.removeFragment(r);var l=s.videoCodec,c=o.PTSKnown||!o.live,u=null==(t=r.initSegment)?void 0:t.data,d=this._getAudioCodec(s),h=this.transmuxer=this.transmuxer||new Kn(this.hls,lt,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=n?n.index:-1,p=-1!==f,g=new hr(r.level,r.sn,r.stats.chunkCount,i.byteLength,f,p),m=this.initPTS[r.cc];h.push(i,u,d,l,r,n,o.totalduration,c,g,m)}else this.warn("Levels were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r.onAudioTrackSwitching=function(e,t){var r=this.altAudio;if(!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n&&(this.log("Switching to main audio track, cancel main fragment load"),n.abortRequests(),this.fragmentTracker.removeFragment(n)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var i=this.hls;r&&(i.trigger(y.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),i.trigger(y.AUDIO_TRACK_SWITCHED,t)}},r.onAudioTrackSwitched=function(e,t){var r=t.id,n=!!this.hls.audioTracks[r].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},r.onBufferCreated=function(e,t){var r,n,i=t.tracks,a=!1;for(var s in i){var o=i[s];if("main"===o.id){if(n=s,r=o,"video"===s){var l=i[s];l&&(this.videoBuffer=l.buffer)}}else a=!0}a&&r?(this.log("Alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media},r.onFragBuffered=function(e,t){var r=t.frag,n=t.part;if(!r||r.type===lt){if(this.fragContextChanged(r))return this.warn("Fragment "+r.sn+(n?" p: "+n.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Sr&&(this.state=_r));var i=n?n.stats:r.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==r.sn&&(this.fragPrevious=r),this.fragBufferedComplete(r,n)}},r.onError=function(e,t){var r;if(t.fatal)this.state=Rr;else switch(t.details){case C.FRAG_GAP:case C.FRAG_PARSING_ERROR:case C.FRAG_DECRYPT_ERROR:case C.FRAG_LOAD_ERROR:case C.FRAG_LOAD_TIMEOUT:case C.KEY_LOAD_ERROR:case C.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(lt,t);break;case C.LEVEL_LOAD_ERROR:case C.LEVEL_LOAD_TIMEOUT:case C.LEVEL_PARSING_ERROR:t.levelRetry||this.state!==Ir||(null==(r=t.context)?void 0:r.type)!==at||(this.state=_r);break;case C.BUFFER_FULL_ERROR:if(!t.parent||"main"!==t.parent)return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case C.INTERNAL_EXCEPTION:this.recoverWorkerError(t)}},r.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){if(this.loadedmetadata||!dr.getBuffered(e).length){var r=this.state!==_r?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}},r.onFragLoadEmergencyAborted=function(){this.state=_r,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},r.onBufferFlushed=function(e,t){var r=t.type;if(r!==B||this.audioOnly&&!this.altAudio){var n=(r===P?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,lt)}},r.onLevelsUpdated=function(e,t){this.levels=t.levels},r.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.seekToStartPos=function(){var e=this.media;if(e){var t=e.currentTime,r=this.startPosition;if(r>=0&&t<r){if(e.seeking)return void this.log("could not seek to "+r+", already seeking at "+t);var n=dr.getBuffered(e),i=(n.length?n.start(0):0)-r;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log("adjusting start position by "+i+" to match buffer start"),r+=i,this.startPosition=r),this.log("seek to target start position "+r+" from current time "+t),e.currentTime=r}}},r._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},r._loadBitrateTestFrag=function(e,t){var r=this;e.bitrateTest=!0,this._doFragLoad(e,t).then((function(n){var i=r.hls;if(n&&!r.fragContextChanged(e)){t.fragmentError=0,r.state=_r,r.startFragRequested=!1,r.bitrateTest=!1;var a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger(y.FRAG_LOADED,n),e.bitrateTest=!1}}))},r._handleTransmuxComplete=function(e){var t,r="main",n=this.hls,i=e.remuxResult,a=e.chunkMeta,s=this.getCurrentContext(a);if(s){var o=s.frag,l=s.part,c=s.level,u=i.video,d=i.text,h=i.id3,f=i.initSegment,p=c.details,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(o))this.fragmentTracker.removeFragment(o);else{if(this.state=wr,f){if(null!=f&&f.tracks){var m=o.initSegment||o;this._bufferInitSegment(c,f.tracks,m,a),n.trigger(y.FRAG_PARSING_INIT_SEGMENT,{frag:m,id:r,tracks:f.tracks})}var A=f.initPTS,b=f.timescale;v(A)&&(this.initPTS[o.cc]={baseTime:A,timescale:b},n.trigger(y.INIT_PTS_FOUND,{frag:o,id:r,initPTS:A,timescale:b}))}if(u&&p&&"initSegment"!==o.sn){var C=p.fragments[o.sn-1-p.startSN],_=o.sn===p.startSN,k=!C||o.cc>C.cc;if(!1!==i.independent){var T=u.startPTS,x=u.endPTS,E=u.startDTS,w=u.endDTS;if(l)l.elementaryStreams[u.type]={startPTS:T,endPTS:x,startDTS:E,endDTS:w};else if(u.firstKeyFrame&&u.independent&&1===a.id&&!k&&(this.couldBacktrack=!0),u.dropped&&u.independent){var S=this.getMainFwdBufferInfo(),L=(S?S.end:this.getLoadPosition())+this.config.maxBufferHole,R=u.firstKeyFramePTS?u.firstKeyFramePTS:T;if(!_&&L<R-this.config.maxBufferHole&&!k)return void this.backtrack(o);k&&(o.gap=!0),o.setElementaryStreamInfo(u.type,o.start,x,o.start,w,!0)}o.setElementaryStreamInfo(u.type,T,x,E,w),this.backtrackFragment&&(this.backtrackFragment=o),this.bufferFragmentData(u,o,l,a,_||k)}else{if(!_&&!k)return void this.backtrack(o);o.gap=!0}}if(g){var D=g.startPTS,I=g.endPTS,P=g.startDTS,M=g.endDTS;l&&(l.elementaryStreams[B]={startPTS:D,endPTS:I,startDTS:P,endDTS:M}),o.setElementaryStreamInfo(B,D,I,P,M),this.bufferFragmentData(g,o,l,a)}if(p&&null!=h&&null!=(t=h.samples)&&t.length){var O={id:r,frag:o,details:p,samples:h.samples};n.trigger(y.FRAG_PARSING_METADATA,O)}if(p&&d){var F={id:r,frag:o,details:p,samples:d.samples};n.trigger(y.FRAG_PARSING_USERDATA,F)}}}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(e,t,r,n){var i=this;if(this.state===wr){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var a=t.audio,s=t.video,o=t.audiovideo;if(a){var l=e.audioCodec,c=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==a.metadata.channelCount&&-1===c.indexOf("firefox")&&(l="mp4a.40.5")),-1!==c.indexOf("android")&&"audio/mpeg"!==a.container&&(l="mp4a.40.2",this.log("Android: force audio codec to "+l)),e.audioCodec&&e.audioCodec!==l&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+l+'"'),a.levelCodec=l,a.id="main",this.log("Init audio buffer, container:"+a.container+", codecs[selected/level/parsed]=["+(l||"")+"/"+(e.audioCodec||"")+"/"+a.codec+"]")}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log("Init video buffer, container:"+s.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+s.codec+"]")),o&&this.log("Init audiovideo buffer, container:"+o.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+o.codec+"]"),this.hls.trigger(y.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var a=t[e].initSegment;null!=a&&a.byteLength&&i.hls.trigger(y.BUFFER_APPENDING,{type:e,data:a,frag:r,part:null,chunkMeta:n,parent:r.type})})),this.tick()}},r.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,lt)},r.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=_r},r.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var r=e.currentTime;if(dr.isBuffered(e,r)?t=this.getAppendedFrag(r):dr.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;var n=this.fragPlaying,i=t.level;n&&t.sn===n.sn&&n.level===i&&t.urlId===n.urlId||(this.fragPlaying=t,this.hls.trigger(y.FRAG_CHANGED,{frag:t}),n&&n.level===i||this.hls.trigger(y.LEVEL_SWITCHED,{level:i}))}}},a(t,[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,r=this.currentFrag;if(r&&v(t)&&v(r.programDateTime)){var n=r.programDateTime+1e3*(t-r.start);return new Date(n)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}]),t}(Br),Yn=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}var t=e.prototype;return t.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}(),$n=function(){function e(e,t,r,n){void 0===n&&(n=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Yn(e),this.fast_=new Yn(t),this.defaultTTFB_=n,this.ttfb_=new Yn(e)}var t=e.prototype;return t.update=function(e,t){var r=this.slow_,n=this.fast_,i=this.ttfb_;r.halfLife!==e&&(this.slow_=new Yn(e,r.getEstimate(),r.getTotalWeight())),n.halfLife!==t&&(this.fast_=new Yn(t,n.getEstimate(),n.getTotalWeight())),i.halfLife!==e&&(this.ttfb_=new Yn(e,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var r=(e=Math.max(e,this.minDelayMs_))/1e3,n=8*t/r;this.fast_.sample(r,n),this.slow_.sample(r,n)},t.sampleTTFB=function(e){var t=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(r,Math.max(e,5))},t.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},t.destroy=function(){},e}(),Qn=function(){function e(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new $n(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(y.FRAG_LOADING,this.onFragLoading,this),e.on(y.FRAG_LOADED,this.onFragLoaded,this),e.on(y.FRAG_BUFFERED,this.onFragBuffered,this),e.on(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(y.LEVEL_LOADED,this.onLevelLoaded,this)},t.unregisterListeners=function(){var e=this.hls;e.off(y.FRAG_LOADING,this.onFragLoading,this),e.off(y.FRAG_LOADED,this.onFragLoaded,this),e.off(y.FRAG_BUFFERED,this.onFragBuffered,this),e.off(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(y.LEVEL_LOADED,this.onLevelLoaded,this)},t.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},t.onFragLoading=function(e,t){var r,n=t.frag;this.ignoreFragment(n)||(this.fragCurrent=n,this.partCurrent=null!=(r=t.part)?r:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))},t.onLevelSwitching=function(e,t){this.clearTimer()},t.getTimeToLoadFrag=function(e,t,r,n){return e+r/t+(n?this.lastLevelLoadSec:0)},t.onLevelLoaded=function(e,t){var r=this.hls.config,n=t.stats,i=n.total,a=n.bwEstimate;v(i)&&v(a)&&(this.lastLevelLoadSec=8*i/a),t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)},t._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.autoLevelEnabled,i=r.media;if(e&&i){var a=performance.now(),s=t?t.stats:e.stats,o=t?t.duration:e.duration,l=a-s.loading.start;if(s.aborted||s.loaded&&s.loaded===s.total||0===e.level)return this.clearTimer(),void(this._nextAutoLevel=-1);if(n&&!i.paused&&i.playbackRate&&i.readyState){var c=r.mainForwardBufferInfo;if(null!==c){var u=this.bwEstimator.getEstimateTTFB(),d=Math.abs(i.playbackRate);if(!(l<=Math.max(u,o/(2*d)*1e3))){var h=c.len/d;if(!(h>=2*o/d)){var f=s.loading.first?s.loading.first-s.loading.start:-1,p=s.loaded&&f>-1,g=this.bwEstimator.getEstimate(),m=r.levels,A=r.minAutoLevel,b=m[e.level],C=s.total||Math.max(s.loaded,Math.round(o*b.maxBitrate/8)),_=l-f;_<1&&p&&(_=Math.min(l,8*s.loaded/g));var k=p?1e3*s.loaded/_:0,T=k?(C-s.loaded)/k:8*C/g+u/1e3;if(!(T<=h)){var x,w=k?8*k:g,S=Number.POSITIVE_INFINITY;for(x=e.level-1;x>A;x--){var L=m[x].maxBitrate;if((S=this.getTimeToLoadFrag(u/1e3,w,o*L,!m[x].details))<h)break}S>=T||S>10*o||(r.nextLoadLevel=x,p?this.bwEstimator.sample(l-Math.min(u,f),s.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),E.warn("[abr] Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly;\n      Time to underbuffer: "+h.toFixed(3)+" s\n      Estimated load time for current fragment: "+T.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+S.toFixed(3)+" s\n      TTFB estimate: "+f+"\n      Current BW estimate: "+(v(g)?(g/1024).toFixed(3):"Unknown")+" Kb/s\n      New BW estimate: "+(this.bwEstimator.getEstimate()/1024).toFixed(3)+" Kb/s\n      Aborting and switching to level "+x),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),r.trigger(y.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:s}))}}}}}}},t.onFragLoaded=function(e,t){var r=t.frag,n=t.part,i=n?n.stats:r.stats;if(r.type===lt&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var a=n?n.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,l=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:l},s.realBitrate=Math.round(8*o/l)}if(r.bitrateTest){var c={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered(y.FRAG_BUFFERED,c),r.bitrateTest=!1}}},t.onFragBuffered=function(e,t){var r=t.frag,n=t.part,i=null!=n&&n.stats.loaded?n.stats:r.stats;if(!i.aborted&&!this.ignoreFragment(r)){var a=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),r.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},t.ignoreFragment=function(e){return e.type!==lt||"initSegment"===e.sn},t.clearTimer=function(){self.clearInterval(this.timer)},t.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,r=this.hls,n=r.maxAutoLevel,i=r.config,a=r.minAutoLevel,s=r.media,o=t?t.duration:e?e.duration:0,l=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,u=r.mainForwardBufferInfo,d=(u?u.len:0)/l,h=this.findBestLevel(c,a,n,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(h>=0)return h;E.trace("[abr] "+(d?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var f=o?Math.min(o,i.maxStarvationDelay):i.maxStarvationDelay,p=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(!d){var m=this.bitrateTestDelay;m&&(f=(o?Math.min(o,i.maxLoadingDelay):i.maxLoadingDelay)-m,E.trace("[abr] bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),p=g=1)}return h=this.findBestLevel(c,a,n,d+f,p,g),Math.max(h,0)},t.findBestLevel=function(e,t,r,n,i,a){for(var s,o=this.fragCurrent,l=this.partCurrent,c=this.lastLoadedFragLevel,u=this.hls.levels,d=u[c],h=!(null==d||null==(s=d.details)||!s.live),f=null==d?void 0:d.codecSet,p=l?l.duration:o?o.duration:0,g=this.bwEstimator.getEstimateTTFB()/1e3,m=t,A=-1,y=r;y>=t;y--){var b=u[y];if(!b||f&&b.codecSet!==f)b&&(m=Math.min(y,m),A=Math.max(y,A));else{-1!==A&&E.trace("[abr] Skipped level(s) "+m+"-"+A+' with CODECS:"'+u[A].attrs.CODECS+'"; not compatible with "'+d.attrs.CODECS+'"');var C,_=b.details,k=(l?null==_?void 0:_.partTarget:null==_?void 0:_.averagetargetduration)||p;C=y<=c?i*e:a*e;var T=u[y].maxBitrate,x=this.getTimeToLoadFrag(g,C,T*k,void 0===_);if(E.trace("[abr] level:"+y+" adjustedbw-bitrate:"+Math.round(C-T)+" avgDuration:"+k.toFixed(1)+" maxFetchDuration:"+n.toFixed(1)+" fetchDuration:"+x.toFixed(1)),C>T&&(0===x||!v(x)||h&&!this.bitrateTestDelay||x<n))return y}}return-1},a(e,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&!t.canEstimate())return e;var r=this.getNextABRAutoLevel();if(-1!==e){var n=this.hls.levels;if(n.length>Math.max(e,r)&&n[e].loadError<=n[r].loadError)return e}return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e}}]),e}(),Xn=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,r=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var r=new Uint8Array(t),n=0,i=0;i<e.length;i++){var a=e[i];r.set(a,n),n+=a.length}return r}(t,r),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}(),Jn=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n,"[audio-stream-controller]",ct)||this).videoBuffer=null,i.videoTrackCC=-1,i.waitingVideoCC=-1,i.bufferedTrack=null,i.switchingTrack=null,i.trackId=-1,i.waitingData=null,i.mainDetails=null,i.bufferFlushed=!1,i.cachedTrackLoadedData=null,i._registerListeners(),i}l(t,e);var r=t.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null},r._registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.LEVEL_LOADED,this.onLevelLoaded,this),e.on(y.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(y.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(y.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(y.ERROR,this.onError,this),e.on(y.BUFFER_RESET,this.onBufferReset,this),e.on(y.BUFFER_CREATED,this.onBufferCreated,this),e.on(y.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(y.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(y.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.LEVEL_LOADED,this.onLevelLoaded,this),e.off(y.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(y.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(y.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(y.ERROR,this.onError,this),e.off(y.BUFFER_RESET,this.onBufferReset,this),e.off(y.BUFFER_CREATED,this.onBufferCreated,this),e.off(y.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(y.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(y.FRAG_BUFFERED,this.onFragBuffered,this)},r.onInitPtsFound=function(e,t){var r=t.frag,n=t.id,i=t.initPTS,a=t.timescale;if("main"===n){var s=r.cc;this.initPTS[r.cc]={baseTime:i,timescale:a},this.log("InitPTS for cc: "+s+" found from main: "+i),this.videoTrackCC=s,this.state===Dr&&this.tick()}},r.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=Cr);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t,this.state=_r):(this.loadedmetadata=!1,this.state=Er),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},r.doTick=function(){switch(this.state){case _r:this.doTickIdle();break;case Er:var t,r=this.levels,n=this.trackId,i=null==r||null==(t=r[n])?void 0:t.details;if(i){if(this.waitForCdnTuneIn(i))break;this.state=Dr}break;case xr:var a,s=performance.now(),o=this.retryDate;(!o||s>=o||null!=(a=this.media)&&a.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=_r);break;case Dr:var l=this.waitingData;if(l){var c=l.frag,u=l.part,d=l.cache,h=l.complete;if(void 0!==this.initPTS[c.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=Tr;var f={frag:c,part:u,payload:d.flush(),networkDetails:null};this._handleFragmentLoadProgress(f),h&&e.prototype._handleFragmentLoadComplete.call(this,f)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log("Waiting fragment cc ("+c.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var p=this.getLoadPosition(),g=dr.bufferInfo(this.mediaBuffer,p,this.config.maxBufferHole);Vt(g.end,this.config.maxFragLookUpTolerance,c)<0&&(this.log("Waiting fragment cc ("+c.cc+") @ "+c.start+" cancelled because another fragment at "+g.end+" is needed"),this.clearWaitingFragment())}}else this.state=_r}this.onTickEnd()},r.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=_r)},r.resetLoadingState=function(){this.clearWaitingFragment(),e.prototype.resetLoadingState.call(this)},r.onTickEnd=function(){var e=this.media;null!=e&&e.readyState&&(this.lastCurrentTime=e.currentTime)},r.doTickIdle=function(){var e=this.hls,t=this.levels,r=this.media,n=this.trackId,i=e.config;if(null!=t&&t[n]&&(r||!this.startFragRequested&&i.startFragPrefetch)){var a=t[n],s=a.details;if(!s||s.live&&this.levelLastLoaded!==n||this.waitForCdnTuneIn(s))this.state=Er;else{var o=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&o&&(this.bufferFlushed=!1,this.afterBufferFlushed(o,B,ct));var l=this.getFwdBufferInfo(o,ct);if(null!==l){var c=this.bufferedTrack,u=this.switchingTrack;if(!u&&this._streamEnded(l,s))return e.trigger(y.BUFFER_EOS,{type:"audio"}),void(this.state=Lr);var d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,lt),h=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len);if(!(h>=f)||u){var p=s.fragments[0].start,g=l.end;if(u&&r){var m=this.getLoadPosition();c&&u.attrs!==c.attrs&&(g=m),s.PTSKnown&&m<p&&(l.end>p||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=p+.05)}var A=this.getNextFragment(g,s),v=!1;if(A&&this.isLoopLoading(A,g)&&(v=!!A.gap,A=this.getNextFragmentLoopLoading(A,s,l,lt,f)),A){var b=d&&A.start>d.end+s.targetduration;if(b||(null==d||!d.len)&&l.len){var C=this.getAppendedFrag(A.start,lt);if(null===C)return;if(v||(v=!!C.gap||!!b&&0===d.len),b&&!v||v&&l.nextStart&&l.nextStart<C.end)return}this.loadFragment(A,a,g)}else this.bufferFlushed=!0}}}}},r.getMaxBufferLength=function(t){var r=e.prototype.getMaxBufferLength.call(this);return t?Math.min(Math.max(r,t),this.config.maxMaxBufferLength):r},r.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},r.onAudioTracksUpdated=function(e,t){var r=t.audioTracks;this.resetTransmuxer(),this.levels=r.map((function(e){return new wt(e)}))},r.onAudioTrackSwitching=function(e,t){var r=!!t.url;this.trackId=t.id;var n=this.fragCurrent;n&&(n.abortRequests(),this.removeUnbufferedFrags(n.start)),this.resetLoadingState(),r?this.setInterval(100):this.resetTransmuxer(),r?(this.switchingTrack=t,this.state=_r):(this.switchingTrack=null,this.bufferedTrack=t,this.state=Cr),this.tick()},r.onManifestLoading=function(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1},r.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(y.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},r.onAudioTrackLoaded=function(e,t){var r;if(null!=this.mainDetails){var n=this.levels,i=t.details,a=t.id;if(n){this.log("Track "+a+" loaded ["+i.startSN+","+i.endSN+"]"+(i.lastPartSn?"[part-"+i.lastPartSn+"-"+i.lastPartIndex+"]":"")+",duration:"+i.totalduration);var s=n[a],o=0;if(i.live||null!=(r=s.details)&&r.live){this.checkLiveUpdate(i);var l=this.mainDetails;if(i.deltaUpdateFailed||!l)return;!s.details&&i.hasProgramDateTime&&l.hasProgramDateTime?(mr(i,l),o=i.fragments[0].start):o=this.alignPlaylists(i,s.details)}s.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(s.details,o),this.state!==Er||this.waitForCdnTuneIn(i)||(this.state=_r),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=t},r._handleFragmentLoadProgress=function(e){var t,r=e.frag,n=e.part,i=e.payload,a=this.config,s=this.trackId,o=this.levels;if(o){var l=o[s];if(l){var c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(r.start);var u=a.defaultAudioCodec||l.audioCodec||"mp4a.40.2",d=this.transmuxer;d||(d=this.transmuxer=new Kn(this.hls,ct,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var h=this.initPTS[r.cc],f=null==(t=r.initSegment)?void 0:t.data;if(void 0!==h){var p=n?n.index:-1,g=-1!==p,m=new hr(r.level,r.sn,r.stats.chunkCount,i.byteLength,p,g);d.push(i,f,u,"",r,n,c.totalduration,!1,m,h)}else this.log("Unknown video PTS for cc "+r.cc+", waiting for video PTS before demuxing audio frag "+r.sn+" of ["+c.startSN+" ,"+c.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:r,part:n,cache:new Xn,complete:!1}).cache.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=Dr}else this.warn("Audio track is undefined on fragment load progress")}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+r.sn+" of level "+r.level+" will not be buffered")},r._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},r.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.onBufferCreated=function(e,t){var r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)},r.onFragBuffered=function(e,t){var r=t.frag,i=t.part;if(r.type===ct)if(this.fragContextChanged(r))this.warn("Fragment "+r.sn+(i?" p: "+i.index:"")+" of level "+r.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+(this.switchingTrack?this.switchingTrack.name:"false"));else{if("initSegment"!==r.sn){this.fragPrevious=r;var a=this.switchingTrack;a&&(this.bufferedTrack=a,this.switchingTrack=null,this.hls.trigger(y.AUDIO_TRACK_SWITCHED,n({},a)))}this.fragBufferedComplete(r,i)}else if(!this.loadedmetadata&&r.type===lt){var s=this.videoBuffer||this.media;s&&dr.getBuffered(s).length&&(this.loadedmetadata=!0)}},r.onError=function(t,r){var n;if(r.fatal)this.state=Rr;else switch(r.details){case C.FRAG_GAP:case C.FRAG_PARSING_ERROR:case C.FRAG_DECRYPT_ERROR:case C.FRAG_LOAD_ERROR:case C.FRAG_LOAD_TIMEOUT:case C.KEY_LOAD_ERROR:case C.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ct,r);break;case C.AUDIO_TRACK_LOAD_ERROR:case C.AUDIO_TRACK_LOAD_TIMEOUT:case C.LEVEL_PARSING_ERROR:r.levelRetry||this.state!==Er||(null==(n=r.context)?void 0:n.type)!==st||(this.state=_r);break;case C.BUFFER_FULL_ERROR:if(!r.parent||"audio"!==r.parent)return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio"));break;case C.INTERNAL_EXCEPTION:this.recoverWorkerError(r)}},r.onBufferFlushed=function(e,t){t.type===B&&(this.bufferFlushed=!0,this.state===Lr&&(this.state=_r))},r._handleTransmuxComplete=function(e){var t,r="audio",n=this.hls,i=e.remuxResult,a=e.chunkMeta,s=this.getCurrentContext(a);if(s){var l=s.frag,c=s.part,u=s.level.details,d=i.audio,h=i.text,f=i.id3,p=i.initSegment;if(!this.fragContextChanged(l)&&u){if(this.state=wr,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){var g=l.initSegment||l;this._bufferInitSegment(p.tracks,g,a),n.trigger(y.FRAG_PARSING_INIT_SEGMENT,{frag:g,id:r,tracks:p.tracks})}if(d){var m=d.startPTS,A=d.endPTS,v=d.startDTS,b=d.endDTS;c&&(c.elementaryStreams[B]={startPTS:m,endPTS:A,startDTS:v,endDTS:b}),l.setElementaryStreamInfo(B,m,A,v,b),this.bufferFragmentData(d,l,c,a)}if(null!=f&&null!=(t=f.samples)&&t.length){var C=o({id:r,frag:l,details:u},f);n.trigger(y.FRAG_PARSING_METADATA,C)}if(h){var _=o({id:r,frag:l,details:u},h);n.trigger(y.FRAG_PARSING_USERDATA,_)}}else this.fragmentTracker.removeFragment(l)}else this.resetWhenMissingContext(a)},r._bufferInitSegment=function(e,t,r){if(this.state===wr){e.video&&delete e.video;var n=e.audio;if(n){n.levelCodec=n.codec,n.id="audio",this.log("Init audio buffer, container:"+n.container+", codecs[parsed]=["+n.codec+"]"),this.hls.trigger(y.BUFFER_CODECS,e);var i=n.initSegment;if(null!=i&&i.byteLength){var a={type:"audio",frag:t,part:null,chunkMeta:r,parent:t.type,data:i};this.hls.trigger(y.BUFFER_APPENDING,a)}this.tick()}}},r.loadFragment=function(t,r,n){var i,a=this.fragmentTracker.getState(t);this.fragCurrent=t,this.switchingTrack||a===Qt||a===Jt?"initSegment"===t.sn?this._loadInitSegment(t,r):null!=(i=r.details)&&i.live&&!this.initPTS[t.cc]?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=Dr):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n)):this.clearTrackerIfNeeded(t)},r.completeAudioSwitch=function(t){var r=this.hls,i=this.media,a=this.bufferedTrack,s=null==a?void 0:a.attrs,o=t.attrs;i&&s&&(s.CHANNELS!==o.CHANNELS||s.NAME!==o.NAME||s.LANGUAGE!==o.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=t,this.switchingTrack=null,r.trigger(y.AUDIO_TRACK_SWITCHED,n({},t))},t}(Br),Zn=function(e){function t(t){var r;return(r=e.call(this,t,"[audio-track-controller]")||this).tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.currentTrack=null,r.selectDefaultTrack=!0,r.registerListeners(),r}l(t,e);var r=t.prototype;return r.registerListeners=function(){var e=this.hls;e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.LEVEL_LOADING,this.onLevelLoading,this),e.on(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(y.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(y.ERROR,this.onError,this)},r.unregisterListeners=function(){var e=this.hls;e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.LEVEL_LOADING,this.onLevelLoading,this),e.off(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(y.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(y.ERROR,this.onError,this)},r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,e.prototype.destroy.call(this)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0},r.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},r.onAudioTrackLoaded=function(e,t){var r=t.id,n=t.groupId,i=t.details,a=this.tracksInGroup[r];if(a&&a.groupId===n){var s=a.details;a.details=t.details,this.log("audio-track "+r+' "'+a.name+'" lang:'+a.lang+" group:"+n+" loaded ["+i.startSN+"-"+i.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,t,s)}else this.warn("Track with id:"+r+" and group:"+n+" not found in active group "+a.groupId)},r.onLevelLoading=function(e,t){this.switchLevel(t.level)},r.onLevelSwitching=function(e,t){this.switchLevel(t.level)},r.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.audioGroupIds){var r=t.audioGroupIds[t.urlId];if(this.groupId!==r){this.groupId=r||null;var n=this.tracks.filter((function(e){return!r||e.groupId===r}));this.selectDefaultTrack&&!n.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=n;var i={audioTracks:n};this.log("Updating audio tracks, "+n.length+" track(s) found in group:"+r),this.hls.trigger(y.AUDIO_TRACKS_UPDATED,i),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}},r.onError=function(e,t){!t.fatal&&t.context&&t.context.type===st&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(t))},r.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var r=this.currentTrack;t[this.trackId];var i=t[e],a=i.groupId,s=i.name;if(this.log("Switching to audio-track "+e+' "'+s+'" lang:'+i.lang+" group:"+a),this.trackId=e,this.currentTrack=i,this.selectDefaultTrack=!1,this.hls.trigger(y.AUDIO_TRACK_SWITCHING,n({},i)),!i.details||i.details.live){var o=this.switchParams(i.url,null==r?void 0:r.details);this.loadPlaylist(o)}}},r.selectInitialTrack=function(){var e=this.tracksInGroup,t=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(-1!==t)this.setAudioTrack(t);else{var r=new Error("No track found for running audio group-ID: "+this.groupId+" track count: "+e.length);this.warn(r.message),this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:r})}},r.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if(!this.selectDefaultTrack||n.default){if(!e||void 0!==e.attrs["STABLE-RENDITION-ID"]&&e.attrs["STABLE-RENDITION-ID"]===n.attrs["STABLE-RENDITION-ID"])return n.id;if(e.name===n.name&&e.lang===n.lang)return n.id}}return-1},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var n=r.id,i=r.groupId,a=r.url;if(t)try{a=t.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("loading audio-track playlist "+n+' "'+r.name+'" lang:'+r.lang+" group:"+i),this.clearTimer(),this.hls.trigger(y.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:t||null})}},a(t,[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}]),t}(qt);function ei(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ti(e[r].attrs,t[r].attrs))return!1;return!0}function ti(e,t){var r=e["STABLE-RENDITION-ID"];return r?r===t["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some((function(r){return e[r]!==t[r]}))}var ri=function(e){function t(t,r,n){var i;return(i=e.call(this,t,r,n,"[subtitle-stream-controller]",ut)||this).levels=[],i.currentTrackId=-1,i.tracksBuffered=[],i.mainDetails=null,i._registerListeners(),i}l(t,e);var r=t.prototype;return r.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},r._registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.LEVEL_LOADED,this.onLevelLoaded,this),e.on(y.ERROR,this.onError,this),e.on(y.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(y.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(y.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(y.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(y.FRAG_BUFFERED,this.onFragBuffered,this)},r._unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.LEVEL_LOADED,this.onLevelLoaded,this),e.off(y.ERROR,this.onError,this),e.off(y.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(y.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(y.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(y.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(y.FRAG_BUFFERED,this.onFragBuffered,this)},r.startLoad=function(e){this.stopLoad(),this.state=_r,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},r.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},r.onMediaDetaching=function(){this.tracksBuffered=[],e.prototype.onMediaDetaching.call(this)},r.onLevelLoaded=function(e,t){this.mainDetails=t.details},r.onSubtitleFragProcessed=function(e,t){var r=t.frag,n=t.success;if(this.fragPrevious=r,this.state=_r,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var a,s=r.start,o=0;o<i.length;o++)if(s>=i[o].start&&s<=i[o].end){a=i[o];break}var l=r.start+r.duration;a?a.end=l:(a={start:s,end:l},i.push(a)),this.fragmentTracker.fragBuffered(r)}}},r.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset;if(0===r&&n!==Number.POSITIVE_INFINITY){var i=n-1;if(i<=0)return;t.endOffsetSubtitles=Math.max(0,i),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=i)e.shift();else{if(!(e[t].start<i))break;e[t].start=i,t++}})),this.fragmentTracker.removeFragmentsInRange(r,i,ut)}},r.onFragBuffered=function(e,t){var r;this.loadedmetadata||t.frag.type!==lt||null!=(r=this.media)&&r.buffered.length&&(this.loadedmetadata=!0)},r.onError=function(e,t){var r=t.frag;(null==r?void 0:r.type)===ut&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Cr&&(this.state=_r))},r.onSubtitleTracksUpdated=function(e,t){var r=this,n=t.subtitleTracks;ei(this.levels,n)?this.levels=n.map((function(e){return new wt(e)})):(this.tracksBuffered=[],this.levels=n.map((function(e){var t=new wt(e);return r.tracksBuffered[t.id]=[],t})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ut),this.fragPrevious=null,this.mediaBuffer=null)},r.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(e,t){var r,n=t.details,i=t.id,a=this.currentTrackId,s=this.levels;if(s.length){var o=s[a];if(!(i>=s.length||i!==a)&&o){this.mediaBuffer=this.mediaBufferTimeRanges;var l=0;if(n.live||null!=(r=o.details)&&r.live){var c=this.mainDetails;if(n.deltaUpdateFailed||!c)return;var u=c.fragments[0];o.details?0===(l=this.alignPlaylists(n,o.details))&&u&&It(n,l=u.start):n.hasProgramDateTime&&c.hasProgramDateTime?(mr(n,c),l=n.fragments[0].start):u&&It(n,l=u.start)}o.details=n,this.levelLastLoaded=i,this.startFragRequested||!this.mainDetails&&n.live||this.setStartPosition(o.details,l),this.tick(),n.live&&!this.fragCurrent&&this.media&&this.state===_r&&(Ht(null,n.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),o.details=void 0))}}},r._handleFragmentLoadComplete=function(e){var t=this,r=e.frag,n=e.payload,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch((function(e){throw a.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:r}),e})).then((function(e){var t=performance.now();a.trigger(y.FRAG_DECRYPTED,{frag:r,payload:e,stats:{tstart:s,tdecrypt:t}})})).catch((function(e){t.warn(e.name+": "+e.message),t.state=_r}))}},r.doTick=function(){if(this.media){if(this.state===_r){var e=this.currentTrackId,t=this.levels,r=t[e];if(!t.length||!r||!r.details)return;var n=this.config,i=this.getLoadPosition(),a=dr.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,n.maxBufferHole),s=a.end,o=a.len,l=this.getFwdBufferInfo(this.media,lt),c=r.details;if(o>this.getMaxBufferLength(null==l?void 0:l.len)+c.levelTargetDuration)return;var u=c.fragments,d=u.length,h=c.edge,f=null,p=this.fragPrevious;if(s<h){var g=n.maxFragLookUpTolerance,m=s>h-g?0:g;!(f=Ht(p,u,Math.max(u[0].start,s),m))&&p&&p.start<u[0].start&&(f=u[0])}else f=u[d-1];if(!f)return;if("initSegment"!==(f=this.mapToInitFragWhenRequired(f)).sn){var A=u[f.sn-c.startSN-1];A&&A.cc===f.cc&&this.fragmentTracker.getState(A)===Qt&&(f=A)}this.fragmentTracker.getState(f)===Qt&&this.loadFragment(f,r,s)}}else this.state=_r},r.getMaxBufferLength=function(t){var r=e.prototype.getMaxBufferLength.call(this);return t?Math.max(r,t):r},r.loadFragment=function(t,r,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,r):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,r,n))},a(t,[{key:"mediaBufferTimeRanges",get:function(){return new ni(this.tracksBuffered[this.currentTrackId]||[])}}]),t}(Br),ni=function(e){this.buffered=void 0;var t=function(t,r,n){if((r>>>=0)>n-1)throw new DOMException("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+r+") is greater than the maximum bound ("+n+")");return e[r][t]};this.buffered={get length(){return e.length},end:function(r){return t("end",r,e.length)},start:function(r){return t("start",r,e.length)}}},ii=function(e){function t(t){var r;return(r=e.call(this,t,"[subtitle-track-controller]")||this).media=null,r.tracks=[],r.groupId=null,r.tracksInGroup=[],r.trackId=-1,r.selectDefaultTrack=!0,r.queuedDefaultTrack=-1,r.trackChangeListener=function(){return r.onTextTracksChanged()},r.asyncPollTrackChange=function(){return r.pollTrackChange(0)},r.useTextTrackPolling=!1,r.subtitlePollingInterval=-1,r._subtitleDisplay=!0,r.registerListeners(),r}l(t,e);var r=t.prototype;return r.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},r.registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.LEVEL_LOADING,this.onLevelLoading,this),e.on(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(y.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(y.ERROR,this.onError,this)},r.unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.LEVEL_LOADING,this.onLevelLoading,this),e.off(y.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(y.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(y.ERROR,this.onError,this)},r.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},r.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},r.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),ai(this.media.textTracks).forEach((function(e){mt(e)})),this.subtitleTrack=-1,this.media=null)},r.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},r.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},r.onSubtitleTrackLoaded=function(e,t){var r=t.id,n=t.details,i=this.trackId,a=this.tracksInGroup[i];if(a){var s=a.details;a.details=t.details,this.log("subtitle track "+r+" loaded ["+n.startSN+"-"+n.endSN+"]"),r===this.trackId&&this.playlistLoaded(r,t,s)}else this.warn("Invalid subtitle track id "+r)},r.onLevelLoading=function(e,t){this.switchLevel(t.level)},r.onLevelSwitching=function(e,t){this.switchLevel(t.level)},r.switchLevel=function(e){var t=this.hls.levels[e];if(null!=t&&t.textGroupIds){var r=t.textGroupIds[t.urlId],n=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==r){var i=this.tracks.filter((function(e){return!r||e.groupId===r}));this.tracksInGroup=i;var a=this.findTrackId(null==n?void 0:n.name)||this.findTrackId();this.groupId=r||null;var s={subtitleTracks:i};this.log("Updating subtitle tracks, "+i.length+' track(s) found in "'+r+'" group-id'),this.hls.trigger(y.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,n)}else this.shouldReloadPlaylist(n)&&this.setSubtitleTrack(this.trackId,n)}},r.findTrackId=function(e){for(var t=this.tracksInGroup,r=0;r<t.length;r++){var n=t[r];if((!this.selectDefaultTrack||n.default)&&(!e||e===n.name))return n.id}return-1},r.onError=function(e,t){!t.fatal&&t.context&&t.context.type===ot&&t.context.id===this.trackId&&t.context.groupId===this.groupId&&this.checkRetry(t)},r.loadPlaylist=function(t){e.prototype.loadPlaylist.call(this);var r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){var n=r.id,i=r.groupId,a=r.url;if(t)try{a=t.addDirectives(a)}catch(e){this.warn("Could not construct new URL with HLS Delivery Directives: "+e)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(y.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:t||null})}},r.toggleTrackModes=function(e){var t=this,r=this.media,n=this.trackId;if(r){var i=ai(r.textTracks),a=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var s=a[n];s&&(s.mode="disabled")}var o=a[e];o&&(o.mode=this.subtitleDisplay?"showing":"hidden")}},r.setSubtitleTrack=function(e,t){var r,n=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!=(r=n[e])&&r.details)||e<-1||e>=n.length)){this.clearTimer();var i=n[e];if(this.log("Switching to subtitle-track "+e+(i?' "'+i.name+'" lang:'+i.lang+" group:"+i.groupId:"")),this.trackId=e,i){var a=i.id,s=i.groupId,o=void 0===s?"":s,l=i.name,c=i.type,u=i.url;this.hls.trigger(y.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:c,url:u});var d=this.switchParams(i.url,null==t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(y.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},r.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=ai(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},a(t,[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}]),t}(qt);function ai(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"subtitles"!==n.kind&&"captions"!==n.kind||!n.label||t.push(e[r])}return t}var si=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var r=this.queues[t];r.push(e),1===r.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,r=new Promise((function(e){t=e})),n={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(n,e),r},t.executeNext=function(e){var t=this.buffers,r=this.queues,n=t[e],i=r[e];if(i.length){var a=i[0];try{a.execute()}catch(t){E.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(t),null!=n&&n.updating||(i.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}(),oi=He(),li=/([ha]vc.)(?:\.[^.,]+)+/,ci=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.media,r=t.mediaSource;E.log("[buffer-controller]: Media source opened"),e&&(e.removeEventListener("emptied",t._onMediaEmptied),t.updateMediaElementDuration(),t.hls.trigger(y.MEDIA_ATTACHED,{media:e})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){E.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){E.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=function(){var e=t.media,r=t._objectUrl;e&&e.src!==r&&E.error("Media element src was set while attaching MediaSource ("+r+" > "+e.src+")")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null},t.registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.BUFFER_RESET,this.onBufferReset,this),e.on(y.BUFFER_APPENDING,this.onBufferAppending,this),e.on(y.BUFFER_CODECS,this.onBufferCodecs,this),e.on(y.BUFFER_EOS,this.onBufferEos,this),e.on(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(y.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(y.FRAG_PARSED,this.onFragParsed,this),e.on(y.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.BUFFER_RESET,this.onBufferReset,this),e.off(y.BUFFER_APPENDING,this.onBufferAppending,this),e.off(y.BUFFER_CODECS,this.onBufferCodecs,this),e.off(y.BUFFER_EOS,this.onBufferEos,this),e.off(y.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(y.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(y.FRAG_PARSED,this.onFragParsed,this),e.off(y.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new si(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null},t.onManifestLoading=function(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null},t.onManifestParsed=function(e,t){var r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,E.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var r=this.media=t.media;if(r&&oi){var n=this.mediaSource=new oi;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),r.src=self.URL.createObjectURL(n),this._objectUrl=r.src,r.addEventListener("emptied",this._onMediaEmptied)}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,r=this._objectUrl;if(t){if(E.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(e){E.warn("[buffer-controller]: onMediaDetaching: "+e.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),e.src===r?(e.removeAttribute("src"),e.load()):E.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(y.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var r=e.sourceBuffer[t];try{r&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(r),e.sourceBuffer[t]=void 0)}catch(e){E.warn("[buffer-controller]: Failed to reset the "+t+" buffer",e)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var r=this,n=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(n){var i=r.tracks[e];if(i&&"function"==typeof i.buffer.changeType){var a=t[e],s=a.id,o=a.codec,l=a.levelCodec,c=a.container,u=a.metadata,d=(i.levelCodec||i.codec).replace(li,"$1"),h=(l||o).replace(li,"$1");if(d!==h){var f=c+";codecs="+(l||o);r.appendChangeType(e,f),E.log("[buffer-controller]: switching codec "+d+" to "+h),r.tracks[e]={buffer:i.buffer,codec:o,container:c,levelCodec:l,metadata:u,id:s}}}}else r.pendingTracks[e]=t[e]})),n||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var r=this,n=this.operationQueue,i={execute:function(){var i=r.sourceBuffer[e];i&&(E.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),n.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){E.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};n.append(i,e)},t.onBufferAppending=function(e,t){var r=this,n=this.hls,i=this.operationQueue,a=this.tracks,s=t.data,o=t.type,l=t.frag,c=t.part,u=t.chunkMeta,d=u.buffering[o],h=self.performance.now();d.start=h;var f=l.stats.buffering,p=c?c.stats.buffering:null;0===f.start&&(f.start=h),p&&0===p.start&&(p.start=h);var g=a.audio,m=!1;"audio"===o&&"audio/mpeg"===(null==g?void 0:g.container)&&(m=!this.lastMpegAudioChunk||1===u.id||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);var A=l.start,v={execute:function(){if(d.executeStart=self.performance.now(),m){var e=r.sourceBuffer[o];if(e){var t=A-e.timestampOffset;Math.abs(t)>=.1&&(E.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+A+" (delta: "+t+") sn: "+l.sn+")"),e.timestampOffset=A)}}r.appendExecutor(s,o)},onStart:function(){},onComplete:function(){var e=self.performance.now();d.executeEnd=d.end=e,0===f.first&&(f.first=e),p&&0===p.first&&(p.first=e);var t=r.sourceBuffer,n={};for(var i in t)n[i]=dr.getBuffered(t[i]);r.appendError=0,r.hls.trigger(y.BUFFER_APPENDED,{type:o,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:n})},onError:function(e){E.error("[buffer-controller]: Error encountered while trying to append to the "+o+" SourceBuffer",e);var t={type:b.MEDIA_ERROR,parent:l.type,details:C.BUFFER_APPEND_ERROR,frag:l,part:c,chunkMeta:u,error:e,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=C.BUFFER_FULL_ERROR:(r.appendError++,t.details=C.BUFFER_APPEND_ERROR,r.appendError>n.config.appendErrorMaxRetry&&(E.error("[buffer-controller]: Failed "+n.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),n.trigger(y.ERROR,t)}};i.append(v,o)},t.onBufferFlushing=function(e,t){var r=this,n=this.operationQueue,i=function(e){return{execute:r.removeExecutor.bind(r,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){r.hls.trigger(y.BUFFER_FLUSHED,{type:e})},onError:function(t){E.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?n.append(i(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){n.append(i(e),e)}))},t.onFragParsed=function(e,t){var r=this,n=t.frag,i=t.part,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[M]?a.push("audiovideo"):(s[B]&&a.push("audio"),s[P]&&a.push("video")),0===a.length&&E.warn("Fragments must have at least one ElementaryStreamType set. type: "+n.type+" level: "+n.level+" sn: "+n.sn),this.blockBuffers((function(){var e=self.performance.now();n.stats.buffering.end=e,i&&(i.stats.buffering.end=e);var t=i?i.stats:n.stats;r.hls.trigger(y.FRAG_BUFFERED,{frag:n,part:i,stats:t,id:n.type})}),a)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var r=this;this.getSourceBufferTypes().reduce((function(e,n){var i=r.sourceBuffer[n];return!i||t.type&&t.type!==n||(i.ending=!0,i.ended||(i.ended=!0,E.log("[buffer-controller]: "+n+" sourceBuffer now EOS"))),e&&!(i&&!i.ended)}),!0)&&(E.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers((function(){r.getSourceBufferTypes().forEach((function(e){var t=r.sourceBuffer[e];t&&(t.ending=!1)}));var e=r.mediaSource;e&&"open"===e.readyState?(E.log("[buffer-controller]: Calling mediaSource.endOfStream()"),e.endOfStream()):e&&E.info("[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: "+e.readyState)})))},t.onLevelUpdated=function(e,t){var r=t.details;r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,r=this.media,n=this.sourceBuffer;if(r&&null!==t){var i=this.getSourceBufferTypes();if(i.length){var a=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(v(a)&&!(a<0)){var s=r.currentTime,o=t.levelTargetDuration,l=Math.max(a,o),c=Math.floor(s/o)*o-l;i.forEach((function(r){var i=n[r];if(i){var a=dr.getBuffered(i);if(a.length>0&&c>a.start(0)){if(e.trigger(y.BACK_BUFFER_REACHED,{bufferEnd:c}),t.live)e.trigger(y.LIVE_BACK_BUFFER_REACHED,{bufferEnd:c});else if(i.ended&&a.end(a.length-1)-s<2*o)return void E.info("[buffer-controller]: Cannot flush "+r+" back buffer while SourceBuffer is in ended state");e.trigger(y.BUFFER_FLUSHING,{startOffset:0,endOffset:c,type:r})}}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,r=this.media,n=this.mediaSource,i=e.fragments[0].start+e.totalduration,a=r.duration,s=v(n.duration)?n.duration:0;e.live&&t.config.liveDurationInfinity?(E.log("[buffer-controller]: Media Source duration is set to Infinity"),n.duration=1/0,this.updateSeekableRange(e)):(i>s&&i>a||!v(a))&&(E.log("[buffer-controller]: Updating Media Source duration to "+i.toFixed(3)),n.duration=i)}},t.updateSeekableRange=function(e){var t=this.mediaSource,r=e.fragments;if(r.length&&e.live&&null!=t&&t.setLiveSeekableRange){var n=Math.max(0,r[0].start),i=Math.max(n,n+e.totalduration);t.setLiveSeekableRange(n,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,r=this.pendingTracks,n=Object.keys(r).length;if(n&&!e||2===n){this.createSourceBuffers(r),this.pendingTracks={};var i=this.getSourceBufferTypes();if(i.length)this.hls.trigger(y.BUFFER_CREATED,{tracks:this.tracks}),i.forEach((function(e){t.executeNext(e)}));else{var a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(var n in e)if(!t[n]){var i=e[n];if(!i)throw Error("source buffer exists for track "+n+", however track does not");var a=i.levelCodec||i.codec,s=i.container+";codecs="+a;E.log("[buffer-controller]: creating sourceBuffer("+s+")");try{var o=t[n]=r.addSourceBuffer(s),l=n;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[n]={buffer:o,codec:a,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(e){E.error("[buffer-controller]: error while trying to add sourceBuffer: "+e.message),this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:e,mimeType:s})}}},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){var r=new Error(e+" SourceBuffer error");E.error("[buffer-controller]: "+r,t),this.hls.trigger(y.ERROR,{type:b.MEDIA_ERROR,details:C.BUFFER_APPENDING_ERROR,error:r,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,r){var n=this.media,i=this.mediaSource,a=this.operationQueue,s=this.sourceBuffer[e];if(!n||!i||!s)return E.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void a.shiftAndExecuteNext(e);var o=v(n.duration)?n.duration:1/0,l=v(i.duration)?i.duration:1/0,c=Math.max(0,t),u=Math.min(r,o,l);u>c&&!s.ending?(s.ended=!1,E.log("[buffer-controller]: Removing ["+c+","+u+"] from the "+e+" SourceBuffer"),s.remove(c,u)):a.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var r=this.operationQueue,n=this.sourceBuffer[t];if(!n)return E.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void r.shiftAndExecuteNext(t);n.ended=!1,n.appendBuffer(e)},t.blockBuffers=function(e,t){var r=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return E.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var n=this.operationQueue,i=t.map((function(e){return n.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=r.sourceBuffer[e];null!=t&&t.updating||n.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,r){var n=this.sourceBuffer[e];if(n){var i=r.bind(this,e);this.listeners[e].push({event:t,listener:i}),n.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}(),ui={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},di=function(e){var t=e;return ui.hasOwnProperty(e)&&(t=ui[e]),String.fromCharCode(t)},hi=15,fi=100,pi={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},gi={17:2,18:4,21:6,22:8,23:10,19:13,20:15},mi={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Ai={25:2,26:4,29:6,30:8,31:10,27:13,28:15},vi=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],yi=function(){function e(){this.time=null,this.verboseLevel=0}return e.prototype.log=function(e,t){if(this.verboseLevel>=e){var r="function"==typeof t?t():t;E.log(this.time+" ["+e+"] "+r)}},e}(),bi=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},Ci=function(){function e(e,t,r,n,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),_i=function(){function e(e,t,r,n,i,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new Ci(t,r,n,i,a)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),ki=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<fi;t++)this.chars.push(new _i);this.logger=e,this.pos=0,this.currPenState=new Ci}var t=e.prototype;return t.equals=function(e){for(var t=!0,r=0;r<fi;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<fi;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<fi;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>fi&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=fi)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){var t=this;e>=144&&this.backSpace();var r=di(e);this.pos>=fi?this.logger.log(0,(function(){return"Cannot insert "+e.toString(16)+" ("+r+") at position "+t.pos+". Skipping it!"})):(this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<fi;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,r=0;r<fi;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),Ti=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<hi;t++)this.rows.push(new ki(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<hi;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,r=0;r<hi;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<hi;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<hi;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(2,(function(){return"pacData = "+JSON.stringify(e)}));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<hi;r++)this.rows[r].clear();var n=this.currRow+1-this.nrRollUpRows,i=this.lastOutputScreen;if(i){var a=i.rows[n].cueStartTime,s=this.logger.time;if(a&&null!==s&&a<s)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(i.rows[n+o])}}this.currRow=t;var l=this.rows[this.currRow];if(null!==e.indent){var c=e.indent,u=Math.max(c-1,0);l.setCursor(e.indent),e.color=l.chars[u].penState.foreground}var d={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(d)},t.setBkgData=function(e){this.logger.log(2,(function(){return"bkgData = "+JSON.stringify(e)})),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){var e=this;if(null!==this.nrRollUpRows){this.logger.log(1,(function(){return e.getDisplayText()}));var t=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(t,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}else this.logger.log(3,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],r="",n=-1,i=0;i<hi;i++){var a=this.rows[i].getTextString();a&&(n=i+1,e?t.push("Row "+n+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},t.getTextAndFormat=function(){return this.rows},e}(),xi=function(){function e(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new Ti(r),this.nonDisplayedMemory=new Ti(r),this.lastOutputScreen=new Ti(r),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(2,(function(){return"MODE="+e})),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=this,r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(function(){return n+": "+t.writeScreen.getDisplayText(!0)})),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(function(){return"DISPLAYED: "+t.displayedMemory.getDisplayText(!0)})),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){var e=this;if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(function(){return"DISP: "+e.displayedMemory.getDisplayText()}))}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),Ei=function(){function e(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var n=new yi;this.channels=[null,new xi(e,t,n),new xi(e+1,r,n)],this.cmdHistory={a:null,b:null},this.logger=n}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var r,n,i,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(n=127&t[s],i=127&t[s+1],0!==n||0!==i){if(this.logger.log(3,"["+bi([t[s],t[s+1]])+"] -> ("+bi([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(a=this.parseChars(n,i))){var o=this.currentChannel;o&&o>0?this.channels[o].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}r||a||this.logger.log(2,"Couldn't parse cleaned data "+bi([n,i])+" orig: "+bi([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var r=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(Si(e,t,r))return wi(null,null,r),this.logger.log(3,"Repeated command ("+bi([e,t])+") is dropped"),!0;var n=20===e||21===e||23===e?1:2,i=this.channels[n];return 20===e||21===e||28===e||29===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),wi(e,t,r),this.currentChannel=n,!0},t.parseMidrow=function(e,t){var r=0;if((17===e||25===e)&&t>=32&&t<=47){if((r=17===e?1:2)!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;var n=this.channels[r];return!!n&&(n.ccMIDROW(t),this.logger.log(3,"MIDROW ("+bi([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var r,n=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(Si(e,t,n))return wi(null,null,n),!0;var i=e<=23?1:2;r=t>=64&&t<=95?1===i?pi[e]:mi[e]:1===i?gi[e]:Ai[e];var a=this.channels[i];return!!a&&(a.setPAC(this.interpretPAC(r,t)),wi(e,t,n),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var r,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),r<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},t.parseChars=function(e,t){var r,n,i=null,a=null;if(e>=25?(r=2,a=e-8):(r=1,a=e),a>=17&&a<=19?(n=17===a?t+80:18===a?t+112:t+144,this.logger.log(2,"Special char '"+di(n)+"' in channel "+r),i=[n]):e>=32&&e<=127&&(i=0===t?[e]:[e,t]),i){var s=bi(i);this.logger.log(3,"Char codes =  "+s.join(",")),wi(e,t,this.cmdHistory)}return i},t.parseBackgroundAttributes=function(e,t){var r;if(!((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47))return!1;var n={};16===e||24===e?(r=Math.floor((t-32)/2),n.background=vi[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(n),wi(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var r=this.channels[t];r&&r.cueSplitAtTime(e)}},e}();function wi(e,t,r){r.a=e,r.b=t}function Si(e,t,r){return r.a===e&&r.b===t}var Li=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}(),Ri=function(){if("undefined"!=typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function r(e,t){if("string"!=typeof t)return!1;if(!Array.isArray(e))return!1;var r=t.toLowerCase();return!!~e.indexOf(r)&&r}function n(e){return r(t,e)}function i(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var s in a)e[s]=a[s]}return e}function a(t,a,s){var o=this,l={enumerable:!0};o.hasBeenReset=!1;var c="",u=!1,d=t,h=a,f=s,p=null,g="",m=!0,A="auto",v="start",y=50,b="middle",C=50,_="middle";Object.defineProperty(o,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(o,"pauseOnExit",i({},l,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},l,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},l,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},l,{get:function(){return g},set:function(t){var n=function(t){return r(e,t)}(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},l,{get:function(){return m},set:function(e){m=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},l,{get:function(){return A},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},l,{get:function(){return v},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},l,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},l,{get:function(){return b},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},l,{get:function(){return C},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");C=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},l,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),o.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}(),Di=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function Ii(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+parseFloat(n||0)}var r=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?t(r[2],r[3],0,r[4]):t(r[1],r[2],r[3],r[4]):null}var Bi=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1},e}();function Pi(e,t,r,n){var i=n?e.split(n):[e];for(var a in i)if("string"==typeof i[a]){var s=i[a].split(r);2===s.length&&t(s[0],s[1])}}var Mi=new Ri(0,0,""),Oi="middle"===Mi.align?"middle":"center";function Fi(e,t,r){var n=e;function i(){var t=Ii(e);if(null===t)throw new Error("Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=i(),a(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.slice(3),a(),t.endTime=i(),a(),function(e,t){var n=new Bi;Pi(e,(function(e,t){var i;switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){n.set(e,r[a].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),n.integer(e,i[0]),n.percent(e,i[0])&&n.set("snapToLines",!1),n.alt(e,i[0],["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start",Oi,"end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start",Oi,"end","line-left","line-right","auto"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start",Oi,"end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");var i=n.get("line","auto");"auto"===i&&-1===Mi.line&&(i=-1),t.line=i,t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align",Oi);var a=n.get("position","auto");"auto"===a&&50===Mi.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function Ni(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var Ui=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new Di,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=Ni(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.slice(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.slice(r),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var n="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i=(n=r()).match(/^()?WEBVTT([ \t].*)?$/);if(null==i||!i[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=r(),t.state){case"HEADER":/:/.test(n)?Pi(n,(function(e,t){}),/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new Ri(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{Fi(n,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==n.indexOf("--\x3e");if(!n||s&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID")}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}(),Gi=/\r\n|\n\r|\n|\r/g,Hi=function(e,t,r){return void 0===r&&(r=0),e.slice(r,r+t.length)===t},Vi=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()};function zi(e,t,r){return Vi(e.toString())+Vi(t.toString())+Vi(r)}var ji="stpp.ttml.im1t",Ki=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,qi=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,Wi={left:"start",center:"center",right:"end",start:"start",end:"end"};function Yi(e,t,r,n){var i=ke(new Uint8Array(e),["mdat"]);if(0!==i.length){var a,s,l,c=i.map((function(e){return fe(e)})),u=(a=t.baseTime,1,void 0===(s=t.timescale)&&(s=1),void 0===l&&(l=!1),bn(a,1,1/s,l));try{c.forEach((function(e){return r(function(e,t){var r=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");var n={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(n).reduce((function(e,t){return e[t]=r.getAttribute("ttp:"+t)||n[t],e}),{}),a="preserve"!==r.getAttribute("xml:space"),s=Qi($i(r,"styling","style")),l=Qi($i(r,"layout","region")),c=$i(r,"body","[begin]");return[].map.call(c,(function(e){var r=Xi(e,a);if(!r||!e.hasAttribute("begin"))return null;var n=ea(e.getAttribute("begin"),i),c=ea(e.getAttribute("dur"),i),u=ea(e.getAttribute("end"),i);if(null===n)throw Zi(e);if(null===u){if(null===c)throw Zi(e);u=n+c}var d=new Ri(n-t,u-t,r);d.id=zi(d.startTime,d.endTime,d.text);var h=function(e,t,r){var n="http://www.w3.org/ns/ttml#styling",i=null,a=null!=e&&e.hasAttribute("style")?e.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(i=r[a]),["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"].reduce((function(r,a){var s=Ji(t,n,a)||Ji(e,n,a)||Ji(i,n,a);return s&&(r[a]=s),r}),{})}(l[e.getAttribute("region")],s[e.getAttribute("style")],s),f=h.textAlign;if(f){var p=Wi[f];p&&(d.lineAlign=p),d.align=f}return o(d,h),d})).filter((function(e){return null!==e}))}(e,u))}))}catch(e){n(e)}}else n(new Error("Could not parse IMSC1 mdat"))}function $i(e,t,r){var n=e.getElementsByTagName(t)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function Qi(e){return e.reduce((function(e,t){var r=t.getAttribute("xml:id");return r&&(e[r]=t),e}),{})}function Xi(e,t){return[].slice.call(e.childNodes).reduce((function(e,r,n){var i;return"br"===r.nodeName&&n?e+"\n":null!=(i=r.childNodes)&&i.length?Xi(r,t):t?e+r.textContent.trim().replace(/\s+/g," "):e+r.textContent}),"")}function Ji(e,t,r){return e&&e.hasAttributeNS(t,r)?e.getAttributeNS(t,r):null}function Zi(e){return new Error("Could not parse ttml timestamp "+e)}function ea(e,t){if(!e)return null;var r=Ii(e);return null===r&&(Ki.test(e)?r=function(e,t){var r=Ki.exec(e),n=(0|r[4])+(0|r[5])/t.subFrameRate;return 3600*(0|r[1])+60*(0|r[2])+(0|r[3])+n/t.frameRate}(e,t):qi.test(e)&&(r=function(e,t){var r=qi.exec(e),n=Number(r[1]);switch(r[2]){case"h":return 3600*n;case"m":return 60*n;case"ms":return 1e3*n;case"f":return n/t.frameRate;case"t":return n/t.tickRate}return n}(e,t))),r}var ta=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new Li(this,"textTrack1"),r=new Li(this,"textTrack2"),n=new Li(this,"textTrack3"),i=new Li(this,"textTrack4");this.cea608Parser1=new Ei(1,t,r),this.cea608Parser2=new Ei(3,n,i)}e.on(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(y.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(y.FRAG_LOADING,this.onFragLoading,this),e.on(y.FRAG_LOADED,this.onFragLoaded,this),e.on(y.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(y.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(y.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(y.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(y.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(y.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(y.FRAG_LOADING,this.onFragLoading,this),e.off(y.FRAG_LOADED,this.onFragLoaded,this),e.off(y.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(y.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(y.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(y.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(y.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,r,n,i){for(var a,s,o,l,c=!1,u=i.length;u--;){var d=i[u],h=(a=d[0],s=d[1],o=t,l=r,Math.min(s,l)-Math.max(a,o));if(h>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],r),c=!0,h/(r-t)>.5))return}if(c||i.push([t,r]),this.config.renderTextTracksNatively){var f=this.captionsTracks[e];this.Cues.newCue(f,t,r,n)}else{var p=this.Cues.newCue(null,t,r,n);this.hls.trigger(y.CUES_PARSED,{type:"captions",cues:p,track:e})}},t.onInitPtsFound=function(e,t){var r=this,n=t.frag,i=t.id,a=t.initPTS,s=t.timescale,o=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]={baseTime:a,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach((function(e){r.onFragLoaded(y.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var n=t.textTracks[r];if(n[e])return n}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,r=this.captionsTracks,n=this.media,i=t[e],a=i.label,s=i.languageCode,o=this.getExistingTrack(e);if(o)r[e]=o,mt(r[e]),pt(r[e],n);else{var l=this.createTextTrack("captions",a,s);l&&(l[e]=!0,r[e]=l)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var r={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(y.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}}},t.createTextTrack=function(e,t,r){var n=this.media;if(n)return n.addTextTrack(e,t,r)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){mt(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)mt(t[r])}},t.onSubtitleTracksUpdated=function(e,t){var r=this,n=t.subtitleTracks||[],i=n.some((function(e){return e.textCodec===ji}));if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(ei(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){var a=this.media?this.media.textTracks:null;this.tracks.forEach((function(e,t){var n;if(a&&t<a.length){for(var i=null,s=0;s<a.length;s++)if(ra(a[s],e)){i=a[s];break}i&&(n=i)}if(n)mt(n);else{var o=r._captionsOrSubtitlesFromCharacteristics(e);(n=r.createTextTrack(o,e.name,e.lang))&&(n.mode="disabled")}n&&(n.groupId=e.groupId,r.textTracks.push(n))}))}else if(this.tracks.length){var s=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(y.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}},t._captionsOrSubtitlesFromCharacteristics=function(e){if(e.attrs.CHARACTERISTICS){var t=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),r=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(t&&r)return"captions"}return"subtitles"},t.onManifestLoaded=function(e,t){var r=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var n="textTrack"+t[1],i=r.captionsProperties[n];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.closedCaptionsForLevel=function(e){var t=this.hls.levels[e.level];return null==t?void 0:t.attrs["CLOSED-CAPTIONS"]},t.onFragLoading=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2,i=this.lastSn,a=this.lastPartIndex;if(this.enabled&&r&&n&&t.frag.type===lt){var s,o,l=t.frag.sn,c=null!=(s=null==t||null==(o=t.part)?void 0:o.index)?s:-1;l===i+1||l===i&&c===a+1||(r.reset(),n.reset()),this.lastSn=l,this.lastPartIndex=c}},t.onFragLoaded=function(e,t){var r=t.frag,n=t.payload;if(r.type===ut)if(n.byteLength){var i=r.decryptdata,a="stats"in t;if(null==i||!i.encrypted||a){var s=this.tracks[r.level],o=this.vttCCs;o[r.cc]||(o[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),s&&s.textCodec===ji?this._parseIMSC1(r,n):this._parseVTTs(t)}}else this.hls.trigger(y.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var r=this,n=this.hls;Yi(t,this.initPTS[e.cc],(function(t){r._appendCues(t,e.level),n.trigger(y.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){E.log("Failed to parse IMSC1: "+t),n.trigger(y.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e){var t,r=this,n=e.frag,i=e.payload,a=this.initPTS,s=this.unparsedVttFrags,o=a.length-1;if(a[n.cc]||-1!==o){var l=this.hls;!function(e,t,r,n,i,a,s){var o,l,c,u=new Ui,d=fe(new Uint8Array(e)).trim().replace(Gi,"\n").split("\n"),h=[],f=t?(o=t.baseTime,void 0===(l=t.timescale)&&(l=1),bn(o,9e4,1/l)):0,p="00:00.000",g=0,m=0,A=!0;u.oncue=function(e){var a=r[n],s=r.ccOffset,o=(g-f)/9e4;if(null!=a&&a.new&&(void 0!==m?s=r.ccOffset=a.start:function(e,t,r){var n=e[t],i=e[n.prevCC];if(!i||!i.new&&n.new)return e.ccOffset=e.presentationOffset=n.start,void(n.new=!1);for(;null!=(a=i)&&a.new;){var a;e.ccOffset+=n.start-i.start,n.new=!1,i=e[(n=i).prevCC]}e.presentationOffset=r}(r,n,o)),o){if(!t)return void(c=new Error("Missing initPTS for VTT MPEGTS"));s=o-r.presentationOffset}var l=e.endTime-e.startTime,u=xn(9e4*(e.startTime+s-m),9e4*i)/9e4;e.startTime=Math.max(u,0),e.endTime=Math.max(u+l,0);var d=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(d)),e.id||(e.id=zi(e.startTime,e.endTime,d)),e.endTime>0&&h.push(e)},u.onparsingerror=function(e){c=e},u.onflush=function(){c?s(c):a(h)},d.forEach((function(e){if(A){if(Hi(e,"X-TIMESTAMP-MAP=")){A=!1,e.slice(16).split(",").forEach((function(e){Hi(e,"LOCAL:")?p=e.slice(6):Hi(e,"MPEGTS:")&&(g=parseInt(e.slice(7)))}));try{m=function(e){var t=parseInt(e.slice(-3)),r=parseInt(e.slice(-6,-4)),n=parseInt(e.slice(-9,-7)),i=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!(v(t)&&v(r)&&v(n)&&v(i)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*r,(t+=6e4*n)+36e5*i}(p)/1e3}catch(e){c=e}return}""===e&&(A=!1)}u.parse(e+"\n")})),u.flush()}(null!=(t=n.initSegment)&&t.data?Se(n.initSegment.data,new Uint8Array(i)):i,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(function(e){r._appendCues(e,n.level),l.trigger(y.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(function(t){var a="Missing initPTS for VTT MPEGTS"===t.message;a?s.push(e):r._fallbackToIMSC1(n,i),E.log("Failed to parse VTT cue: "+t),a&&o>n.cc||l.trigger(y.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:t})}))}else s.push(e)},t._fallbackToIMSC1=function(e,t){var r=this,n=this.tracks[e.level];n.textCodec||Yi(t,this.initPTS[e.cc],(function(){n.textCodec=ji,r._parseIMSC1(e,t)}),(function(){n.textCodec="wvtt"}))},t._appendCues=function(e,t){var r=this.hls;if(this.config.renderTextTracksNatively){var n=this.textTracks[t];if(!n||"disabled"===n.mode)return;e.forEach((function(e){return gt(n,e)}))}else{var i=this.tracks[t];if(!i)return;var a=i.default?"default":"subtitles"+t;r.trigger(y.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){t.frag.type===ut&&this.onFragLoaded(y.FRAG_LOADED,t)},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var r=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&r&&n){var i=t.frag,a=t.samples;if(i.type!==lt||"NONE"!==this.closedCaptionsForLevel(i))for(var s=0;s<a.length;s++){var o=a[s].bytes;if(o){var l=this.extractCea608Data(o);r.addData(a[s].pts,l[0]),n.addData(a[s].pts,l[1])}}}},t.onBufferFlushing=function(e,t){var r=t.startOffset,n=t.endOffset,i=t.endOffsetSubtitles,a=t.type,s=this.media;if(s&&!(s.currentTime<n)){if(!a||"video"===a){var o=this.captionsTracks;Object.keys(o).forEach((function(e){return At(o[e],r,n)}))}if(this.config.renderTextTracksNatively&&0===r&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return At(l[e],r,i)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],r=31&e[0],n=2,i=0;i<r;i++){var a=e[n++],s=127&e[n++],o=127&e[n++];if((0!==s||0!==o)&&0!=(4&a)){var l=3&a;0!==l&&1!==l||(t[l].push(s),t[l].push(o))}}return t},e}();function ra(e,t){return!!e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}var na=function(){function e(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},t.registerListeners=function(){var e=this.hls;e.on(y.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.BUFFER_CODECS,this.onBufferCodecs,this),e.on(y.MEDIA_DETACHING,this.onMediaDetaching,this)},t.unregisterListener=function(){var e=this.hls;e.off(y.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(y.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.BUFFER_CODECS,this.onBufferCodecs,this),e.off(y.MEDIA_DETACHING,this.onMediaDetaching,this)},t.onFpsDropLevelCapping=function(e,t){var r=this.hls.levels[t.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})},t.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null},t.onManifestParsed=function(e,t){var r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},t.onMediaDetaching=function(){this.stopCapping()},t.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.getMaxLevel=function(t){var r=this,n=this.hls.levels;if(!n.length)return-1;var i=n.filter((function(e,n){return r.isLevelAllowed(e)&&n<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},t.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.width||t.height||(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t},t.isLevelAllowed=function(e){return!this.restrictedLevels.some((function(t){return e.bitrate===t.bitrate&&e.width===t.width&&e.height===t.height}))},e.getMaxLevelByMediaSize=function(e,t,r){if(null==e||!e.length)return-1;for(var n,i,a=e.length-1,s=0;s<e.length;s+=1){var o=e[s];if((o.width>=t||o.height>=r)&&(n=o,!(i=e[s+1])||n.width!==i.width||n.height!==i.height)){a=s;break}}return a},a(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(e){}return e}}]),e}(),ia=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(y.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(y.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var r=this.hls.config;if(r.capLevelOnFPSDrop){var n=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=n,n&&"function"==typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,r){var n=performance.now();if(t){if(this.lastTime){var i=n-this.lastTime,a=r-this.lastDroppedFrames,s=t-this.lastDecodedFrames,o=1e3*a/i,l=this.hls;if(l.trigger(y.FPS_DROP,{currentDropped:a,currentDecoded:s,totalDroppedFrames:r}),o>0&&a>l.config.fpsDroppedMonitoringThreshold*s){var c=l.currentLevel;E.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(y.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,this.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}(),aa="[eme]",sa=function(){function e(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=e.CDMCleanupPromise?[e.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=E.debug.bind(E,aa),this.log=E.log.bind(E,aa),this.warn=E.warn.bind(E,aa),this.error=E.error.bind(E,aa),this.hls=t,this.config=t.config,this.registerListeners()}var t=e.prototype;return t.destroy=function(){this.unregisterListeners(),this.onMediaDetached();var e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null},t.registerListeners=function(){this.hls.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(y.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(y.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(y.MANIFEST_LOADED,this.onManifestLoaded,this)},t.unregisterListeners=function(){this.hls.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(y.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(y.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(y.MANIFEST_LOADED,this.onManifestLoaded,this)},t.getLicenseServerUrl=function(e){var t=this.config,r=t.drmSystems,n=t.widevineLicenseUrl,i=r[e];if(i)return i.licenseUrl;if(e===V.WIDEVINE&&n)return n;throw new Error('no license server URL configured for key-system "'+e+'"')},t.getServerCertificateUrl=function(e){var t=this.config.drmSystems[e];if(t)return t.serverCertificateUrl;this.log('No Server Certificate in config.drmSystems["'+e+'"]')},t.attemptKeySystemAccess=function(e){var t=this,r=this.hls.levels,n=function(e,t,r){return!!e&&r.indexOf(e)===t},i=r.map((function(e){return e.audioCodec})).filter(n),a=r.map((function(e){return e.videoCodec})).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((function(r,n){!function e(s){var o=s.shift();t.getMediaKeysPromise(o,i,a).then((function(e){return r({keySystem:o,mediaKeys:e})})).catch((function(t){s.length?e(s):n(t instanceof oa?t:new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_NO_ACCESS,error:t,fatal:!0},t.message))}))}(e)}))},t.requestMediaKeySystemAccess=function(e,t){var r=this.config.requestMediaKeySystemAccessFunc;if("function"!=typeof r){var n="Configured requestMediaKeySystemAccess is not a function "+r;return null===X&&"http:"===self.location.protocol&&(n="navigator.requestMediaKeySystemAccess is not available over insecure protocol "+location.protocol),Promise.reject(new Error(n))}return r(e,t)},t.getMediaKeysPromise=function(e,t,r){var n=this,i=function(e,t,r,n){var i;switch(e){case V.FAIRPLAY:i=["cenc","sinf"];break;case V.WIDEVINE:case V.PLAYREADY:i=["cenc"];break;case V.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error("Unknown key-system: "+e)}return function(e,t,r,n){return[{initDataTypes:e,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:t.map((function(e){return{contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null}})),videoCapabilities:r.map((function(e){return{contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}}))}]}(i,t,r,n)}(e,t,r,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e],s=null==a?void 0:a.keySystemAccess;if(!s){this.log('Requesting encrypted media "'+e+'" key-system access with config: '+JSON.stringify(i)),s=this.requestMediaKeySystemAccess(e,i);var o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch((function(t){n.log('Failed to obtain access to key-system "'+e+'": '+t)})),s.then((function(t){n.log('Access for key-system "'+t.keySystem+'" obtained');var r=n.fetchServerCertificate(e);return n.log('Create media-keys for "'+e+'"'),o.mediaKeys=t.createMediaKeys().then((function(t){return n.log('Media-keys created for "'+e+'"'),r.then((function(r){return r?n.setMediaKeysServerCertificate(t,e,r):t}))})),o.mediaKeys.catch((function(t){n.error('Failed to create media-keys for "'+e+'"}: '+t)})),o.mediaKeys}))}return s.then((function(){return a.mediaKeys}))},t.createMediaKeySessionContext=function(e){var t=e.decryptdata,r=e.keySystem,n=e.mediaKeys;this.log('Creating key-system session "'+r+'" keyId: '+pe(t.keyId||[]));var i=n.createSession(),a={decryptdata:t,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a},t.renewKeySession=function(e){var t=e.decryptdata;if(t.pssh){var r=this.createMediaKeySessionContext(e),n=this.getKeyIdString(t);this.keyIdToKeySessionPromise[n]=this.generateRequestWithPreferredKeySession(r,"cenc",t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)},t.getKeyIdString=function(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(null===e.keyId)throw new Error("keyId is null");return pe(e.keyId)},t.updateKeySession=function(e,t){var r,n=e.mediaKeysSession;return this.log('Updating key-session "'+n.sessionId+'" for keyID '+pe((null==(r=e.decryptdata)?void 0:r.keyId)||[])+"\n      } (data length: "+(t?t.byteLength:t)+")"),n.update(t)},t.selectKeySystemFormat=function(e){var t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log("Selecting key-system from fragment (sn: "+e.sn+" "+e.type+": "+e.level+") key formats "+t.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise},t.getKeyFormatPromise=function(e){var t=this;return new Promise((function(r,n){var i=Q(t.config),a=e.map(W).filter((function(e){return!!e&&-1!==i.indexOf(e)}));return t.getKeySystemSelectionPromise(a).then((function(e){var t=e.keySystem,i=$(t);i?r(i):n(new Error('Unable to find format for key-system "'+t+'"'))})).catch(n)}))},t.loadKey=function(e){var t=this,r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i="(keyId: "+n+' format: "'+r.keyFormat+'" method: '+r.method+" uri: "+r.uri+")";this.log("Starting session for key "+i);var a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then((function(n){var a=n.keySystem,s=n.mediaKeys;return t.throwIfDestroyed(),t.log("Handle encrypted media sn: "+e.frag.sn+" "+e.frag.type+": "+e.frag.level+" using key "+i),t.attemptSetMediaKeys(a,s).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({keySystem:a,mediaKeys:s,decryptdata:r});return t.generateRequestWithPreferredKeySession(e,"cenc",r.pssh,"playlist-key")}))}))).catch((function(e){return t.handleError(e)})),a},t.throwIfDestroyed=function(e){if(!this.hls)throw new Error("invalid state")},t.handleError=function(e){this.hls&&(this.error(e.message),e instanceof oa?this.hls.trigger(y.ERROR,e.data):this.hls.trigger(y.ERROR,{type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))},t.getKeySystemForKeyPromise=function(e){var t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){var n=W(e.keyFormat),i=n?[n]:Q(this.config);return this.attemptKeySystemAccess(i)}return r},t.getKeySystemSelectionPromise=function(e){if(e.length||(e=Q(this.config)),0===e.length)throw new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},"Missing key-system license configuration options "+JSON.stringify({drmSystems:this.config.drmSystems}));return this.attemptKeySystemAccess(e)},t._onMediaEncrypted=function(e){var t=this,r=e.initDataType,n=e.initData;if(this.debug('"'+e.type+'" event: init data type: "'+r+'"'),null!==n){var i,a;if("sinf"===r&&this.config.drmSystems[V.FAIRPLAY]){var s=ve(new Uint8Array(n));try{var o=G(JSON.parse(s).sinf),l=Ee(new Uint8Array(o));if(!l)return;i=l.subarray(8,24),a=V.FAIRPLAY}catch(e){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{var c=function(e){if(!(e instanceof ArrayBuffer)||e.byteLength<32)return null;var t={version:0,systemId:"",kids:null,data:null},r=new DataView(e),n=r.getUint32(0);if(e.byteLength!==n&&n>44)return null;if(1886614376!==r.getUint32(4))return null;if(t.version=r.getUint32(8)>>>24,t.version>1)return null;t.systemId=pe(new Uint8Array(e,12,16));var i=r.getUint32(28);if(0===t.version){if(n-32<i)return null;t.data=new Uint8Array(e,32,i)}else if(1===t.version){t.kids=[];for(var a=0;a<i;a++)t.kids.push(new Uint8Array(e,32+16*a,16))}return t}(n);if(null===c)return;0===c.version&&c.systemId===Y&&c.data&&(i=c.data.subarray(8,24)),a=function(e){if(e===Y)return V.WIDEVINE}(c.systemId)}if(a&&i){for(var u=pe(i),d=this.keyIdToKeySessionPromise,h=this.mediaKeySessions,f=d[u],p=function(){var e=h[g],a=e.decryptdata;if(a.pssh||!a.keyId)return"continue";var s=pe(a.keyId);return u===s||-1!==a.uri.replace(/-/g,"").indexOf(u)?(f=d[s],delete d[s],a.pssh=new Uint8Array(n),a.keyId=i,f=d[u]=f.then((function(){return t.generateRequestWithPreferredKeySession(e,r,n,"encrypted-event-key-match")})),"break"):void 0},g=0;g<h.length;g++){var m=p();if("continue"!==m&&"break"===m)break}f||(f=d[u]=this.getKeySystemSelectionPromise([a]).then((function(e){var a,s=e.keySystem,o=e.mediaKeys;t.throwIfDestroyed();var l=new Pe("ISO-23001-7",u,null!=(a=$(s))?a:"");return l.pssh=new Uint8Array(n),l.keyId=i,t.attemptSetMediaKeys(s,o).then((function(){t.throwIfDestroyed();var e=t.createMediaKeySessionContext({decryptdata:l,keySystem:s,mediaKeys:o});return t.generateRequestWithPreferredKeySession(e,r,n,"encrypted-event-no-match")}))}))),f.catch((function(e){return t.handleError(e)}))}}},t._onWaitingForKey=function(e){this.log('"'+e.type+'" event')},t.attemptSetMediaKeys=function(e,t){var r=this,n=this.setMediaKeysQueue.slice();this.log('Setting media-keys for "'+e+'"');var i=Promise.all(n).then((function(){if(!r.media)throw new Error("Attempted to set mediaKeys without media element attached");return r.media.setMediaKeys(t)}));return this.setMediaKeysQueue.push(i),i.then((function(){r.log('Media-keys set for "'+e+'"'),n.push(i),r.setMediaKeysQueue=r.setMediaKeysQueue.filter((function(e){return-1===n.indexOf(e)}))}))},t.generateRequestWithPreferredKeySession=function(e,t,r,n){var i,a,s=this,o=null==(i=this.config.drmSystems)||null==(a=i[e.keySystem])?void 0:a.generateRequest;if(o)try{var l=o.call(this.hls,t,r,e);if(!l)throw new Error("Invalid response from configured generateRequest filter");t=l.initDataType,r=e.decryptdata.pssh=l.initData?new Uint8Array(l.initData):null}catch(e){var c;if(this.warn(e.message),null!=(c=this.hls)&&c.config.debug)throw e}if(null===r)return this.log('Skipping key-session request for "'+n+'" (no initData)'),Promise.resolve(e);var u=this.getKeyIdString(e.decryptdata);this.log('Generating key-session request for "'+n+'": '+u+" (init data type: "+t+" length: "+(r?r.byteLength:null)+")");var d=new Gn;e.mediaKeysSession.onmessage=function(t){var r=e.mediaKeysSession;if(r){var n=t.messageType,i=t.message;s.log('"'+n+'" message event for session "'+r.sessionId+'" message size: '+i.byteLength),"license-request"===n||"license-renewal"===n?s.renewLicense(e,i).catch((function(e){s.handleError(e),d.emit("error",e)})):"license-release"===n?e.keySystem===V.FAIRPLAY&&(s.updateKeySession(e,H("acknowledged")),s.removeSession(e)):s.warn('unhandled media key message type "'+n+'"')}else d.emit("error",new Error("invalid state"))},e.mediaKeysSession.onkeystatuseschange=function(t){if(e.mediaKeysSession){s.onKeyStatusChange(e);var r=e.keyStatus;d.emit("keyStatus",r),"expired"===r&&(s.warn(e.keySystem+" expired for key "+u),s.renewKeySession(e))}else d.emit("error",new Error("invalid state"))};var h=new Promise((function(e,t){d.on("error",t),d.on("keyStatus",(function(r){r.startsWith("usable")?e():"output-restricted"===r?t(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===r?t(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},'key status changed to "'+r+'"')):"expired"===r?t(new Error("key expired while generating request")):s.warn('unhandled key status change "'+r+'"')}))}));return e.mediaKeysSession.generateRequest(t,r).then((function(){var t;s.log('Request generated for key-session "'+(null==(t=e.mediaKeysSession)?void 0:t.sessionId)+'" keyId: '+u)})).catch((function(e){throw new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_NO_SESSION,error:e,fatal:!1},"Error generating key-session request: "+e)})).then((function(){return h})).catch((function(t){throw d.removeAllListeners(),s.removeSession(e),t})).then((function(){return d.removeAllListeners(),e}))},t.onKeyStatusChange=function(e){var t=this;e.mediaKeysSession.keyStatuses.forEach((function(r,n){t.log('key status change "'+r+'" for keyStatuses keyId: '+pe("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))+" session keyId: "+pe(new Uint8Array(e.decryptdata.keyId||[]))+" uri: "+e.decryptdata.uri),e.keyStatus=r}))},t.fetchServerCertificate=function(e){var t=this.config,r=new(0,t.loader)(t),i=this.getServerCertificateUrl(e);return i?(this.log('Fetching serverCertificate for "'+e+'"'),new Promise((function(a,s){var o={responseType:"arraybuffer",url:i},l=t.certLoadPolicy.default,c={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(e,t,r,n){a(e.data)},onError:function(t,r,a,l){s(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:n({url:o.url,data:void 0},t)},'"'+e+'" certificate request failed ('+i+"). Status: "+t.code+" ("+t.text+")"))},onTimeout:function(t,r,n){s(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:n,response:{url:o.url,data:void 0}},'"'+e+'" certificate request timed out ('+i+")"))},onAbort:function(e,t,r){s(new Error("aborted"))}};r.load(o,c,u)}))):Promise.resolve()},t.setMediaKeysServerCertificate=function(e,t,r){var n=this;return new Promise((function(i,a){e.setServerCertificate(r).then((function(a){n.log("setServerCertificate "+(a?"success":"not supported by CDM")+" ("+(null==r?void 0:r.byteLength)+') on "'+t+'"'),i(e)})).catch((function(e){a(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:e,fatal:!0},e.message))}))}))},t.renewLicense=function(e,t){var r=this;return this.requestLicense(e,new Uint8Array(t)).then((function(t){return r.updateKeySession(e,new Uint8Array(t)).catch((function(e){throw new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:e,fatal:!0},e.message)}))}))},t.setupLicenseXHR=function(e,t,r,n){var i=this,a=this.config.licenseXhrSetup;return a?Promise.resolve().then((function(){if(!r.decryptdata)throw new Error("Key removed");return a.call(i.hls,e,t,r,n)})).catch((function(s){if(!r.decryptdata)throw s;return e.open("POST",t,!0),a.call(i.hls,e,t,r,n)})).then((function(r){return e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:r||n}})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:n}))},t.requestLicense=function(e,t){var r=this,n=this.config.keyLoadPolicy.default;return new Promise((function(i,a){var s=r.getLicenseServerUrl(e.keySystem);r.log("Sending license request to URL: "+s);var o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=function(){if(!r.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(4===o.readyState)if(200===o.status){r._requestLicenseFailureCount=0;var l=o.response;r.log("License received "+(l instanceof ArrayBuffer?l.byteLength:l));var c=r.config.licenseResponseCallback;if(c)try{l=c.call(r.hls,o,s,e)}catch(e){r.error(e)}i(l)}else{var u=n.errorRetry,d=u?u.maxNumRetry:0;if(r._requestLicenseFailureCount++,r._requestLicenseFailureCount>d||o.status>=400&&o.status<500)a(new oa({type:b.KEY_SYSTEM_ERROR,details:C.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},"License Request XHR failed ("+s+"). Status: "+o.status+" ("+o.statusText+")"));else{var h=d-r._requestLicenseFailureCount+1;r.warn("Retrying license request, "+h+" attempts left"),r.requestLicense(e,t).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,r.setupLicenseXHR(o,s,e,t).then((function(e){var t=e.xhr,r=e.licenseChallenge;t.send(r)}))}))},t.onMediaAttached=function(e,t){if(this.config.emeEnabled){var r=t.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}},t.onMediaDetached=function(){var t=this,r=this.media,n=this.mediaKeySessions;r&&(r.removeEventListener("encrypted",this.onMediaEncrypted),r.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Pe.clearKeyUriToKeyIdMap();var i=n.length;e.CDMCleanupPromise=Promise.all(n.map((function(e){return t.removeSession(e)})).concat(null==r?void 0:r.setMediaKeys(null).catch((function(e){t.log("Could not clear media keys: "+e+". media.src: "+(null==r?void 0:r.src))})))).then((function(){i&&(t.log("finished closing key sessions and clearing media keys"),n.length=0)})).catch((function(e){t.log("Could not close sessions and clear media keys: "+e+". media.src: "+(null==r?void 0:r.src))}))},t.onManifestLoading=function(){this.keyFormatPromise=null},t.onManifestLoaded=function(e,t){var r=t.sessionKeys;if(r&&this.config.emeEnabled&&!this.keyFormatPromise){var n=r.reduce((function(e,t){return-1===e.indexOf(t.keyFormat)&&e.push(t.keyFormat),e}),[]);this.log("Selecting key-system from session-keys "+n.join(", ")),this.keyFormatPromise=this.getKeyFormatPromise(n)}},t.removeSession=function(e){var t=this,r=e.mediaKeysSession,n=e.licenseXhr;if(r){this.log("Remove licenses and keys and close session "+r.sessionId),r.onmessage=null,r.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;var i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch((function(e){t.log("Could not remove session: "+e)})).then((function(){return r.close()})).catch((function(e){t.log("Could not close session: "+e)}))}},e}();sa.CDMCleanupPromise=void 0;var oa=function(e){function t(t,r){var n;return(n=e.call(this,r)||this).data=void 0,t.error||(t.error=new Error(r)),n.data=t,t.err=t.error,n}return l(t,e),t}(h(Error)),la="a",ca="av",ua=function(){function e(t){var r=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){r.initialized&&(r.starved=!0),r.buffering=!0},this.onPlaying=function(){r.initialized||(r.initialized=!0),r.buffering=!1},this.applyPlaylistData=function(e){try{r.apply(e,{ot:"m",su:!r.initialized})}catch(e){E.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=function(e){try{var t=e.frag,n=r.hls.levels[t.level],i=r.getObjectType(t),a={d:1e3*t.duration,ot:i};"v"!==i&&i!==la&&i!=ca||(a.br=n.bitrate/1e3,a.tb=r.getTopBandwidth(i)/1e3,a.bl=r.getBufferLength(i)),r.apply(e,a)}catch(e){E.warn("Could not generate segment CMCD data.",e)}},this.hls=t;var n=this.config=t.config,i=n.cmcd;null!=i&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||e.uuid(),this.cid=i.contentId,this.useHeaders=!0===i.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(y.MEDIA_DETACHED,this.onMediaDetached,this),e.on(y.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(y.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(y.MEDIA_DETACHED,this.onMediaDetached,this),e.off(y.BUFFER_CREATED,this.onBufferCreated,this)},t.destroy=function(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var r,n;this.audioBuffer=null==(r=t.tracks.audio)?void 0:r.buffer,this.videoBuffer=null==(n=t.tracks.video)?void 0:n.buffer},t.createData=function(){var e;return{v:1,sf:"h",sid:this.sid,cid:this.cid,pr:null==(e=this.media)?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,r){void 0===r&&(r={}),o(r,this.createData());var n="i"===r.ot||"v"===r.ot||r.ot===ca;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),null==r.su&&(r.su=this.buffering),this.useHeaders){var i=e.toHeaders(r);if(!Object.keys(i).length)return;t.headers||(t.headers={}),o(t.headers,i)}else{var a=e.toQuery(r);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?"tt":"initSegment"===e.sn?"i":"audio"===t?la:"main"===t?this.hls.audioTracks.length?"v":ca:void 0},t.getTopBandwidth=function(e){var t,r=0,n=this.hls;if(e===la)t=n.audioTracks;else{var i=n.maxAutoLevel,a=i>-1?i+1:n.levels.length;t=n.levels.slice(0,a)}for(var s,o=p(t);!(s=o()).done;){var l=s.value;l.bitrate>r&&(r=l.bitrate)}return r>0?r:NaN},t.getBufferLength=function(e){var t=this.hls.media,r=e===la?this.audioBuffer:this.videoBuffer;return r&&t?1e3*dr.bufferInfo(r,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,r=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new r(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,r,n){t(e),this.loader.load(e,r,n)},a(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,r=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new r(e)}var n=e.prototype;return n.destroy=function(){this.loader.destroy()},n.abort=function(){this.loader.abort()},n.load=function(e,r,n){t(e),this.loader.load(e,r,n)},a(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,r=[],n=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},a=function(e){return 100*i(e/100)},s={br:i,d:i,bl:a,dl:a,mtp:a,nor:function(e){return encodeURIComponent(e)},rtp:a,tb:i},o=p(Object.keys(e||{}).sort());!(t=o()).done;){var l=t.value,c=e[l];if(n(c)&&!("v"===l&&1===c||"pr"==l&&1===c)){var u=s[l];u&&(c=u(c));var d,h=typeof c;d="ot"===l||"sf"===l||"st"===l?l+"="+c:"boolean"===h?l:"number"===h?l+"="+c:l+"="+JSON.stringify(c),r.push(d)}}return r.join(",")},e.toHeaders=function(t){for(var r={},n=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},s=0,o=Object.keys(t);s<o.length;s++){var l=o[s];i[null!=a[l]?a[l]:1][l]=t[l]}for(var c=0;c<i.length;c++){var u=e.serialize(i[c]);u&&(r["CMCD-"+n[c]]=u)}return r},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var r=e.includes("?")?"&":"?";return""+e+r+t},e}(),da=function(){function e(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=E.log.bind(E,"[content-steering]:"),this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(y.MANIFEST_LOADING,this.onManifestLoading,this),e.on(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(y.MANIFEST_PARSED,this.onManifestParsed,this),e.on(y.ERROR,this.onError,this)},t.unregisterListeners=function(){var e=this.hls;e&&(e.off(y.MANIFEST_LOADING,this.onManifestLoading,this),e.off(y.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(y.MANIFEST_PARSED,this.onManifestParsed,this),e.off(y.ERROR,this.onError,this))},t.startLoad=function(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){var e=Math.max(1e3*this.timeToLoad-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)},t.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)},t.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},t.removeLevel=function(e){var t=this.levels;t&&(this.levels=t.filter((function(t){return t!==e})))},t.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},t.onManifestLoaded=function(e,t){var r=t.contentSteering;null!==r&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())},t.onManifestParsed=function(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks},t.onError=function(e,t){var r=t.errorAction;if(2===(null==r?void 0:r.action)&&1===r.flags){var n=this.pathwayPriority,i=this.pathwayId;this.penalizedPathways[i]||(this.penalizedPathways[i]=performance.now()),!n&&this.levels&&(n=this.levels.reduce((function(e,t){return-1===e.indexOf(t.pathwayId)&&e.push(t.pathwayId),e}),[])),n&&n.length>1&&(this.updatePathwayPriority(n),r.resolved=this.pathwayId!==i)}},t.filterParsedLevels=function(e){this.levels=e;var t=this.getLevelsForPathway(this.pathwayId);if(0===t.length){var r=e[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+r+'"'),t=this.getLevelsForPathway(r),this.pathwayId=r}return t.length!==e.length?(this.log("Found "+t.length+"/"+e.length+' levels in Pathway "'+this.pathwayId+'"'),t):e},t.getLevelsForPathway=function(e){return null===this.levels?[]:this.levels.filter((function(t){return e===t.pathwayId}))},t.updatePathwayPriority=function(e){var t;this.pathwayPriority=e;var r=this.penalizedPathways,n=performance.now();Object.keys(r).forEach((function(e){n-r[e]>3e5&&delete r[e]}));for(var i=0;i<e.length;i++){var a=e[i];if(!r[a]){if(a===this.pathwayId)return;var s=this.hls.nextLoadLevel,o=this.hls.levels[s];if((t=this.getLevelsForPathway(a)).length>0){this.log('Setting Pathway to "'+a+'"'),this.pathwayId=a,this.hls.trigger(y.LEVELS_UPDATED,{levels:t});var l=this.hls.levels[s];o&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==o.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==o.bitrate&&this.log("Unstable Pathways change from bitrate "+o.bitrate+" to "+l.bitrate),this.hls.nextLoadLevel=s);break}}}},t.clonePathways=function(e){var t=this,r=this.levels;if(r){var n={},i={};e.forEach((function(e){var a=e.ID,s=e["BASE-ID"],l=e["URI-REPLACEMENT"];if(!r.some((function(e){return e.pathwayId===a}))){var c=t.getLevelsForPathway(s).map((function(e){var t=o({},e);t.details=void 0,t.url=fa(e.uri,e.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l);var r=new L(e.attrs);r["PATHWAY-ID"]=a;var s=r.AUDIO&&r.AUDIO+"_clone_"+a,c=r.SUBTITLES&&r.SUBTITLES+"_clone_"+a;s&&(n[r.AUDIO]=s,r.AUDIO=s),c&&(i[r.SUBTITLES]=c,r.SUBTITLES=c),t.attrs=r;var u=new wt(t);return Yt(u,"audio",s),Yt(u,"text",c),u}));r.push.apply(r,c),ha(t.audioTracks,n,l,a),ha(t.subtitleTracks,i,l,a)}}))}},t.loadSteeringManifest=function(e){var t,r=this,n=this.hls.config,i=n.loader;this.loader&&this.loader.destroy(),this.loader=new i(n);try{t=new self.URL(e)}catch(t){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+e)}if("data:"!==t.protocol){var a=0|(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate);t.searchParams.set("_HLS_pathway",this.pathwayId),t.searchParams.set("_HLS_throughput",""+a)}var s={responseType:"json",url:t.href},o=n.steeringManifestLoadPolicy.default,l=o.errorRetry||o.timeoutRetry||{},c={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},u={onSuccess:function(e,n,i,a){r.log('Loaded steering manifest: "'+t+'"');var s=e.data;if(1===s.VERSION){r.updated=performance.now(),r.timeToLoad=s.TTL;var o=s["RELOAD-URI"],l=s["PATHWAY-CLONES"],c=s["PATHWAY-PRIORITY"];if(o)try{r.uri=new self.URL(o,t).href}catch(e){return r.enabled=!1,void r.log("Failed to parse Steering Manifest RELOAD-URI: "+o)}r.scheduleRefresh(r.uri||i.url),l&&r.clonePathways(l),c&&r.updatePathwayPriority(c)}else r.log("Steering VERSION "+s.VERSION+" not supported!")},onError:function(e,t,n,i){if(r.log("Error loading steering manifest: "+e.code+" "+e.text+" ("+t.url+")"),r.stopLoad(),410===e.code)return r.enabled=!1,void r.log("Steering manifest "+t.url+" no longer available");var a=1e3*r.timeToLoad;if(429!==e.code)r.scheduleRefresh(r.uri||t.url,a);else{var s=r.loader;if("function"==typeof(null==s?void 0:s.getResponseHeader)){var o=s.getResponseHeader("Retry-After");o&&(a=1e3*parseFloat(o))}r.log("Steering manifest "+t.url+" rate limited")}},onTimeout:function(e,t,n){r.log("Timeout loading steering manifest ("+t.url+")"),r.scheduleRefresh(r.uri||t.url)}};this.log("Requesting steering manifest: "+t),this.loader.load(s,c,u)},t.scheduleRefresh=function(e,t){var r=this;void 0===t&&(t=1e3*this.timeToLoad),self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout((function(){r.loadSteeringManifest(e)}),t)},e}();function ha(e,t,r,n){e&&Object.keys(t).forEach((function(i){var a=e.filter((function(e){return e.groupId===i})).map((function(e){var a=o({},e);return a.details=void 0,a.attrs=new L(a.attrs),a.url=a.attrs.URI=fa(e.url,e.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),a.groupId=a.attrs["GROUP-ID"]=t[i],a.attrs["PATHWAY-ID"]=n,a}));e.push.apply(e,a)}))}function fa(e,t,r,n){var i,a=n.HOST,s=n.PARAMS,o=n[r];t&&(i=null==o?void 0:o[t])&&(e=i);var l=new self.URL(e);return a&&!i&&(l.host=a),s&&Object.keys(s).sort().forEach((function(e){e&&l.searchParams.set(e,s[e])})),l.href}var pa=/^age:\s*[\d.]+\s*$/im,ga=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new I,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.loadInternal()},t.loadInternal=function(){var e=this,t=this.config,r=this.context;if(t){var n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;var a=this.xhrSetup;a?Promise.resolve().then((function(){if(!e.stats.aborted)return a(n,r.url)})).catch((function(e){return n.open("GET",r.url,!0),a(n,r.url)})).then((function(){e.stats.aborted||e.openAndSendXhr(n,r,t)})).catch((function(t){e.callbacks.onError({code:n.status,text:t.message},r,n,i)})):this.openAndSendXhr(n,r,t)}},t.openAndSendXhr=function(e,t,r){e.readyState||e.open("GET",t.url,!0);var n=this.context.headers,i=r.loadPolicy,a=i.maxTimeToFirstByteMs,s=i.maxLoadTimeMs;if(n)for(var o in n)e.setRequestHeader(o,n[o]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),r.timeout=a&&v(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()},t.readystatechange=function(){var e=this.context,t=this.loader,r=this.stats;if(e&&t){var n=t.readyState,i=this.config;if(!r.aborted&&n>=2&&(0===r.loading.first&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),4===n)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;var a=t.status,s="text"!==t.responseType;if(a>=200&&a<300&&(s&&t.response||null!==t.responseText)){r.loading.end=Math.max(self.performance.now(),r.loading.first);var o=s?t.response:t.responseText,l="arraybuffer"===t.responseType?o.byteLength:o.length;if(r.loaded=r.total=l,r.bwEstimate=8e3*r.total/(r.loading.end-r.loading.first),!this.callbacks)return;var c=this.callbacks.onProgress;if(c&&c(r,e,o,t),!this.callbacks)return;var u={url:t.responseURL,data:o,code:a};this.callbacks.onSuccess(u,r,e,t)}else{var d=i.loadPolicy.errorRetry;Ut(d,r.retry,!1,a)?this.retry(d):(E.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t,r))}}}},t.loadtimeout=function(){var e,t=null==(e=this.config)?void 0:e.loadPolicy.timeoutRetry;if(Ut(t,this.stats.retry,!0))this.retry(t);else{E.warn("timeout while loading "+this.context.url);var r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}},t.retry=function(e){var t=this.context,r=this.stats;this.retryDelay=Ft(e,r.retry),r.retry++,E.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+t.url+", retrying "+r.retry+"/"+e.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&pa.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},t.getResponseHeader=function(e){return this.loader&&new RegExp("^"+e+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null},e}(),ma=/(\d+)-(\d+)\/(\d+)/,Aa=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||va,this.controller=new self.AbortController,this.stats=new I}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;null!=e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!=(e=this.callbacks)&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,r){var n=this,i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();var a=function(e,t){var r={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(o({},e.headers))};return e.rangeEnd&&r.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),r}(e,this.controller.signal),s=r.onProgress,l="arraybuffer"===e.responseType,c=l?"byteLength":"length",u=t.loadPolicy,d=u.maxTimeToFirstByteMs,h=u.maxLoadTimeMs;this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),t.timeout=d&&v(d)?d:h,this.requestTimeout=self.setTimeout((function(){n.abortInternal(),r.onTimeout(i,e,n.response)}),t.timeout),self.fetch(this.request).then((function(a){n.response=n.loader=a;var o=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(n.requestTimeout),t.timeout=h,n.requestTimeout=self.setTimeout((function(){n.abortInternal(),r.onTimeout(i,e,n.response)}),h-(o-i.loading.start)),!a.ok){var c=a.status,u=a.statusText;throw new ya(u||"fetch, bad network response",c,a)}return i.loading.first=o,i.total=function(e){var t=e.get("Content-Range");if(t){var r=function(e){var t=ma.exec(e);if(t)return parseInt(t[2])-parseInt(t[1])+1}(t);if(v(r))return r}var n=e.get("Content-Length");if(n)return parseInt(n)}(a.headers)||i.total,s&&v(t.highWaterMark)?n.loadProgressively(a,i,e,t.highWaterMark,s):l?a.arrayBuffer():"json"===e.responseType?a.json():a.text()})).then((function(a){var o=n.response;self.clearTimeout(n.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);var l=a[c];l&&(i.loaded=i.total=l);var u={url:o.url,data:a,code:o.status};s&&!v(t.highWaterMark)&&s(i,e,a,o),r.onSuccess(u,i,e,o)})).catch((function(t){if(self.clearTimeout(n.requestTimeout),!i.aborted){var a=t&&t.code||0,s=t?t.message:null;r.onError({code:a,text:s},e,t?t.details:null,i)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.getResponseHeader=function(e){return this.response?this.response.headers.get(e):null},t.loadProgressively=function(e,t,r,n,i){void 0===n&&(n=0);var a=new Xn,s=e.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,r,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var l=s.value,c=l.length;return t.loaded+=c,c<n||a.dataLength?(a.push(l),a.dataLength>=n&&i(t,r,a.flush(),e)):i(t,r,l,e),o()})).catch((function(){return Promise.reject()}))}()},e}();function va(e,t){return new self.Request(e.url,t)}var ya=function(e){function t(t,r,n){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=r,i.details=n,i}return l(t,e),t}(h(Error)),ba=/\s/,Ca=n(n({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ga,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Qn,bufferController:ci,capLevelController:na,errorController:Kt,fpsController:ia,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:X,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:{newCue:function(e,t,r,n){for(var i,a,s,o,l,c=[],u=self.VTTCue||self.TextTrackCue,d=0;d<n.rows.length;d++)if(s=!0,o=0,l="",!(i=n.rows[d]).isEmpty()){for(var h,f=0;f<i.chars.length;f++)ba.test(i.chars[f].uchar)&&s?o++:(l+=i.chars[f].uchar,s=!1);i.cueStartTime=t,t===r&&(r+=1e-4),o>=16?o--:o++;var p=Ni(l.trim()),g=zi(t,r,p);null!=e&&null!=(h=e.cues)&&h.getCueById(g)||((a=new u(t,r,p)).id=g,a.line=d+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*o/32)),c.push(a))}return e&&c.length&&(c.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),c.forEach((function(t){return gt(e,t)}))),c}},enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:ri,subtitleTrackController:ii,timelineController:ta,audioStreamController:Jn,audioTrackController:Zn,emeController:sa,cmcdController:ua,contentSteeringController:da});function _a(e){return e&&"object"==typeof e?Array.isArray(e)?e.map(_a):Object.keys(e).reduce((function(t,r){return t[r]=_a(e[r]),t}),{}):e}var ka=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Gn,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,x(t.debug||!1,"Hls instance");var r=this.config=function(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var r=_a(e),i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(e){var n=("level"===e?"playlist":e)+"LoadPolicy",a=void 0===t[n],s=[];i.forEach((function(i){var o=e+"Loading"+i,l=t[o];if(void 0!==l&&a){s.push(o);var c=r[n].default;switch(t[n]={default:c},i){case"TimeOut":c.maxLoadTimeMs=l,c.maxTimeToFirstByteMs=l;break;case"MaxRetry":c.errorRetry.maxNumRetry=l,c.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":c.errorRetry.retryDelayMs=l,c.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":c.errorRetry.maxRetryDelayMs=l,c.timeoutRetry.maxRetryDelayMs=l}}})),s.length&&E.warn('hls.js config: "'+s.join('", "')+'" setting(s) are deprecated, use "'+n+'": '+JSON.stringify(t[n]))})),n(n({},r),t)}(e.DefaultConfig,t);this.userConfig=t,this._autoLevelCapping=-1,r.progressive&&function(e){var t=e.loader;t!==Aa&&t!==ga?(E.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}()&&(e.loader=Aa,e.progressive=!0,e.enableSoftwareAES=!0,E.log("[config]: Progressive streaming enabled, using FetchLoader"))}(r);var i=r.abrController,a=r.bufferController,s=r.capLevelController,o=r.errorController,l=r.fpsController,c=new o(this),u=this.abrController=new i(this),d=this.bufferController=new a(this),h=this.capLevelController=new s(this),f=new l(this),p=new ft(this),g=new kt(this),m=r.contentSteeringController,A=m?new m(this):null,v=this.levelController=new Wt(this,A),b=new er(this),C=new lr(this.config),_=this.streamController=new Wn(this,b,C);h.setStreamController(_),f.setStreamController(_);var k=[p,v,_];A&&k.splice(1,0,A),this.networkControllers=k;var T=[u,d,h,f,g,b];this.audioTrackController=this.createController(r.audioTrackController,k);var w=r.audioStreamController;w&&k.push(new w(this,b,C)),this.subtitleTrackController=this.createController(r.subtitleTrackController,k);var S=r.subtitleStreamController;S&&k.push(new S(this,b,C)),this.createController(r.timelineController,T),C.emeController=this.emeController=this.createController(r.emeController,T),this.cmcdController=this.createController(r.cmcdController,T),this.latencyController=this.createController(Tt,T),this.coreComponents=T,k.push(c);var L=c.onErrorOut;"function"==typeof L&&this.on(y.ERROR,L,c)}e.isSupported=function(){return function(){var e=He();if(!e)return!1;var t=Pr(),r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!n}()};var t=e.prototype;return t.createController=function(e,t){if(e){var r=new e(this);return t&&t.push(r),r}return null},t.on=function(e,t,r){void 0===r&&(r=this),this._emitter.on(e,t,r)},t.once=function(e,t,r){void 0===r&&(r=this),this._emitter.once(e,t,r)},t.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},t.off=function(e,t,r,n){void 0===r&&(r=this),this._emitter.off(e,t,r,n)},t.listeners=function(e){return this._emitter.listeners(e)},t.emit=function(e,t,r){return this._emitter.emit(e,t,r)},t.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(t){E.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.trigger(y.ERROR,{type:b.OTHER_ERROR,details:C.INTERNAL_EXCEPTION,fatal:!1,event:e,error:t})}return!1},t.listenerCount=function(e){return this._emitter.listenerCount(e)},t.destroy=function(){E.log("destroy"),this.trigger(y.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0;var e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null},t.attachMedia=function(e){E.log("attachMedia"),this._media=e,this.trigger(y.MEDIA_ATTACHING,{media:e})},t.detachMedia=function(){E.log("detachMedia"),this.trigger(y.MEDIA_DETACHING,void 0),this._media=null},t.loadSource=function(e){this.stopLoad();var t=this.media,r=this.url,n=this.url=A.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});E.log("loadSource:"+n),t&&r&&(r!==n||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(y.MANIFEST_LOADING,{url:e})},t.startLoad=function(e){void 0===e&&(e=-1),E.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.stopLoad=function(){E.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.swapAudioCodec=function(){E.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.recoverMediaError=function(){E.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},t.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},a(e,[{key:"levels",get:function(){return this.levelController.levels||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){E.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){E.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){E.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){E.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){E.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(E.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"ttfbEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this._maxHdcpLevel},set:function(e){xt.indexOf(e)>-1&&(this._maxHdcpLevel=e)}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var r=e.length,n=0;n<r;n++)if(e[n].maxBitrate>=t)return n;return 0}},{key:"maxAutoLevel",get:function(){var e,t=this.levels,r=this.autoLevelCapping,n=this.maxHdcpLevel;if(e=-1===r&&t&&t.length?t.length-1:r,n)for(var i=e;i--;){var a=t[i].attrs["HDCP-LEVEL"];if(a&&a<=n)return i}return e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}],[{key:"version",get:function(){return"1.4.12"}},{key:"Events",get:function(){return y}},{key:"ErrorTypes",get:function(){return b}},{key:"ErrorDetails",get:function(){return C}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:Ca},set:function(t){e.defaultConfig=t}}]),e}();return ka.defaultConfig=void 0,ka},e.exports=n()}(!1)},1443:function(e,t,r){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={addCSS:!0,thumbWidth:15,watch:!0},o=function(e){return null!=e?e.constructor:null},l=function(e,t){return!!(e&&t&&e instanceof t)},c=function(e){return null==e},u=function(e){return o(e)===Object},d=function(e){return o(e)===String},h=function(e){return Array.isArray(e)},f=function(e){return l(e,NodeList)},p={nullOrUndefined:c,object:u,number:function(e){return o(e)===Number&&!Number.isNaN(e)},string:d,boolean:function(e){return o(e)===Boolean},function:function(e){return o(e)===Function},array:h,nodeList:f,element:function(e){return l(e,Element)},event:function(e){return l(e,Event)},empty:function(e){return c(e)||(d(e)||h(e)||f(e))&&!e.length||u(e)&&!Object.keys(e).length}};function g(e,t){if(1>t){var r=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(r))}return Math.round(e/t)*t}var m=function(){function e(t,r){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),p.element(t)?this.element=t:p.string(t)&&(this.element=document.querySelector(t)),p.element(this.element)&&p.empty(this.element.rangeTouch)&&(this.config=a({},s,{},r),this.init())}return function(e,r,n){r&&t(e.prototype,r),n&&t(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,r=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[r](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!p.event(t))return null;var r,n=t.target,i=t.changedTouches[0],a=parseFloat(n.getAttribute("min"))||0,s=parseFloat(n.getAttribute("max"))||100,o=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(r=100/l.width*(i.clientX-l.left))?r=0:100<r&&(r=100),50>r?r-=(100-2*r)*c:50<r&&(r+=2*(r-50)*c),a+g(r/100*(s-a),o)}},{key:"set",value:function(t){e.enabled&&p.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(p.empty(t)||p.string(t)?n=Array.from(document.querySelectorAll(p.string(t)?t:'input[type="range"]')):p.element(t)?n=[t]:p.nodeList(t)?n=Array.from(t):p.array(t)&&(n=t.filter(p.element)),p.empty(n))return null;var i=a({},s,{},r);if(p.string(t)&&i.watch){var o=new MutationObserver((function(r){Array.from(r).forEach((function(r){Array.from(r.addedNodes).forEach((function(r){p.element(r)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(r,t)&&new e(r,i)}))}))}));o.observe(document.body,{childList:!0,subtree:!0})}return n.map((function(t){return new e(t,r)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const A=e=>null!=e?e.constructor:null,v=(e,t)=>Boolean(e&&t&&e instanceof t),y=e=>null==e,b=e=>A(e)===Object,C=e=>A(e)===String,_=e=>"function"==typeof e,k=e=>Array.isArray(e),T=e=>v(e,NodeList),x=e=>y(e)||(C(e)||k(e)||T(e))&&!e.length||b(e)&&!Object.keys(e).length;var E={nullOrUndefined:y,object:b,number:e=>A(e)===Number&&!Number.isNaN(e),string:C,boolean:e=>A(e)===Boolean,function:_,array:k,weakMap:e=>v(e,WeakMap),nodeList:T,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>A(e)===Text,event:e=>v(e,Event),keyboardEvent:e=>v(e,KeyboardEvent),cue:e=>v(e,window.TextTrackCue)||v(e,window.VTTCue),track:e=>v(e,TextTrack)||!y(e)&&C(e.kind),promise:e=>v(e,Promise)&&_(e.then),url:e=>{if(v(e,window.URL))return!0;if(!C(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!x(new URL(t).hostname)}catch(e){return!1}},empty:x};const w=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r=Object.keys(t).find((t=>void 0!==e.style[t]));return!!E.string(r)&&t[r]})();function S(e,t){setTimeout((()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var L={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function R(e,t){return t.split(".").reduce(((e,t)=>e&&e[t]),e)}function D(e={},...t){if(!t.length)return e;const r=t.shift();return E.object(r)?(Object.keys(r).forEach((t=>{E.object(r[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),D(e[t],r[t])):Object.assign(e,{[t]:r[t]})})),D(e,...t)):e}function I(e,t){const r=e.length?e:[e];Array.from(r).reverse().forEach(((e,r)=>{const n=r>0?t.cloneNode(!0):t,i=e.parentNode,a=e.nextSibling;n.appendChild(e),a?i.insertBefore(n,a):i.appendChild(n)}))}function B(e,t){E.element(e)&&!E.empty(t)&&Object.entries(t).filter((([,e])=>!E.nullOrUndefined(e))).forEach((([t,r])=>e.setAttribute(t,r)))}function P(e,t,r){const n=document.createElement(e);return E.object(t)&&B(n,t),E.string(r)&&(n.innerText=r),n}function M(e,t,r,n){E.element(t)&&t.appendChild(P(e,r,n))}function O(e){E.nodeList(e)||E.array(e)?Array.from(e).forEach(O):E.element(e)&&E.element(e.parentNode)&&e.parentNode.removeChild(e)}function F(e){if(!E.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function N(e,t){return E.element(t)&&E.element(t.parentNode)&&E.element(e)?(t.parentNode.replaceChild(e,t),e):null}function U(e,t){if(!E.string(e)||E.empty(e))return{};const r={},n=D({},t);return e.split(",").forEach((e=>{const t=e.trim(),i=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[s]=a,o=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":E.string(n.class)?r.class=`${n.class} ${i}`:r.class=i;break;case"#":r.id=t.replace("#","");break;case"[":r[s]=o}})),D(n,r)}function G(e,t){if(!E.element(e))return;let r=t;E.boolean(r)||(r=!e.hidden),e.hidden=r}function H(e,t,r){if(E.nodeList(e))return Array.from(e).map((e=>H(e,t,r)));if(E.element(e)){let n="toggle";return void 0!==r&&(n=r?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function V(e,t){return E.element(e)&&e.classList.contains(t)}function z(e,t){const{prototype:r}=Element;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function j(e){return this.elements.container.querySelectorAll(e)}function K(e){return this.elements.container.querySelector(e)}function q(e=null,t=!1){E.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}const W={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Y={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){const r=Y[e]||"html5"!==t;return{api:r,ui:r&&Y.rangeInput}},pip:!(L.isIPhone||!E.function(P("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||P("video").disablePictureInPicture)),airplay:E.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(E.empty(e))return!1;const[t]=e.split("/");let r=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(W).includes(r)&&(r+=`; codecs="${W[e]}"`);try{return Boolean(r&&this.media.canPlayType(r).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==w,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},$=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function Q(e,t,r,n=!1,i=!0,a=!1){if(!e||!("addEventListener"in e)||E.empty(t)||!E.function(r))return;const s=t.split(" ");let o=a;$&&(o={passive:i,capture:a}),s.forEach((t=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:e,type:t,callback:r,options:o}),e[n?"addEventListener":"removeEventListener"](t,r,o)}))}function X(e,t="",r,n=!0,i=!1){Q.call(this,e,t,r,!0,n,i)}function J(e,t="",r,n=!0,i=!1){Q.call(this,e,t,r,!1,n,i)}function Z(e,t="",r,n=!0,i=!1){const a=(...s)=>{J(e,t,a,n,i),r.apply(this,s)};Q.call(this,e,t,a,!0,n,i)}function ee(e,t="",r=!1,n={}){if(!E.element(e)||E.empty(t))return;const i=new CustomEvent(t,{bubbles:r,detail:{...n,plyr:this}});e.dispatchEvent(i)}function te(){this&&this.eventListeners&&(this.eventListeners.forEach((e=>{const{element:t,type:r,callback:n,options:i}=e;t.removeEventListener(r,n,i)})),this.eventListeners=[])}function re(){return new Promise((e=>this.ready?setTimeout(e,0):X.call(this,this.elements.container,"ready",e))).then((()=>{}))}function ne(e){E.promise(e)&&e.then(null,(()=>{}))}function ie(e){return E.array(e)?e.filter(((t,r)=>e.indexOf(t)===r)):e}function ae(e,t){return E.array(e)&&e.length?e.reduce(((e,r)=>Math.abs(r-t)<Math.abs(e-t)?r:e)):null}function se(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const oe=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce(((e,[t,r])=>({...e,[t/r]:[t,r]})),{});function le(e){return!!(E.array(e)||E.string(e)&&e.includes(":"))&&(E.array(e)?e:e.split(":")).map(Number).every(E.number)}function ce(e){if(!E.array(e)||!e.every(E.number))return null;const[t,r]=e,n=(e,t)=>0===t?e:n(t,e%t),i=n(t,r);return[t/i,r/i]}function ue(e){const t=e=>le(e)?e.split(":").map(Number):null;let r=t(e);if(null===r&&(r=t(this.config.ratio)),null===r&&!E.empty(this.embed)&&E.array(this.embed.ratio)&&({ratio:r}=this.embed),null===r&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;r=[e,t]}return ce(r)}function de(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,r=ue.call(this,e);if(!E.array(r))return{};const[n,i]=ce(r),a=100/n*i;if(se(`aspect-ratio: ${n}/${i}`)?t.style.aspectRatio=`${n}/${i}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),r=(e-a)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${r}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:r}}function he(e,t,r=.05){const n=e/t,i=ae(Object.keys(oe),n);return Math.abs(i-n)<=r?oe[i]:[e,t]}const fe={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((e=>{const t=e.getAttribute("type");return!!E.empty(t)||Y.mime.call(this,t)})):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:fe.getSources.call(this).map((e=>Number(e.getAttribute("size")))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,E.empty(this.config.ratio)||de.call(e),Object.defineProperty(e.media,"quality",{get(){const t=fe.getSources.call(e).find((t=>t.getAttribute("src")===e.source));return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&E.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const r=fe.getSources.call(e).find((e=>Number(e.getAttribute("size"))===t));if(!r)return;const{currentTime:n,paused:i,preload:a,readyState:s,playbackRate:o}=e.media;e.media.src=r.getAttribute("src"),("none"!==a||s)&&(e.once("loadedmetadata",(()=>{e.speed=o,e.currentTime=n,i||ne(e.play())})),e.media.load())}ee.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(O(fe.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function pe(e,...t){return E.empty(e)?e:e.toString().replace(/{(\d+)}/g,((e,r)=>t[r].toString()))}const ge=(e="",t="",r="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),r.toString()),me=(e="")=>e.toString().replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()));function Ae(e=""){let t=e.toString();return t=function(e=""){let t=e.toString();return t=ge(t,"-"," "),t=ge(t,"_"," "),t=me(t),ge(t," ","")}(t),t.charAt(0).toLowerCase()+t.slice(1)}function ve(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const ye={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},be={get(e="",t={}){if(E.empty(e)||E.empty(t))return"";let r=R(t.i18n,e);if(E.empty(r))return Object.keys(ye).includes(e)?ye[e]:"";const n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach((([e,t])=>{r=ge(r,e,t)})),r}};class Ce{constructor(t){e(this,"get",(e=>{if(!Ce.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(E.empty(t))return null;const r=JSON.parse(t);return E.string(e)&&e.length?r[e]:r})),e(this,"set",(e=>{if(!Ce.supported||!this.enabled)return;if(!E.object(e))return;let t=this.get();E.empty(t)&&(t={}),D(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}})),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function _e(e,t="text"){return new Promise(((r,n)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",(()=>{if("text"===t)try{r(JSON.parse(n.responseText))}catch(e){r(n.responseText)}else r(n.response)})),n.addEventListener("error",(()=>{throw new Error(n.status)})),n.open("GET",e,!0),n.responseType=t,n.send()}catch(e){n(e)}}))}function ke(e,t){if(!E.string(e))return;const r="cache",n=E.string(t);let i=!1;const a=()=>null!==document.getElementById(t),s=(e,t)=>{e.innerHTML=t,n&&a()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!a()){const a=Ce.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),n&&o.setAttribute("id",t),a){const e=window.localStorage.getItem(`${r}-${t}`);if(i=null!==e,i){const t=JSON.parse(e);s(o,t.content)}}_e(e).then((e=>{if(!E.empty(e)){if(a)try{window.localStorage.setItem(`${r}-${t}`,JSON.stringify({content:e}))}catch(e){}s(o,e)}})).catch((()=>{}))}}const Te=e=>Math.trunc(e/60/60%60,10),xe=e=>Math.trunc(e/60%60,10),Ee=e=>Math.trunc(e%60,10);function we(e=0,t=!1,r=!1){if(!E.number(e))return we(void 0,t,r);const n=e=>`0${e}`.slice(-2);let i=Te(e);const a=xe(e),s=Ee(e);return i=t||i>0?`${i}:`:"",`${r&&e>0?"-":""}${i}${n(a)}:${n(s)}`}const Se={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,r=e.host!==t||L.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:r}},findElements(){try{return this.elements.controls=K.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:j.call(this,this.config.selectors.buttons.play),pause:K.call(this,this.config.selectors.buttons.pause),restart:K.call(this,this.config.selectors.buttons.restart),rewind:K.call(this,this.config.selectors.buttons.rewind),fastForward:K.call(this,this.config.selectors.buttons.fastForward),mute:K.call(this,this.config.selectors.buttons.mute),pip:K.call(this,this.config.selectors.buttons.pip),airplay:K.call(this,this.config.selectors.buttons.airplay),settings:K.call(this,this.config.selectors.buttons.settings),captions:K.call(this,this.config.selectors.buttons.captions),fullscreen:K.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=K.call(this,this.config.selectors.progress),this.elements.inputs={seek:K.call(this,this.config.selectors.inputs.seek),volume:K.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:K.call(this,this.config.selectors.display.buffer),currentTime:K.call(this,this.config.selectors.display.currentTime),duration:K.call(this,this.config.selectors.display.duration)},E.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const r="http://www.w3.org/2000/svg",n=Se.getIconUrl.call(this),i=`${n.cors?"":n.url}#${this.config.iconPrefix}`,a=document.createElementNS(r,"svg");B(a,D(t,{"aria-hidden":"true",focusable:"false"}));const s=document.createElementNS(r,"use"),o=`${i}-${e}`;return"href"in s&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",o),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),a.appendChild(s),a},createLabel(e,t={}){const r=be.get(e,this.config);return P("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},r)},createBadge(e){if(E.empty(e))return null;const t=P("span",{class:this.config.classNames.menu.value});return t.appendChild(P("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const r=D({},t);let n=Ae(e);const i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((e=>{Object.keys(r).includes(e)&&(i[e]=r[e],delete r[e])})),"button"!==i.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some((e=>e===this.config.classNames.control))||D(r,{class:`${r.class} ${this.config.classNames.control}`}):r.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":r.class+=` ${this.config.classNames.control}--overlaid`,n="play",i.label="play",i.icon="play";break;default:E.empty(i.label)&&(i.label=n),E.empty(i.icon)&&(i.icon=e)}const a=P(i.element);return i.toggle?(a.appendChild(Se.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),a.appendChild(Se.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),a.appendChild(Se.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),a.appendChild(Se.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(a.appendChild(Se.createIcon.call(this,i.icon)),a.appendChild(Se.createLabel.call(this,i.label))),D(r,U(this.config.selectors.buttons[n],r)),B(a,r),"play"===n?(E.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(a)):this.elements.buttons[n]=a,a},createRange(e,t){const r=P("input",D(U(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":be.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=r,Se.updateRangeFill.call(this,r),m.setup(r),r},createProgress(e,t){const r=P("progress",D(U(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){r.appendChild(P("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],n=t?be.get(t,this.config):"";r.innerText=`% ${n.toLowerCase()}`}return this.elements.display[e]=r,r},createTime(e,t){const r=U(this.config.selectors.display[e],t),n=P("div",D(r,{class:`${r.class?r.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":be.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=n,n},bindMenuItemShortcuts(e,t){X.call(this,e,"keydown keyup",(r=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key))return;if(r.preventDefault(),r.stopPropagation(),"keydown"===r.type)return;const n=z(e,'[role="menuitemradio"]');if(!n&&[" ","ArrowRight"].includes(r.key))Se.showMenuPanel.call(this,t,!0);else{let t;" "!==r.key&&("ArrowDown"===r.key||n&&"ArrowRight"===r.key?(t=e.nextElementSibling,E.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,E.element(t)||(t=e.parentNode.lastElementChild)),q.call(this,t,!0))}}),!1),X.call(this,e,"keyup",(e=>{"Return"===e.key&&Se.focusFirstMenuItem.call(this,null,!0)}))},createMenuItem({value:e,list:t,type:r,title:n,badge:i=null,checked:a=!1}){const s=U(this.config.selectors.inputs[r]),o=P("button",D(s,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${s.class?s.class:""}`.trim(),"aria-checked":a,value:e})),l=P("span");l.innerHTML=n,E.element(i)&&l.appendChild(i),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(e){e&&Array.from(o.parentNode.children).filter((e=>z(e,'[role="menuitemradio"]'))).forEach((e=>e.setAttribute("aria-checked","false"))),o.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(o,"click keyup",(t=>{if(!E.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),o.checked=!0,r){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Se.showMenuPanel.call(this,"home",E.keyboardEvent(t))}}),r,!1),Se.bindMenuItemShortcuts.call(this,o,r),t.appendChild(o)},formatTime(e=0,t=!1){return E.number(e)?we(e,Te(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,r=!1){E.element(e)&&E.number(t)&&(e.innerText=Se.formatTime(t,r))},updateVolume(){this.supported.ui&&(E.element(this.elements.inputs.volume)&&Se.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),E.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){E.element(e)&&(e.value=t,Se.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!E.event(e))return;let t=0;const r=(e,t)=>{const r=E.number(t)?t:0,n=E.element(e)?e:this.elements.display.buffer;if(E.element(n)){n.value=r;const e=n.getElementsByTagName("span")[0];E.element(e)&&(e.childNodes[0].nodeValue=r)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,t=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&Se.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":r(this.elements.display.buffer,100*this.buffered)}var n,i},updateRangeFill(e){const t=E.event(e)?e.target:e;if(E.element(t)&&"range"===t.getAttribute("type")){if(z(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Se.formatTime(this.currentTime),r=Se.formatTime(this.duration),n=be.get("seekLabel",this.config);t.setAttribute("aria-valuetext",n.replace("{currentTime}",e).replace("{duration}",r))}else if(z(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(L.isWebKit||L.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,r;if(!this.config.tooltips.seek||!E.element(this.elements.inputs.seek)||!E.element(this.elements.display.seekTooltip)||0===this.duration)return;const n=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,a=e=>H(n,i,e);if(this.touch)return void a(!1);let s=0;const o=this.elements.progress.getBoundingClientRect();if(E.event(e))s=100/o.width*(e.pageX-o.left);else{if(!V(n,i))return;s=parseFloat(n.style.left,10)}s<0?s=0:s>100&&(s=100);const l=this.duration/100*s;n.innerText=Se.formatTime(l);const c=null===(t=this.config.markers)||void 0===t||null===(r=t.points)||void 0===r?void 0:r.find((({time:e})=>e===Math.round(l)));c&&n.insertAdjacentHTML("afterbegin",`${c.label}<br>`),n.style.left=`${s}%`,E.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){const t=!E.element(this.elements.display.duration)&&this.config.invertTime;Se.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Se.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return G(this.elements.display.currentTime,!0),void G(this.elements.progress,!0);E.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=E.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Se.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Se.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Se.setMarkers.call(this),Se.updateSeekTooltip.call(this)},toggleMenuButton(e,t){G(this.elements.settings.buttons[e],!t)},updateSetting(e,t,r){const n=this.elements.settings.panels[e];let i=null,a=t;if("captions"===e)i=this.currentTrack;else{if(i=E.empty(r)?this[e]:r,E.empty(i)&&(i=this.config[e].default),!E.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(E.element(a)||(a=n&&n.querySelector('[role="menu"]')),!E.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Se.getLabel.call(this,e,i);const s=a&&a.querySelector(`[value="${i}"]`);E.element(s)&&(s.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?be.get("normal",this.config):`${t}&times;`;case"quality":if(E.number(t)){const e=be.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return me(t);case"captions":return De.getLabel.call(this);default:return null}},setQualityMenu(e){if(!E.element(this.elements.settings.panels.quality))return;const t="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');E.array(e)&&(this.options.quality=ie(e).filter((e=>this.config.quality.options.includes(e))));const n=!E.empty(this.options.quality)&&this.options.quality.length>1;if(Se.toggleMenuButton.call(this,t,n),F(r),Se.checkMenu.call(this),!n)return;const i=e=>{const t=be.get(`qualityBadge.${e}`,this.config);return t.length?Se.createBadge.call(this,t):null};this.options.quality.sort(((e,t)=>{const r=this.config.quality.options;return r.indexOf(e)>r.indexOf(t)?1:-1})).forEach((e=>{Se.createMenuItem.call(this,{value:e,list:r,type:t,title:Se.getLabel.call(this,"quality",e),badge:i(e)})})),Se.updateSetting.call(this,t,r)},setCaptionsMenu(){if(!E.element(this.elements.settings.panels.captions))return;const e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=De.getTracks.call(this),n=Boolean(r.length);if(Se.toggleMenuButton.call(this,e,n),F(t),Se.checkMenu.call(this),!n)return;const i=r.map(((e,r)=>({value:r,checked:this.captions.toggled&&this.currentTrack===r,title:De.getLabel.call(this,e),badge:e.language&&Se.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"})));i.unshift({value:-1,checked:!this.captions.toggled,title:be.get("disabled",this.config),list:t,type:"language"}),i.forEach(Se.createMenuItem.bind(this)),Se.updateSetting.call(this,e,t)},setSpeedMenu(){if(!E.element(this.elements.settings.panels.speed))return;const e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((e=>e>=this.minimumSpeed&&e<=this.maximumSpeed));const r=!E.empty(this.options.speed)&&this.options.speed.length>1;Se.toggleMenuButton.call(this,e,r),F(t),Se.checkMenu.call(this),r&&(this.options.speed.forEach((r=>{Se.createMenuItem.call(this,{value:r,list:t,type:e,title:Se.getLabel.call(this,"speed",r)})})),Se.updateSetting.call(this,e,t))},checkMenu(){const{buttons:e}=this.elements.settings,t=!E.empty(e)&&Object.values(e).some((e=>!e.hidden));G(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let r=e;E.element(r)||(r=Object.values(this.elements.settings.panels).find((e=>!e.hidden)));const n=r.querySelector('[role^="menuitem"]');q.call(this,n,t)},toggleMenu(e){const{popup:t}=this.elements.settings,r=this.elements.buttons.settings;if(!E.element(t)||!E.element(r))return;const{hidden:n}=t;let i=n;if(E.boolean(e))i=e;else if(E.keyboardEvent(e)&&"Escape"===e.key)i=!1;else if(E.event(e)){const n=E.function(e.composedPath)?e.composedPath()[0]:e.target,a=t.contains(n);if(a||!a&&e.target!==r&&i)return}r.setAttribute("aria-expanded",i),G(t,!i),H(this.elements.container,this.config.classNames.menu.open,i),i&&E.keyboardEvent(e)?Se.focusFirstMenuItem.call(this,null,!0):i||n||q.call(this,r,E.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const r=t.scrollWidth,n=t.scrollHeight;return O(t),{width:r,height:n}},showMenuPanel(e="",t=!1){const r=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!E.element(r))return;const n=r.parentNode,i=Array.from(n.children).find((e=>!e.hidden));if(Y.transitions&&!Y.reducedMotion){n.style.width=`${i.scrollWidth}px`,n.style.height=`${i.scrollHeight}px`;const e=Se.getMenuSize.call(this,r),t=e=>{e.target===n&&["width","height"].includes(e.propertyName)&&(n.style.width="",n.style.height="",J.call(this,n,w,t))};X.call(this,n,w,t),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`}G(i,!0),G(r,!1),Se.focusFirstMenuItem.call(this,r,t)},setDownloadUrl(){const e=this.elements.buttons.download;E.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:r,createProgress:n,createRange:i,createTime:a,setQualityMenu:s,setSpeedMenu:o,showMenuPanel:l}=Se;this.elements.controls=null,E.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));const c=P("div",U(this.config.selectors.controls.wrapper));this.elements.controls=c;const u={class:"plyr__controls__item"};return ie(E.array(this.config.controls)?this.config.controls:[]).forEach((s=>{if("restart"===s&&c.appendChild(r.call(this,"restart",u)),"rewind"===s&&c.appendChild(r.call(this,"rewind",u)),"play"===s&&c.appendChild(r.call(this,"play",u)),"fast-forward"===s&&c.appendChild(r.call(this,"fast-forward",u)),"progress"===s){const t=P("div",{class:`${u.class} plyr__progress__container`}),r=P("div",U(this.config.selectors.progress));if(r.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),r.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){const e=P("span",{class:this.config.classNames.tooltip},"00:00");r.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=r,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===s&&c.appendChild(a.call(this,"currentTime",u)),"duration"===s&&c.appendChild(a.call(this,"duration",u)),"mute"===s||"volume"===s){let{volume:t}=this.elements;if(E.element(t)&&c.contains(t)||(t=P("div",D({},u,{class:`${u.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===s&&t.appendChild(r.call(this,"mute")),"volume"===s&&!L.isIos&&!L.isIPadOS){const r={max:1,step:.05,value:this.config.volume};t.appendChild(i.call(this,"volume",D(r,{id:`plyr-volume-${e.id}`})))}}if("captions"===s&&c.appendChild(r.call(this,"captions",u)),"settings"===s&&!E.empty(this.config.settings)){const n=P("div",D({},u,{class:`${u.class} plyr__menu`.trim(),hidden:""}));n.appendChild(r.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const i=P("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),a=P("div"),s=P("div",{id:`plyr-settings-${e.id}-home`}),o=P("div",{role:"menu"});s.appendChild(o),a.appendChild(s),this.elements.settings.panels.home=s,this.config.settings.forEach((r=>{const n=P("button",D(U(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,n,r),X.call(this,n,"click",(()=>{l.call(this,r,!1)}));const i=P("span",null,be.get(r,this.config)),s=P("span",{class:this.config.classNames.menu.value});s.innerHTML=e[r],i.appendChild(s),n.appendChild(i),o.appendChild(n);const c=P("div",{id:`plyr-settings-${e.id}-${r}`,hidden:""}),u=P("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});u.appendChild(P("span",{"aria-hidden":!0},be.get(r,this.config))),u.appendChild(P("span",{class:this.config.classNames.hidden},be.get("menuBack",this.config))),X.call(this,c,"keydown",(e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))}),!1),X.call(this,u,"click",(()=>{l.call(this,"home",!1)})),c.appendChild(u),c.appendChild(P("div",{role:"menu"})),a.appendChild(c),this.elements.settings.buttons[r]=n,this.elements.settings.panels[r]=c})),i.appendChild(a),n.appendChild(i),c.appendChild(n),this.elements.settings.popup=i,this.elements.settings.menu=n}if("pip"===s&&Y.pip&&c.appendChild(r.call(this,"pip",u)),"airplay"===s&&Y.airplay&&c.appendChild(r.call(this,"airplay",u)),"download"===s){const e=D({},u,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!E.url(t)&&this.isEmbed&&D(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(r.call(this,"download",e))}"fullscreen"===s&&c.appendChild(r.call(this,"fullscreen",u))})),this.isHTML5&&s.call(this,fe.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const e=Se.getIconUrl.call(this);e.cors&&ke(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let r,n=!0;if(E.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),E.element(this.config.controls)||E.string(this.config.controls)?e=this.config.controls:(e=Se.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:De.getLabel.call(this)}),n=!1),n&&E.string(this.config.controls)&&(e=(e=>{let r=e;return Object.entries(t).forEach((([e,t])=>{r=ge(r,`{${e}}`,t)})),r})(e)),E.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),E.element(r)||(r=this.elements.container),r[E.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),E.element(this.elements.controls)||Se.findElements.call(this),!E.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>V(e,t),set(r=!1){H(e,t,r),e.setAttribute("aria-pressed",r?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach((t=>{E.array(t)||E.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)}))}if(L.isEdge&&S(r),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,r=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,n=j.call(this,r);Array.from(n).forEach((e=>{H(e,this.config.classNames.hidden,!1),H(e,this.config.classNames.tooltip,!0)}))}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const r=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter((({time:e})=>e>0&&e<this.duration));if(null==r||!r.length)return;const n=document.createDocumentFragment(),i=document.createDocumentFragment();let a=null;const s=`${this.config.classNames.tooltip}--visible`,o=e=>H(a,s,e);r.forEach((e=>{const t=P("span",{class:this.config.classNames.marker},""),r=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",(()=>{e.label||(a.style.left=r,a.innerHTML=e.label,o(!0))})),t.addEventListener("mouseleave",(()=>{o(!1)}))),t.addEventListener("click",(()=>{this.currentTime=e.time})),t.style.left=r,i.appendChild(t)})),n.appendChild(i),this.config.tooltips.seek||(a=P("span",{class:this.config.classNames.tooltip},""),n.appendChild(a)),this.elements.markers={points:i,tip:a},this.elements.progress.appendChild(n)}};function Le(e,t=!0){let r=e;if(t){const e=document.createElement("a");e.href=r,r=e.href}try{return new URL(r)}catch(e){return null}}function Re(e){const t=new URLSearchParams;return E.object(e)&&Object.entries(e).forEach((([e,r])=>{t.set(e,r)})),t}const De={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!Y.textTracks)return void(E.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Se.setCaptionsMenu.call(this));var e,t;if(E.element(this.elements.captions)||(this.elements.captions=P("div",U(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,E.element(e)&&E.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),L.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach((e=>{const t=e.getAttribute("src"),r=Le(t);null!==r&&r.hostname!==window.location.href.hostname&&["http:","https:"].includes(r.protocol)&&_e(t,"blob").then((t=>{e.setAttribute("src",window.URL.createObjectURL(t))})).catch((()=>{O(e)}))}))}const r=ie((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((e=>e.split("-")[0])));let n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&([n]=r);let i=this.storage.get("captions");if(E.boolean(i)||({active:i}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:r}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";X.call(this,this.media.textTracks,e,De.update.bind(this))}setTimeout(De.update.bind(this),0)},update(){const e=De.getTracks.call(this,!0),{active:t,language:r,meta:n,currentTrackNode:i}=this.captions,a=Boolean(e.find((e=>e.language===r)));this.isHTML5&&this.isVideo&&e.filter((e=>!n.get(e))).forEach((e=>{this.debug.log("Track added",e),n.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),X.call(this,e,"cuechange",(()=>De.updateCues.call(this)))})),(a&&this.language!==r||!e.includes(i))&&(De.setLanguage.call(this,r),De.toggle.call(this,t&&a)),this.elements&&H(this.elements.container,this.config.classNames.captions.enabled,!E.empty(e)),E.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Se.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:r}=this.captions,n=this.config.classNames.captions.active,i=E.nullOrUndefined(e)?!r:e;if(i!==r){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){const e=De.getTracks.call(this),t=De.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void De.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),H(this.elements.container,n,i),this.captions.toggled=i,Se.updateSetting.call(this,"captions"),ee.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout((()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")}))},set(e,t=!0){const r=De.getTracks.call(this);if(-1!==e)if(E.number(e))if(e in r){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const n=r[e],{language:i}=n||{};this.captions.currentTrackNode=n,Se.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),ee.call(this,this.media,"languagechange")}De.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&De.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else De.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!E.string(e))return void this.debug.warn("Invalid language argument",e);const r=e.toLowerCase();this.captions.language=r;const n=De.getTracks.call(this),i=De.findTrack.call(this,[r]);De.set.call(this,n.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter((t=>!this.isHTML5||e||this.captions.meta.has(t))).filter((e=>["captions","subtitles"].includes(e.kind)))},findTrack(e,t=!1){const r=De.getTracks.call(this),n=e=>Number((this.captions.meta.get(e)||{}).default),i=Array.from(r).sort(((e,t)=>n(t)-n(e)));let a;return e.every((e=>(a=i.find((t=>t.language===e)),!a))),a||(t?i[0]:void 0)},getCurrentTrack(){return De.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!E.track(t)&&Y.textTracks&&this.captions.toggled&&(t=De.getCurrentTrack.call(this)),E.track(t)?E.empty(t.label)?E.empty(t.language)?be.get("enabled",this.config):e.language.toUpperCase():t.label:be.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!E.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!E.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=De.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map((e=>e.getCueAsHTML())).map(ve)}const r=t.map((e=>e.trim())).join("\n");if(r!==this.elements.captions.innerHTML){F(this.elements.captions);const e=P("span",U(this.config.selectors.caption));e.innerHTML=r,this.elements.captions.appendChild(e),ee.call(this,this.media,"cuechange")}}},Ie={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Be="picture-in-picture",Pe="inline",Me={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Oe="audio",Fe="video",Ne=()=>{};class Ue{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Ne}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ne}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Ne}}class Ge{constructor(t){e(this,"onChange",(()=>{if(!this.supported)return;const e=this.player.elements.buttons.fullscreen;E.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;ee.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)})),e(this,"toggleFallback",((e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",H(this.target,this.player.config.classNames.fullscreen.fallback,e),L.isIos){let t=document.head.querySelector('meta[name="viewport"]');const r="viewport-fit=cover";t||(t=document.createElement("meta"),t.setAttribute("name","viewport"));const n=E.string(t.content)&&t.content.includes(r);e?(this.cleanupViewport=!n,n||(t.content+=`,${r}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter((e=>e.trim()!==r)).join(","))}this.onChange()})),e(this,"trapFocus",(e=>{if(L.isIos||L.isIPadOS||!this.active||"Tab"!==e.key)return;const t=document.activeElement,r=j.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=r,i=r[r.length-1];t!==i||e.shiftKey?t===n&&e.shiftKey&&(i.focus(),e.preventDefault()):(n.focus(),e.preventDefault())})),e(this,"update",(()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":Ge.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");H(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)})),e(this,"enter",(()=>{this.supported&&(L.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Ge.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?E.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))})),e(this,"exit",(()=>{if(this.supported)if(L.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ne(this.player.play());else if(!Ge.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!E.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)})),e(this,"toggle",(()=>{this.active?this.exit():this.enter()})),this.player=t,this.prefix=Ge.prefix,this.property=Ge.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){const{prototype:r}=Element;return(r.closest||function(){let e=this;do{if(z.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),X.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,(()=>{this.onChange()})),X.call(this.player,this.player.elements.container,"dblclick",(e=>{E.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")})),X.call(this,this.player.elements.container,"keydown",(e=>this.trapFocus(e))),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return Ge.nativeSupported&&!this.forceFallback}static get prefix(){if(E.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some((t=>!(!E.function(document[`${t}ExitFullscreen`])&&!E.function(document[`${t}CancelFullScreen`])||(e=t,0)))),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,Ge.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||Ge.nativeSupported||!L.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!Ge.nativeSupported||this.forceFallback)return V(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return L.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function He(e,t=1){return new Promise(((r,n)=>{const i=new Image,a=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?r:n)(i)};Object.assign(i,{onload:a,onerror:a,src:e})}))}const Ve={addStyleHook(){H(this.elements.container,this.config.selectors.container.replace(".",""),!0),H(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Ve.toggleNativeControls.call(this,!0);E.element(this.elements.controls)||(Se.inject.call(this),this.listeners.controls()),Ve.toggleNativeControls.call(this),this.isHTML5&&De.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Se.updateVolume.call(this),Se.timeUpdate.call(this),Se.durationUpdate.call(this),Ve.checkPlaying.call(this),H(this.elements.container,this.config.classNames.pip.supported,Y.pip&&this.isHTML5&&this.isVideo),H(this.elements.container,this.config.classNames.airplay.supported,Y.airplay&&this.isHTML5),H(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((()=>{ee.call(this,this.media,"ready")}),0),Ve.setTitle.call(this),this.poster&&Ve.setPoster.call(this,this.poster,!1).catch((()=>{})),this.config.duration&&Se.durationUpdate.call(this),this.config.mediaMetadata&&Se.setMediaMetadata.call(this)},setTitle(){let e=be.get("play",this.config);if(E.string(this.config.title)&&!E.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach((t=>{t.setAttribute("aria-label",e)})),this.isEmbed){const e=K.call(this,"iframe");if(!E.element(e))return;const t=E.empty(this.config.title)?"video":this.config.title,r=be.get("frameTitle",this.config);e.setAttribute("title",r.replace("{title}",t))}},togglePoster(e){H(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),re.call(this).then((()=>He(e))).catch((t=>{throw e===this.poster&&Ve.togglePoster.call(this,!1),t})).then((()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Ve.togglePoster.call(this,!0),e))))},checkPlaying(e){H(this.elements.container,this.config.classNames.playing,this.playing),H(this.elements.container,this.config.classNames.paused,this.paused),H(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",be.get(this.playing?"pause":"play",this.config))})),E.event(e)&&"timeupdate"===e.type||Ve.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((()=>{H(this.elements.container,this.config.classNames.loading,this.loading),Ve.toggleControls.call(this)}),this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const r=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||r))}},migrateStyles(){Object.values({...this.media.style}).filter((e=>!E.empty(e)&&E.string(e)&&e.startsWith("--plyr"))).forEach((e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)})),E.empty(this.media.style)&&this.media.removeAttribute("style")}};class ze{constructor(t){e(this,"firstTouch",(()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,H(t.container,e.config.classNames.isTouch,!0)})),e(this,"global",((e=!0)=>{const{player:t}=this;t.config.keyboard.global&&Q.call(t,window,"keydown keyup",this.handleKey,e,!1),Q.call(t,document.body,"click",this.toggleMenu,e),Z.call(t,document.body,"touchstart",this.firstTouch)})),e(this,"container",(()=>{const{player:e}=this,{config:t,elements:r,timers:n}=e;!t.keyboard.global&&t.keyboard.focused&&X.call(e,r.container,"keydown keyup",this.handleKey,!1),X.call(e,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(t=>{const{controls:i}=r;i&&"enterfullscreen"===t.type&&(i.pressed=!1,i.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Ve.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout((()=>Ve.toggleControls.call(e,!1)),a)}));const i=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=r.wrapper,{active:n}=e.fullscreen,[i,a]=ue.call(e),s=se(`aspect-ratio: ${i} / ${a}`);if(!n)return void(s?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[o,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=o/l>i/a;s?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?l/a*i+"px":null,t.style.margin=c?"0 auto":null)},a=()=>{clearTimeout(n.resized),n.resized=setTimeout(i,50)};X.call(e,r.container,"enterfullscreen exitfullscreen",(t=>{const{target:n}=e.fullscreen;n===r.container&&(!e.isEmbed&&E.empty(e.config.ratio)||(i(),("enterfullscreen"===t.type?X:J).call(e,window,"resize",a)))}))})),e(this,"media",(()=>{const{player:e}=this,{elements:t}=e;if(X.call(e,e.media,"timeupdate seeking seeked",(t=>Se.timeUpdate.call(e,t))),X.call(e,e.media,"durationchange loadeddata loadedmetadata",(t=>Se.durationUpdate.call(e,t))),X.call(e,e.media,"ended",(()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())})),X.call(e,e.media,"progress playing seeking seeked",(t=>Se.updateProgress.call(e,t))),X.call(e,e.media,"volumechange",(t=>Se.updateVolume.call(e,t))),X.call(e,e.media,"playing play pause ended emptied timeupdate",(t=>Ve.checkPlaying.call(e,t))),X.call(e,e.media,"waiting canplay seeked playing",(t=>Ve.checkLoading.call(e,t))),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const r=K.call(e,`.${e.config.classNames.video}`);if(!E.element(r))return;X.call(e,t.container,"click",(n=>{([t.container,r].includes(n.target)||r.contains(n.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(n,e.restart,"restart"),this.proxy(n,(()=>{ne(e.play())}),"play")):this.proxy(n,(()=>{ne(e.togglePlay())}),"play")))}))}e.supported.ui&&e.config.disableContextMenu&&X.call(e,t.wrapper,"contextmenu",(e=>{e.preventDefault()}),!1),X.call(e,e.media,"volumechange",(()=>{e.storage.set({volume:e.volume,muted:e.muted})})),X.call(e,e.media,"ratechange",(()=>{Se.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})})),X.call(e,e.media,"qualitychange",(t=>{Se.updateSetting.call(e,"quality",null,t.detail.quality)})),X.call(e,e.media,"ready qualitychange",(()=>{Se.setDownloadUrl.call(e)}));const r=e.config.events.concat(["keyup","keydown"]).join(" ");X.call(e,e.media,r,(r=>{let{detail:n={}}=r;"error"===r.type&&(n=e.media.error),ee.call(e,t.container,r.type,!0,n)}))})),e(this,"proxy",((e,t,r)=>{const{player:n}=this,i=n.config.listeners[r];let a=!0;E.function(i)&&(a=i.call(n,e)),!1!==a&&E.function(t)&&t.call(n,e)})),e(this,"bind",((e,t,r,n,i=!0)=>{const{player:a}=this,s=a.config.listeners[n],o=E.function(s);X.call(a,e,t,(e=>this.proxy(e,r,n)),i&&!o)})),e(this,"controls",(()=>{const{player:e}=this,{elements:t}=e,r=L.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach((t=>{this.bind(t,"click",(()=>{ne(e.togglePlay())}),"play")})),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",(()=>{e.lastSeekTime=Date.now(),e.rewind()}),"rewind"),this.bind(t.buttons.fastForward,"click",(()=>{e.lastSeekTime=Date.now(),e.forward()}),"fastForward"),this.bind(t.buttons.mute,"click",(()=>{e.muted=!e.muted}),"mute"),this.bind(t.buttons.captions,"click",(()=>e.toggleCaptions())),this.bind(t.buttons.download,"click",(()=>{ee.call(e,e.media,"download")}),"download"),this.bind(t.buttons.fullscreen,"click",(()=>{e.fullscreen.toggle()}),"fullscreen"),this.bind(t.buttons.pip,"click",(()=>{e.pip="toggle"}),"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",(t=>{t.stopPropagation(),t.preventDefault(),Se.toggleMenu.call(e,t)}),null,!1),this.bind(t.buttons.settings,"keyup",(t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Se.toggleMenu.call(e,t)):Se.focusFirstMenuItem.call(e,null,!0))}),null,!1),this.bind(t.settings.menu,"keydown",(t=>{"Escape"===t.key&&Se.toggleMenu.call(e,t)})),this.bind(t.inputs.seek,"mousedown mousemove",(e=>{const r=t.progress.getBoundingClientRect(),n=100/r.width*(e.pageX-r.left);e.currentTarget.setAttribute("seek-value",n)})),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(t=>{const r=t.currentTarget,n="play-on-seeked";if(E.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const i=r.hasAttribute(n),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(r.removeAttribute(n),ne(e.play())):!a&&e.playing&&(r.setAttribute(n,""),e.pause())})),L.isIos){const t=j.call(e,'input[type="range"]');Array.from(t).forEach((e=>this.bind(e,r,(e=>S(e.target)))))}this.bind(t.inputs.seek,r,(t=>{const r=t.currentTarget;let n=r.getAttribute("seek-value");E.empty(n)&&(n=r.value),r.removeAttribute("seek-value"),e.currentTime=n/r.max*e.duration}),"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",(t=>Se.updateSeekTooltip.call(e,t))),this.bind(t.progress,"mousemove touchmove",(t=>{const{previewThumbnails:r}=e;r&&r.loaded&&r.startMove(t)})),this.bind(t.progress,"mouseleave touchend click",(()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)})),this.bind(t.progress,"mousedown touchstart",(t=>{const{previewThumbnails:r}=e;r&&r.loaded&&r.startScrubbing(t)})),this.bind(t.progress,"mouseup touchend",(t=>{const{previewThumbnails:r}=e;r&&r.loaded&&r.endScrubbing(t)})),L.isWebKit&&Array.from(j.call(e,'input[type="range"]')).forEach((t=>{this.bind(t,"input",(t=>Se.updateRangeFill.call(e,t.target)))})),e.config.toggleInvert&&!E.element(t.display.duration)&&this.bind(t.display.currentTime,"click",(()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Se.timeUpdate.call(e))})),this.bind(t.inputs.volume,r,(t=>{e.volume=t.target.value}),"volume"),this.bind(t.controls,"mouseenter mouseleave",(r=>{t.controls.hover=!e.touch&&"mouseenter"===r.type})),t.fullscreen&&Array.from(t.fullscreen.children).filter((e=>!e.contains(t.container))).forEach((r=>{this.bind(r,"mouseenter mouseleave",(r=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===r.type)}))})),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",(e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(t.controls,"focusin",(()=>{const{config:r,timers:n}=e;H(t.controls,r.classNames.noTransition,!0),Ve.toggleControls.call(e,!0),setTimeout((()=>{H(t.controls,r.classNames.noTransition,!1)}),0);const i=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout((()=>Ve.toggleControls.call(e,!1)),i)})),this.bind(t.inputs.volume,"wheel",(t=>{const r=t.webkitDirectionInvertedFromDevice,[n,i]=[t.deltaX,-t.deltaY].map((e=>r?-e:e)),a=Math.sign(Math.abs(n)>Math.abs(i)?n:i);e.increaseVolume(a/50);const{volume:s}=e.media;(1===a&&s<1||-1===a&&s>0)&&t.preventDefault()}),"volume",!1)})),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:r}=t,{key:n,type:i,altKey:a,ctrlKey:s,metaKey:o,shiftKey:l}=e,c="keydown"===i,u=c&&n===this.lastKey;var d;if(!(a||s||o||l)&&n)if(c){const i=document.activeElement;if(E.element(i)){const{editable:n}=t.config.selectors,{seek:a}=r.inputs;if(i!==a&&z(i,n))return;if(" "===e.key&&z(i,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":u||(d=parseInt(n,10),t.currentTime=t.duration/10*d);break;case" ":case"k":u||ne(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":u||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":u||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===n&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}toggleMenu(e){Se.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var je=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},r={},n={};function i(e,t){e=e.push?e:[e];var i,a,s,o=[],l=e.length,c=l;for(i=function(e,r){r.length&&o.push(e),--c||t(o)};l--;)a=e[l],(s=r[a])?i(a,s):(n[a]=n[a]||[]).push(i)}function a(e,t){if(e){var i=n[e];if(r[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function s(t,r){t.call&&(t={success:t}),r.length?(t.error||e)(r):(t.success||e)(t)}function o(t,r,n,i){var a,s,l=document,c=n.async,u=(n.numRetries||0)+1,d=n.before||e,h=t.replace(/[\?|#].*$/,""),f=t.replace(/^(css|img)!/,"");i=i||0,/(^css!|\.css$)/.test(h)?((s=l.createElement("link")).rel="stylesheet",s.href=f,(a="hideFocus"in s)&&s.relList&&(a=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(s=l.createElement("img")).src=f:((s=l.createElement("script")).src=t,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(a)try{s.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((i+=1)<u)return o(t,r,n,i)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";r(t,l,e.defaultPrevented)},!1!==d(t,s)&&l.head.appendChild(s)}function l(e,t,r){var n,i,a=(e=e.push?e:[e]).length,s=a,l=[];for(n=function(e,r,n){if("e"==r&&l.push(e),"b"==r){if(!n)return;l.push(e)}--a||t(l)},i=0;i<s;i++)o(e[i],n,r)}function c(e,r,n){var i,o;if(r&&r.trim&&(i=r),o=(i?n:r)||{},i){if(i in t)throw"LoadJS";t[i]=!0}function c(t,r){l(e,(function(e){s(o,e),t&&s({success:t,error:r},e),a(i,e)}),o)}if(o.returnPromise)return new Promise(c);c()}return c.ready=function(e,t){return i(e,(function(e){s(t,e)})),c},c.done=function(e){a(e,[])},c.reset=function(){t={},r={},n={}},c.isDefined=function(e){return e in t},c}()}));function Ke(e){return new Promise(((t,r)=>{je(e,{success:t,error:r})}))}function qe(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ee.call(this,this.media,e?"play":"pause"))}const We={setup(){const e=this;H(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,de.call(e),E.object(window.Vimeo)?We.ready.call(e):Ke(e.config.urls.vimeo.sdk).then((()=>{We.ready.call(e)})).catch((t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready(){const e=this,t=e.config.vimeo,{premium:r,referrerPolicy:n,...i}=t;let a=e.media.getAttribute("src"),s="";E.empty(a)?(a=e.media.getAttribute(e.config.attributes.embed.id),s=e.media.getAttribute(e.config.attributes.embed.hash)):s=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(a);const o=s?{h:s}:{};r&&Object.assign(i,{controls:!1,sidedock:!1});const l=Re({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:e.config.playsinline,...o,...i}),c=(u=a,E.empty(u)?null:E.number(Number(u))?u:u.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:u);var u;const d=P("iframe"),h=pe(e.config.urls.vimeo.iframe,c,l);if(d.setAttribute("src",h),d.setAttribute("allowfullscreen",""),d.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),E.empty(n)||d.setAttribute("referrerPolicy",n),r||!t.customControls)d.setAttribute("data-poster",e.poster),e.media=N(d,e.media);else{const t=P("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(d),e.media=N(t,e.media)}t.customControls||_e(pe(e.config.urls.vimeo.api,h)).then((t=>{!E.empty(t)&&t.thumbnail_url&&Ve.setPoster.call(e,t.thumbnail_url).catch((()=>{}))})),e.embed=new window.Vimeo.Player(d,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=()=>(qe.call(e,!0),e.embed.play()),e.media.pause=()=>(qe.call(e,!1),e.embed.pause()),e.media.stop=()=>{e.pause(),e.currentTime=0};let{currentTime:f}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>f,set(t){const{embed:r,media:n,paused:i,volume:a}=e,s=i&&!r.hasPlayed;n.seeking=!0,ee.call(e,n,"seeking"),Promise.resolve(s&&r.setVolume(0)).then((()=>r.setCurrentTime(t))).then((()=>s&&r.pause())).then((()=>s&&r.setVolume(a))).catch((()=>{}))}});let p=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>p,set(t){e.embed.setPlaybackRate(t).then((()=>{p=t,ee.call(e,e.media,"ratechange")})).catch((()=>{e.options.speed=[1]}))}});let{volume:g}=e.config;Object.defineProperty(e.media,"volume",{get:()=>g,set(t){e.embed.setVolume(t).then((()=>{g=t,ee.call(e,e.media,"volumechange")}))}});let{muted:m}=e.config;Object.defineProperty(e.media,"muted",{get:()=>m,set(t){const r=!!E.boolean(t)&&t;e.embed.setMuted(!!r||e.config.muted).then((()=>{m=r,ee.call(e,e.media,"volumechange")}))}});let A,{loop:v}=e.config;Object.defineProperty(e.media,"loop",{get:()=>v,set(t){const r=E.boolean(t)?t:e.config.loop.active;e.embed.setLoop(r).then((()=>{v=r}))}}),e.embed.getVideoUrl().then((t=>{A=t,Se.setDownloadUrl.call(e)})).catch((e=>{this.debug.warn(e)})),Object.defineProperty(e.media,"currentSrc",{get:()=>A}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then((t=>{const[r,n]=t;e.embed.ratio=he(r,n),de.call(this)})),e.embed.setAutopause(e.config.autopause).then((t=>{e.config.autopause=t})),e.embed.getVideoTitle().then((t=>{e.config.title=t,Ve.setTitle.call(this)})),e.embed.getCurrentTime().then((t=>{f=t,ee.call(e,e.media,"timeupdate")})),e.embed.getDuration().then((t=>{e.media.duration=t,ee.call(e,e.media,"durationchange")})),e.embed.getTextTracks().then((t=>{e.media.textTracks=t,De.setup.call(e)})),e.embed.on("cuechange",(({cues:t=[]})=>{const r=t.map((e=>function(e){const t=document.createDocumentFragment(),r=document.createElement("div");return t.appendChild(r),r.innerHTML=e,t.firstChild.innerText}(e.text)));De.updateCues.call(e,r)})),e.embed.on("loaded",(()=>{e.embed.getPaused().then((t=>{qe.call(e,!t),t||ee.call(e,e.media,"playing")})),E.element(e.embed.element)&&e.supported.ui&&e.embed.element.setAttribute("tabindex",-1)})),e.embed.on("bufferstart",(()=>{ee.call(e,e.media,"waiting")})),e.embed.on("bufferend",(()=>{ee.call(e,e.media,"playing")})),e.embed.on("play",(()=>{qe.call(e,!0),ee.call(e,e.media,"playing")})),e.embed.on("pause",(()=>{qe.call(e,!1)})),e.embed.on("timeupdate",(t=>{e.media.seeking=!1,f=t.seconds,ee.call(e,e.media,"timeupdate")})),e.embed.on("progress",(t=>{e.media.buffered=t.percent,ee.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&ee.call(e,e.media,"canplaythrough"),e.embed.getDuration().then((t=>{t!==e.media.duration&&(e.media.duration=t,ee.call(e,e.media,"durationchange"))}))})),e.embed.on("seeked",(()=>{e.media.seeking=!1,ee.call(e,e.media,"seeked")})),e.embed.on("ended",(()=>{e.media.paused=!0,ee.call(e,e.media,"ended")})),e.embed.on("error",(t=>{e.media.error=t,ee.call(e,e.media,"error")})),t.customControls&&setTimeout((()=>Ve.build.call(e)),0)}};function Ye(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ee.call(this,this.media,e?"play":"pause"))}function $e(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Qe={setup(){if(H(this.elements.wrapper,this.config.classNames.embed,!0),E.object(window.YT)&&E.function(window.YT.Player))Qe.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{E.function(e)&&e(),Qe.ready.call(this)},Ke(this.config.urls.youtube.sdk).catch((e=>{this.debug.warn("YouTube API failed to load",e)}))}},getTitle(e){_e(pe(this.config.urls.youtube.api,e)).then((e=>{if(E.object(e)){const{title:t,height:r,width:n}=e;this.config.title=t,Ve.setTitle.call(this),this.embed.ratio=he(n,r)}de.call(this)})).catch((()=>{de.call(this)}))},ready(){const e=this,t=e.config.youtube,r=e.media&&e.media.getAttribute("id");if(!E.empty(r)&&r.startsWith("youtube-"))return;let n=e.media.getAttribute("src");E.empty(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));const i=(a=n,E.empty(a)?null:a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:a);var a;const s=P("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=N(s,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${i}/${e}default.jpg`;He(t("maxres"),121).catch((()=>He(t("sd"),121))).catch((()=>He(t("hq")))).then((t=>Ve.setPoster.call(e,t.src))).then((t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((()=>{}))}e.embed=new window.YT.Player(e.media,{videoId:i,host:$e(t),playerVars:D({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.playsinline&&!e.config.fullscreen.iosNative?1:0,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const r=t.data,n={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[r]||"An unknown error occurred";e.media.error={code:r,message:n},ee.call(e,e.media,"error")}},onPlaybackRateChange(t){const r=t.target;e.media.playbackRate=r.getPlaybackRate(),ee.call(e,e.media,"ratechange")},onReady(r){if(E.function(e.media.play))return;const n=r.target;Qe.getTitle.call(e,i),e.media.play=()=>{Ye.call(e,!0),n.playVideo()},e.media.pause=()=>{Ye.call(e,!1),n.pauseVideo()},e.media.stop=()=>{n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,ee.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(e){n.setPlaybackRate(e)}});let{volume:a}=e.config;Object.defineProperty(e.media,"volume",{get:()=>a,set(t){a=t,n.setVolume(100*a),ee.call(e,e.media,"volumechange")}});let{muted:s}=e.config;Object.defineProperty(e.media,"muted",{get:()=>s,set(t){const r=E.boolean(t)?t:s;s=r,n[r?"mute":"unMute"](),n.setVolume(100*a),ee.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const o=n.getAvailablePlaybackRates();e.options.speed=o.filter((t=>e.config.speed.options.includes(t))),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),ee.call(e,e.media,"timeupdate"),ee.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((()=>{e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&ee.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),ee.call(e,e.media,"canplaythrough"))}),200),t.customControls&&setTimeout((()=>Ve.build.call(e)),50)},onStateChange(r){const n=r.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(r.data)&&(e.media.seeking=!1,ee.call(e,e.media,"seeked")),r.data){case-1:ee.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),ee.call(e,e.media,"progress");break;case 0:Ye.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):ee.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ye.call(e,!0),ee.call(e,e.media,"playing"),e.timers.playing=setInterval((()=>{ee.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),ee.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ye.call(e,!1);break;case 3:ee.call(e,e.media,"waiting")}ee.call(e,e.elements.container,"statechange",!1,{code:r.data})}}})}},Xe={setup(){this.media?(H(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),H(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&H(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=P("div",{class:this.config.classNames.video}),I(this.media,this.elements.wrapper),this.elements.poster=P("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?fe.setup.call(this):this.isYouTube?Qe.setup.call(this):this.isVimeo&&We.setup.call(this)):this.debug.warn("No media element found!")}};class Je{constructor(t){e(this,"load",(()=>{this.enabled&&(E.object(window.google)&&E.object(window.google.ima)?this.ready():Ke(this.player.config.urls.googleIMA.sdk).then((()=>{this.ready()})).catch((()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))})))})),e(this,"ready",(()=>{var e;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((()=>{this.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()})),e(this,"setupIMA",(()=>{this.elements.container=P("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(e=>this.onAdsManagerLoaded(e)),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e)),!1),this.requestAds()})),e(this,"requestAds",(()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}})),e(this,"pollCountdown",((e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval((()=>{const e=we(Math.max(this.manager.getRemainingTime(),0)),t=`${be.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)}),100)})),e(this,"onAdsManagerLoaded",(e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(e=>this.onAdError(e))),Object.keys(google.ima.AdEvent.Type).forEach((e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],(e=>this.onAdEvent(e)))})),this.trigger("loaded")})),e(this,"addCuePoints",(()=>{E.empty(this.cuePoints)||this.cuePoints.forEach((e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(E.element(t)){const r=100/this.player.duration*e,n=P("span",{class:this.player.config.classNames.cues});n.style.left=`${r.toString()}%`,t.appendChild(n)}}}))})),e(this,"onAdEvent",(e=>{const{container:t}=this.player.elements,r=e.getAd(),n=e.getAdData();switch((e=>{ee.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=t.offsetWidth,r.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`)}})),e(this,"onAdError",(e=>{this.cancel(),this.player.debug.warn("Ads error",e)})),e(this,"listeners",(()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",(()=>{this.addCuePoints()})),this.player.on("ended",(()=>{this.loader.contentComplete()})),this.player.on("timeupdate",(()=>{t=this.player.currentTime})),this.player.on("seeked",(()=>{const e=this.player.currentTime;E.empty(this.cuePoints)||this.cuePoints.forEach(((r,n)=>{t<r&&r<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))}))})),window.addEventListener("resize",(()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)}))})),e(this,"play",(()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then((()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}})).catch((()=>{}))})),e(this,"resumeContent",(()=>{this.elements.container.style.zIndex="",this.playing=!1,ne(this.player.media.play())})),e(this,"pauseContent",(()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()})),e(this,"cancel",(()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()})),e(this,"loadAds",(()=>{this.managerPromise.then((()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise((e=>{this.on("loaded",e),this.player.debug.log(this.manager)})),this.initialized=!1,this.requestAds()})).catch((()=>{}))})),e(this,"trigger",((e,...t)=>{const r=this.events[e];E.array(r)&&r.forEach((e=>{E.function(e)&&e.apply(this,t)}))})),e(this,"on",((e,t)=>(E.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this))),e(this,"startSafetyTimer",((e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout((()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")}),e)})),e(this,"clearSafetyTimer",(e=>{E.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)})),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(((e,t)=>{this.on("loaded",e),this.on("error",t)})),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!E.empty(e.publisherId)||E.url(e.tagUrl))}get tagUrl(){const{config:e}=this;return E.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${Re({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Ze(e=0,t=0,r=255){return Math.min(Math.max(e,t),r)}const et=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach((e=>{const r={};e.split(/\r\n|\n|\r/).forEach((e=>{if(E.number(r.startTime)){if(!E.empty(e.trim())&&E.empty(r.text)){const t=e.trim().split("#xywh=");[r.text]=t,t[1]&&([r.x,r.y,r.w,r.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(r.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),r.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}})),r.text&&t.push(r)})),t},tt=(e,t)=>{const r={};return e>t.width/t.height?(r.width=t.width,r.height=1/e*t.width):(r.height=t.height,r.width=e*t.height),r};class rt{constructor(t){e(this,"load",(()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)}))})),e(this,"getThumbnails",(()=>new Promise((e=>{const{src:t}=this.player.config.previewThumbnails;if(E.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const r=()=>{this.thumbnails.sort(((e,t)=>e.height-t.height)),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(E.function(t))t((e=>{this.thumbnails=e,r()}));else{const e=(E.string(t)?[t]:t).map((e=>this.getThumbnail(e)));Promise.all(e).then(r)}})))),e(this,"getThumbnail",(e=>new Promise((t=>{_e(e).then((r=>{const n={frames:et(r),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const i=new Image;i.onload=()=>{n.height=i.naturalHeight,n.width=i.naturalWidth,this.thumbnails.push(n),t()},i.src=n.urlPrefix+n.frames[0].text}))})))),e(this,"startMove",(e=>{if(this.loaded&&E.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,r;const n=this.player.elements.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=we(this.seekTime);const a=null===(t=this.player.config.markers)||void 0===t||null===(r=t.points)||void 0===r?void 0:r.find((({time:e})=>e===Math.round(this.seekTime)));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}})),e(this,"endMove",(()=>{this.toggleThumbContainer(!1,!0)})),e(this,"startScrubbing",(e=>{(E.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))})),e(this,"endScrubbing",(()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Z.call(this.player,this.player.media,"timeupdate",(()=>{this.mouseDown||this.toggleScrubbingContainer(!1)}))})),e(this,"listeners",(()=>{this.player.on("play",(()=>{this.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(()=>{this.toggleThumbContainer(!1)})),this.player.on("timeupdate",(()=>{this.lastTime=this.player.media.currentTime}))})),e(this,"render",(()=>{this.elements.thumb.container=P("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=P("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=P("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=P("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),E.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=P("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)})),e(this,"destroy",(()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()})),e(this,"showImageAtCurrentTime",(()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex((e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime)),t=e>=0;let r=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach(((t,n)=>{this.loadedImages.includes(t.frames[e].text)&&(r=n)})),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(r)))})),e(this,"loadImage",((e=0)=>{const t=this.showingThumb,r=this.thumbnails[e],{urlPrefix:n}=r,i=r.frames[t],a=r.frames[t].text,s=n+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,i,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const r=new Image;r.src=s,r.dataset.index=t,r.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${s}`),r.onload=()=>this.showImage(r,i,e,t,a,!0),this.loadingImage=r,this.removeOldImages(r)}})),e(this,"showImage",((e,t,r,n,i,a=!0)=>{this.player.debug.log(`Showing thumb: ${i}. num: ${n}. qual: ${r}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(i)||this.loadedImages.push(i)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(r,e,t,i))})),e(this,"removeOldImages",(e=>{Array.from(this.currentImageContainer.children).forEach((t=>{if("img"!==t.tagName.toLowerCase())return;const r=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout((()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)}),r)}}))})),e(this,"preloadNearby",((e,t=!0)=>new Promise((r=>{setTimeout((()=>{const n=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===n){let i;i=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;i.forEach((e=>{const t=e.text;if(t!==n&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],n=e+t,i=new Image;i.src=n,i.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),r()}}})),a||r()}}),300)})))),e(this,"getHigherQuality",((e,t,r,n)=>{if(e<this.thumbnails.length-1){let i=t.naturalHeight;this.usingSprites&&(i=r.h),i<this.thumbContainerHeight&&setTimeout((()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(e+1))}),300)}})),e(this,"toggleThumbContainer",((e=!1,t=!1)=>{const r=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(r,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"toggleScrubbingContainer",((e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)})),e(this,"determineContainerAutoSizing",(()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)})),e(this,"setThumbContainerSizeAndPos",(()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()})),e(this,"setThumbContainerPos",(()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:r}=this.elements.thumb,n=t.left-e.left+10,i=t.right-e.left-r.clientWidth-10,a=this.mousePosX-e.left-r.clientWidth/2,s=Ze(a,n,i);r.style.left=`${s}px`,r.style.setProperty("--preview-arrow-offset",a-s+"px")})),e(this,"setScrubbingContainerSize",(()=>{const{width:e,height:t}=tt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`})),e(this,"setImageSizeAndOffset",((e,t)=>{if(!this.usingSprites)return;const r=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*r+"px",e.style.width=e.naturalWidth*r+"px",e.style.left=`-${t.x*r}px`,e.style.top=`-${t.y*r}px`})),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=tt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const nt={insertElements(e,t){E.string(t)?M(e,this.media,{src:t}):E.array(t)&&t.forEach((t=>{M(e,this.media,t)}))},change(e){R(e,"sources.length")?(fe.cancelRequests.call(this),this.destroy.call(this,(()=>{this.options.quality=[],O(this.media),this.media=null,E.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:r}=e,[{provider:n=Me.html5,src:i}]=t,a="html5"===n?r:"div",s="html5"===n?{}:{src:i};Object.assign(this,{provider:n,type:r,supported:Y.check(r,n,this.config.playsinline),media:P(a,s)}),this.elements.container.appendChild(this.media),E.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),E.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Ve.addStyleHook.call(this),this.isHTML5&&nt.insertElements.call(this,"source",t),this.config.title=e.title,Xe.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&nt.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ve.build.call(this),this.isHTML5&&this.media.load(),E.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rt(this))),this.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}};class it{constructor(t,r){if(e(this,"play",(()=>E.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((()=>this.ads.play())).catch((()=>ne(this.media.play()))),this.media.play()):null)),e(this,"pause",(()=>this.playing&&E.function(this.media.pause)?this.media.pause():null)),e(this,"togglePlay",(e=>(E.boolean(e)?e:!this.playing)?this.play():this.pause())),e(this,"stop",(()=>{this.isHTML5?(this.pause(),this.restart()):E.function(this.media.stop)&&this.media.stop()})),e(this,"restart",(()=>{this.currentTime=0})),e(this,"rewind",(e=>{this.currentTime-=E.number(e)?e:this.config.seekTime})),e(this,"forward",(e=>{this.currentTime+=E.number(e)?e:this.config.seekTime})),e(this,"increaseVolume",(e=>{const t=this.media.muted?0:this.volume;this.volume=t+(E.number(e)?e:0)})),e(this,"decreaseVolume",(e=>{this.increaseVolume(-e)})),e(this,"airplay",(()=>{Y.airplay&&this.media.webkitShowPlaybackTargetPicker()})),e(this,"toggleControls",(e=>{if(this.supported.ui&&!this.isAudio){const t=V(this.elements.container,this.config.classNames.hideControls),r=void 0===e?void 0:!e,n=H(this.elements.container,this.config.classNames.hideControls,r);if(n&&E.array(this.config.controls)&&this.config.controls.includes("settings")&&!E.empty(this.config.settings)&&Se.toggleMenu.call(this,!1),n!==t){const e=n?"controlshidden":"controlsshown";ee.call(this,this.media,e)}return!n}return!1})),e(this,"on",((e,t)=>{X.call(this,this.elements.container,e,t)})),e(this,"once",((e,t)=>{Z.call(this,this.elements.container,e,t)})),e(this,"off",((e,t)=>{J(this.elements.container,e,t)})),e(this,"destroy",((e,t=!1)=>{if(!this.ready)return;const r=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(O(this.elements.buttons.play),O(this.elements.captions),O(this.elements.controls),O(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),E.function(e)&&e()):(te.call(this),fe.cancelRequests.call(this),N(this.elements.original,this.elements.container),ee.call(this,this.elements.original,"destroyed",!0),E.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout((()=>{this.elements=null,this.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Ve.toggleNativeControls.call(this,!0),r()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&E.function(this.embed.destroy)&&this.embed.destroy(),r()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(r),setTimeout(r,200))})),e(this,"supports",(e=>Y.mime.call(this,e))),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Y.touch,this.media=t,E.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||E.nodeList(this.media)||E.array(this.media))&&(this.media=this.media[0]),this.config=D({},Ie,it.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new Ue(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Y),E.nullOrUndefined(this.media)||!E.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!Y.check().api)return void this.debug.error("Setup failed: no support");const n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;const i=this.media.tagName.toLowerCase();let a=null,s=null;switch(i){case"div":if(a=this.media.querySelector("iframe"),E.element(a)){if(s=Le(a.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?Me.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?Me.vimeo:null}(s.toString()),this.elements.container=this.media,this.media=a,this.elements.container.className="",s.search.length){const e=["1","true"];e.includes(s.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(s.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(s.searchParams.get("playsinline")),this.config.youtube.hl=s.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(E.empty(this.provider)||!Object.values(Me).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Fe;break;case"video":case"audio":this.type=i,this.provider=Me.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Y.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new ze(this),this.storage=new Ce(this),this.media.plyr=this,E.element(this.elements.container)||(this.elements.container=P("div"),I(this.media,this.elements.container)),Ve.migrateStyles.call(this),Ve.addStyleHook.call(this),Xe.setup.call(this),this.config.debug&&X.call(this,this.elements.container,this.config.events.join(" "),(e=>{this.debug.log(`event: ${e.type}`)})),this.fullscreen=new Ge(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ve.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Je(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",(()=>ne(this.play()))),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rt(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===Me.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===Me.youtube}get isVimeo(){return this.provider===Me.vimeo}get isVideo(){return this.type===Fe}get isAudio(){return this.type===Oe}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=E.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return E.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,r=E.number(t)&&t!==1/0?t:0;return e||r}set volume(e){let t=e;E.string(t)&&(t=Number(t)),E.number(t)||(t=this.storage.get("volume")),E.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!E.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;E.boolean(t)||(t=this.storage.get("muted")),E.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;E.number(e)&&(t=e),E.number(t)||(t=this.storage.get("speed")),E.number(t)||(t=this.config.speed.selected);const{minimumSpeed:r,maximumSpeed:n}=this;t=Ze(t,r,n),this.config.speed.selected=t,setTimeout((()=>{this.media&&(this.media.playbackRate=t)}),0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,r=this.options.quality;if(!r.length)return;let n=[!E.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(E.number),i=!0;if(!r.includes(n)){const e=ae(r,n);this.debug.warn(`Unsupported quality option: ${n}, using ${e} instead`),n=e,i=!1}t.selected=n,this.media.quality=n,i&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){const t=E.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){nt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return E.url(e)?e:this.source}set download(e){E.url(e)&&(this.config.urls.download=e,Se.setDownloadUrl.call(this))}set poster(e){this.isVideo?Ve.setPoster.call(this,e,!1).catch((()=>{})):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=ce(ue.call(this));return E.array(e)?e.join(":"):e}set ratio(e){this.isVideo?E.string(e)&&le(e)?(this.config.ratio=ce(e),de.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=E.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){De.toggle.call(this,e,!1)}set currentTrack(e){De.set.call(this,e,!1),De.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){De.setLanguage.call(this,e,!1)}get language(){return(De.getCurrentTrack.call(this)||{}).language}set pip(e){if(!Y.pip)return;const t=E.boolean(e)?e:!this.pip;E.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Be:Pe),E.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return Y.pip?E.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Be:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new rt(this))}static supported(e,t){return Y.check(e,t)}static loadSprite(e,t){return ke(e,t)}static setup(e,t={}){let r=null;return E.string(e)?r=Array.from(document.querySelectorAll(e)):E.nodeList(e)?r=Array.from(e):E.array(e)&&(r=e.filter(E.element)),E.empty(r)?null:r.map((e=>new it(e,t)))}}var at;return it.defaults=(at=Ie,JSON.parse(JSON.stringify(at))),it}())},4155:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var o,l=[],c=!1,u=-1;function d(){c&&o&&(c=!1,o.length?l=o.concat(l):u=-1,l.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(o=l,l=[];++u<t;)o&&o[u].run();u=-1,t=l.length}o=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},3379:(e,t,r)=>{"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),s=[];function o(e){for(var t=-1,r=0;r<s.length;r++)if(s[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],c=r[l]||0,u="".concat(l," ").concat(c);r[l]=c+1;var d=o(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:u,updater:m(h,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function f(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,g=0;function m(e,t){var r,n,i;if(t.singleton){var a=g++;r=p||(p=c(t)),n=h.bind(null,r,a,!1),i=h.bind(null,r,a,!0)}else r=c(t),n=f.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=o(r[n]);s[i].references--}for(var a=l(e,t),c=0;c<r.length;c++){var u=o(r[c]);0===s[u].references&&(s[u].updater(),s.splice(u,1))}r=a}}}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}},8593:e=>{"use strict";e.exports=JSON.parse('{"_args":[["axios@0.21.4","/home/reportsarokodru/learn.aroken.ru"]],"_development":true,"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"/home/reportsarokodru/learn.aroken.ru","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={id:e,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}n.m=t,e=[],n.O=(t,r,i,a)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,i,a]=e[u],o=!0,l=0;l<r.length;l++)(!1&a||s>=a)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(o=!1,a<s&&(s=a));if(o){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,i,a]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={685:0,870:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var i,a,[s,o,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)var u=l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var i=n.O(void 0,[870],(()=>n(355)));i=n.O(i)})();
//# sourceMappingURL=player.js.map